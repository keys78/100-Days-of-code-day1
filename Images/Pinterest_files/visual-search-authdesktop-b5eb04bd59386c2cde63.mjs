(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([["www/pin/[id]/visual-search-authdesktop",60,84,208,217,266,"STeLAContainerWrapperCommon","SearchPageFiltersDrawer"],{"+vFu":function(e,t,n){n.r(t),n.d(t,"STeLAContainerWrapper",(function(){return w}));var i=n("q1tI"),a=n.n(i),r=n("/MKj"),o=n("Q3yk");function s(e){return{type:"STELA_SELECT",payload:{selectedStelaItem:e}}}var l=n("mlX6"),c=n("zJ39"),d=n("ihsa"),u=n("qLDv"),m=n("U4JR"),p=n("n6mq");const h={};function f({alwaysShow:e,contextLogData:t,imageHeight:n,imageWidth:r,isSelected:o,label:s,labelPressState:l,xPos:f,yPos:g}){const b=Object(i.useRef)();Object(i.useEffect)(()=>{Object(m.b)(120,{view:3,...t})},[]),Object(i.useEffect)(()=>{h[s]={}},[s]),Object(i.useEffect)(()=>{const e=b.current&&b.current.getBoundingClientRect().width;h[s].width=e},[b.current]);const y={backgroundColor:e&&o?"#000":"rgba(255, 255, 255)",zIndex:5,whiteSpace:"nowrap",left:(h[s]||{}).left?-((h[s]||{}).width+u.c):void 0},E={none:{...y,opacity:0},down:{...y,animation:"stelaSlideIn .3s ease-in-out forwards"},up:{...y,animation:"stelaSlideOut .3s ease-in-out forwards"}},w=(h[s]||{}).width;let _=f,v=g;return f+w>r?_=r-w:f<0&&(_=0),g+33>n?v=n-33:g<0&&(v=0),a.a.createElement(p.e,{dangerouslySetInlineStyle:{__style:{top:v,left:_}},display:"flex",position:"absolute"},a.a.createElement(d.a,{unsafeCSS:Object(c.a)()}),a.a.createElement(p.e,{ref:b,dangerouslySetInlineStyle:e?{__style:{...y,opacity:(h[s]||{}).width?1:0}}:{__style:(h[s]||{}).width?{...E[l||"none"]}:{opacity:0}},padding:2,position:"relative",rounding:"pill"},a.a.createElement(p.V,{align:"left",color:e&&o?"white":"darkGray",overflow:"normal",size:"md",weight:"bold"},s)))}var g=n("uhAL"),b=n("EC67");const y=()=>{};var E=Object(b.k)((function({alwaysShow:e,cropSource:t,currentSpotlightIdx:n,handleStelaClick:i,height:c,index:d,history:h,labelPressState:b,onStelaDotAnimationComplete:E,pin:w,searchQuery:_,stelaDotAnimationType:v,stelaArea:S,trafficSource:O,width:T}){const I=Object(r.useDispatch)(),C={x:((S.label_x||S.x)+S.w/2)*T,y:((S.label_y||S.x)+S.h/2)*c},x={element:1221,image_signature:w.image_signature,visual_objects:JSON.stringify({x:S.x,y:S.y,w:S.w,h:S.h,object_category:S.label}),pin_id:w.id,commerce_data:JSON.stringify({pin_is_stela:!0})};return a.a.createElement(p.U,{onMouseEnter:y,onMouseLeave:y,onTap:()=>{if(e?Object(m.b)(101,{view:427,...x}):Object(m.b)(101,{view:3,...x}),e&&i&&S&&d)I(s(S)),i(d);else if(S&&h){const{height:e,width:t}=Object(o.a)(w,u.b),n=Object(g.e)({cropArea:S,scaledWidth:t,scaledHeight:e});let i=`/pin/${w.id}/related-products/?x=${n.x}&y=${n.y}&w=${n.w}&h=${n.h}&entrySource=shopping&cropSource=4`;_&&(i=i.concat("&q="+_)),O&&(i=i.concat("&rs="+O)),I(s(S)),h.push(i)}}},a.a.createElement(p.e,{dangerouslySetInlineStyle:{__style:{top:C.y,left:C.x}},display:"flex",position:"absolute","data-test-id":"stela-label-dot"},("inOut"===v||!S.label&&("down"===b||e)||T<=400&&e)&&a.a.createElement(l.a,{alwaysShow:e,contextLogData:x,isSelected:S.isSelected,onStelaDotAnimationComplete:E,stelaDotAnimationType:v,imageSignature:w.image_signature})),S.label&&!(e&&T<=400)&&a.a.createElement(f,{alwaysShow:e,contextLogData:x,imageWidth:T,imageHeight:c,isSelected:S.isSelected,label:S.label,labelPressState:b,xPos:C.x,yPos:C.y}))}));function w({alwaysShow:e,cropSource:t,closeupImageHovered:n,currentSpotlightIdx:i,handleStelaClick:o,height:s,history:l,labelPressState:c,onStelaDotAnimationComplete:d,pin:u,searchQuery:m,shopButtonHovered:h,stelaDotAnimationType:f,trafficSource:b,width:y}){const w=Object(r.useSelector)(e=>e.stela)||{},{visual_objects:_}=u||{},v=(!!_&&Object(g.c)(_)||[]).map(e=>{if(w.selectedStelaItem){const{x:t,y:n}=w.selectedStelaItem;if(e.x===t&&e.y===n)return{...e,isSelected:!0}}return{...e,isSelected:!1}});return a.a.createElement(p.e,{height:s,position:"absolute",width:y,dangerouslySetInlineStyle:{__style:"in"===f||n&&!h?{backgroundColor:"rgba(0, 0, 0, 0.2)"}:{}}},v.map((n,r)=>a.a.createElement(E,{alwaysShow:e,cropSource:t,currentSpotlightIdx:i,key:`${n.x}${n.y}`,height:s,index:r,handleStelaClick:o,labelPressState:c,onStelaDotAnimationComplete:d,pin:u,searchQuery:m,stelaDotAnimationType:f,stelaArea:n,trafficSource:b,width:y})))}t.default=Object(b.k)(w)},"+wdc":function(e,t,n){var i,a,r,o,s;if("undefined"==typeof window||"function"!=typeof MessageChannel){var l=null,c=null,d=function(){if(null!==l)try{var e=t.unstable_now();l(!0,e),l=null}catch(n){throw setTimeout(d,0),n}},u=Date.now();t.unstable_now=function(){return Date.now()-u},i=function(e){null!==l?setTimeout(i,0,e):(l=e,setTimeout(d,0))},a=function(e,t){c=setTimeout(e,t)},r=function(){clearTimeout(c)},o=function(){return!1},s=t.unstable_forceFrameRate=function(){}}else{var m=window.performance,p=window.Date,h=window.setTimeout,f=window.clearTimeout;if("undefined"!=typeof console){var g=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof g&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"==typeof m&&"function"==typeof m.now)t.unstable_now=function(){return m.now()};else{var b=p.now();t.unstable_now=function(){return p.now()-b}}var y=!1,E=null,w=-1,_=5,v=0;o=function(){return t.unstable_now()>=v},s=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):_=0<e?Math.floor(1e3/e):5};var S=new MessageChannel,O=S.port2;S.port1.onmessage=function(){if(null!==E){var e=t.unstable_now();v=e+_;try{E(!0,e)?O.postMessage(null):(y=!1,E=null)}catch(n){throw O.postMessage(null),n}}else y=!1},i=function(e){E=e,y||(y=!0,O.postMessage(null))},a=function(e,n){w=h((function(){e(t.unstable_now())}),n)},r=function(){f(w),w=-1}}function T(e,t){var n=e.length;e.push(t);e:for(;;){var i=n-1>>>1,a=e[i];if(!(void 0!==a&&0<x(a,t)))break e;e[i]=t,e[n]=a,n=i}}function I(e){return void 0===(e=e[0])?null:e}function C(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var i=0,a=e.length;i<a;){var r=2*(i+1)-1,o=e[r],s=r+1,l=e[s];if(void 0!==o&&0>x(o,n))void 0!==l&&0>x(l,o)?(e[i]=l,e[s]=n,i=s):(e[i]=o,e[r]=n,i=r);else{if(!(void 0!==l&&0>x(l,n)))break e;e[i]=l,e[s]=n,i=s}}}return t}return null}function x(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var P=[],R=[],k=1,j=null,A=3,D=!1,L=!1,N=!1;function M(e){for(var t=I(R);null!==t;){if(null===t.callback)C(R);else{if(!(t.startTime<=e))break;C(R),t.sortIndex=t.expirationTime,T(P,t)}t=I(R)}}function B(e){if(N=!1,M(e),!L)if(null!==I(P))L=!0,i(F);else{var t=I(R);null!==t&&a(B,t.startTime-e)}}function F(e,n){L=!1,N&&(N=!1,r()),D=!0;var i=A;try{for(M(n),j=I(P);null!==j&&(!(j.expirationTime>n)||e&&!o());){var s=j.callback;if(null!==s){j.callback=null,A=j.priorityLevel;var l=s(j.expirationTime<=n);n=t.unstable_now(),"function"==typeof l?j.callback=l:j===I(P)&&C(P),M(n)}else C(P);j=I(P)}if(null!==j)var c=!0;else{var d=I(R);null!==d&&a(B,d.startTime-n),c=!1}return c}finally{j=null,A=i,D=!1}}function z(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var H=s;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){L||D||(L=!0,i(F))},t.unstable_getCurrentPriorityLevel=function(){return A},t.unstable_getFirstCallbackNode=function(){return I(P)},t.unstable_next=function(e){switch(A){case 1:case 2:case 3:var t=3;break;default:t=A}var n=A;A=t;try{return e()}finally{A=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=H,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=A;A=e;try{return t()}finally{A=n}},t.unstable_scheduleCallback=function(e,n,o){var s=t.unstable_now();if("object"==typeof o&&null!==o){var l=o.delay;l="number"==typeof l&&0<l?s+l:s,o="number"==typeof o.timeout?o.timeout:z(e)}else o=z(e),l=s;return e={id:k++,callback:n,priorityLevel:e,startTime:l,expirationTime:o=l+o,sortIndex:-1},l>s?(e.sortIndex=l,T(R,e),null===I(P)&&e===I(R)&&(N?r():N=!0,a(B,l-s))):(e.sortIndex=o,T(P,e),L||D||(L=!0,i(F))),e},t.unstable_shouldYield=function(){var e=t.unstable_now();M(e);var n=I(P);return n!==j&&null!==j&&null!==n&&null!==n.callback&&n.startTime<=e&&n.expirationTime<j.expirationTime||o()},t.unstable_wrapCallback=function(e){var t=A;return function(){var n=A;A=t;try{return e.apply(this,arguments)}finally{A=n}}}},"/QE7":function(e,t,n){n.d(t,"a",(function(){return o}));var i=n("q1tI"),a=n("z19Z"),r=n("EC67");function o(e){const{children:t,__dangerouslyDisableSpammyDomainCheck:n,externalData:o,href:s,isExternalLink:l=!1,onClick:c,onHistoryChange:d,target:u}=e,[m,p]=Object(i.useState)(null),[h,f]=Object(i.useState)(!1),g=Object(r.g)(),b=Object(r.h)();return Object(i.useEffect)(()=>(f(!0),()=>{f(!1)}),[]),Object(i.useEffect)(()=>{l&&!n&&null===m&&Object(a.a)({isMounted:h,pin:null==o?void 0:o.pin,location:b,spamCheckCallback:e=>p(e),href:s})},[e]),t({handleClick:({event:e})=>{Object(a.b)({isExternalLink:l,event:e})||(e.nativeEvent.preventDefault(),c&&c({event:e}),s&&(l?Object(a.c)({href:s,pinId:null==o?void 0:o.pinId,pin:null==o?void 0:o.pin,location:b,auxData:null==o?void 0:o.auxData,spamCheck:m}):Object(a.d)({event:e,onHistoryChange:d,href:s,history:g,target:"blank"===u?"blank":null})))}})}},"0PSK":function(e,t,n){var i=n("q1tI"),a=n.n(i);t.a=a.a.createContext(null)},"0Rm8":function(e,t,n){n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var i=n("q1tI");const a=n("NwjN").a;function r({children:e}){return e(Object(i.useContext)(a))}function o(){return Object(i.useContext)(a)}},"0bYG":function(e,t){e.exports={ReasonToChoose:{REPIN_BOARD:1,USER_ACTIVITY:4,CLICKTHROUGH:9,FRESH_REPIN_BOARD:47,FRESH_CLICKTHROUGH:48,FRESH_USER_ACTIVITY:49,LOCAL_REPIN_BOARD:13,LOCAL_CLICKTHROUGH:32,LOCAL_USER_ACTIVITY:33,P2P_CLICKTHROUGH:28,INSTANT_PFY_NON_MATERIALIZABLE:36,FOLLOWED_INTEREST:5,TOPIC_BEST_PINS:70,RECOMMENDED_TOPICS:65,GRAPHSAGE_USER_EMBEDDINGS_TO_ORGANIC_PINS:109,NAVBOOST_PFY:89,NAVBOOST_P2P:88,NOTIFICATION_NEWS_HUB:138,GEMINI_INTERESTS_FRESH:104,INTENTIONAL_DISTRIBUTION_USER_TO_CREATOR_STORY_PIN:100,INTENTIONAL_DISTRIBUTION_USER_TO_CREATOR_VIDEO:95,INTENTIONAL_DISTRIBUTION_DOMAIN:86,INTENTIONAL_DISTRIBUTION_TOPICS_STORY_PINS:91,INTENTIONAL_DISTRIBUTION_TOPICS_VIDEO:98,GRAPHSAGE_MULTI_PINS_TO_CREATOR_PINS_REALTIME:135,GRAPHSAGE_MULTI_PINS_TO_VIDEO_PINS_REALTIME:139,GRAPHSAGE_MULTI_PINS_TO_STORY_PINS_REALTIME:140,INTENTIONAL_DISTRIBUTION_MANUAL_TAGGEED_INTERESTS_VIDEO:118,INTENTIONAL_DISTRIBUTION_MANUAL_TAGGED_INTERESTS_STORY_PIN:130,CREATOR_DIRECT_INJECT:148,USER_INTERESTS_TO_LONGTERM_CREATOR_PINS:141,GRAPHSAGE_PRODUCT_PINS:97,GRAPHSAGE_USER_EMBEDDINGS_TO_PINS:108,PROMOTED_PIN:15,UNKNOWN:0,RECOMMENDED_CATEGORY:2,COOKIE_MONSTER:3,REALTIME_P2B:6,REALTIME_P2B_CLOSEUP:22,RECOMMENDED_INTEREST:7,VISUALLY_SIMILAR:8,BOARD_FOLLOW:35,USER_FOLLOW:45,RECOMMENDED_COMMERCE:10,EVERYTHING_FEED:11,RECOMMENDED_LOCAL_PIN:12,SEARCH:46,P2P_USER_COMMERCE:16,COMMERCE_EDUCATION:17,LANDING_PAGE_PINS:18,FOLLOWING_FEED:19,POPULAR_FEED:20,P2P_DYNAMIC_GRID:23,LANDING_PAGE_INTEREST_PINS:24,FRESH_PIN_FROM_PIN:25,FRESH_PIN_FROM_INTEREST:26,FRESH_PIN_FROM_BOARD:27,SIFTER_VIDEO_FROM_INTEREST:39,SIFTER_PRODUCTS:57,SIFTER_DISTRIBUTION_A:50,SIFTER_DISTRIBUTION_B:51,SIFTER_DISTRIBUTION_C:52,SIFTER_DISTRIBUTION_D:53,SIFTER_DISTRIBUTION_E:54,SIFTER_ACTIVATION_EXPERIMENT:58,SIFTER_FRESHMAKER_PIN_FROM_INTEREST:40,P2P_CLOSEUP:29,P2P_LIKE:30,P2P_PIN_CREATE:31,INSTANT_PFY:34,DYNAMIC_INSERTION:37,DYNAMIC_INSERTION_BOARD_FOLLOW:38,HYPERLOCAL_INTEREST_BOARD:41,NUX_BOARD_FOLLOW_P2P:42,INDIRECT_DOMAIN_PIN:43,PIXIE_PINS_FOR_BOARD:44,SCREENSHOT_SAVE:55,TEXT_EMBEDDINGS:56,FRESH_TEXT_EMBEDDINGS:67,PREFETCH_LOAD:60,DIVERSE_TOPICS:62,QUIZ_RESULTS:63,INTENTIONAL_DISTRIBUTION_TOPICS:64,INTENTIONAL_DISTRIBUTION_TOPICS_THIRD_PARTY:90,INTENTIONAL_DISTRIBUTION_GEMINI:73,INTENTIONAL_DISTRIBUTION_GEMINI_V5:120,INTENTIONAL_DISTRIBUTION_SHOP_STYLE_STL:74,INTENTIONAL_DISTRIBUTION_GRAPHSAGE:78,INTENTIONAL_DISTRIBUTION_REPIN_BOARD:80,INTENTIONAL_DISTRIBUTION_CLICKTHROUGH:81,INTENTIONAL_DISTRIBUTION_USER_ACTIVITY:82,INTENTIONAL_DISTRIBUTION_CREATOR_BASELINE:92,INTENTIONAL_DISTRIBUTION_RECOMMENDED_TOPICS:102,INTENTIONAL_DISTRIBUTION_RECOMMENDED_TOPICS_STORY_PIN:103,INTENTIONAL_DISTRIBUTION_RECOMMENDED_TOPICS_DIVERSITY:105,PIXIE_RECENT_ACTION:66,NATIVE_CONTENT_TOPICS:68,BUBBLE_OPEN_TOPICS:69,TOPIC_BEST_PINS_V2:77,DAILY_BEST_PINS:79,TOPIC_BEST_PINS_V3:101,DARK_PROMOTED_PIN:71,POST_EXPLORE_TOPICS:72,GRAPHSAGE_EMBEDDINGS:75,DEMOGRAPHIC_PFY:76,SHOPPING_STL:83,UNAUTH_PIXIE_P2B:84,UNAUTH_PIXIE_P2P:85,VIDEO_EMBEDDINGS:87,VIDEO_EMBEDDINGS_GEMINI_V5:121,GEMINI_V5_EMBEDDINGS_STATIC:93,GEMINI_V5_EMBEDDINGS_FRESH:94,GEMINI_V5_EMBEDDINGS_REALTIME:106,GEMINI_V5_EMBEDDINGS_STORYPIN:107,CURATED_VIDEO_INTEREST:96,GRAPHSAGE_PRODUCT_PINS_LONGER_HISTORY:112,GRAPHSAGE_SHOPPABLE_INSPIRATION:126,GRAPHSAGE_PRODUCT_PINS_EXPERIMENTAL:134,NUX_GRAPHSAGE:99,GRAPHSAGE_USER_EMBEDDINGS_TO_PRODUCT_PINS:110,GRAPHSAGE_VIDEO_PINS:113,RECBOOST_REPIN_BOARD:114,RECBOOST_CLICKTHROUGH:115,RECBOOST_USER_ACTIVITY:116,RECBOOST_CREATOR_BOARDS:129,RECOMMENDED_BOARDS:117,RECOMMENDED_ANNOTATION_BOARDS:136,RECOMMENDED_GRAPHSAGE_BOARDS:153,RECOMMENDED_CREATOR_BOARDS:124,ANNOTATION_REC_CREATOR_BOARDS:127,INTENTIONAL_DISTRIBUTION_MANUAL_INTERESTS_VIDEO:119,INTENTIONAL_DISTRIBUTION_INTERESTS_VIDEO:143,INTENTIONAL_DISTRIBUTION_INTERESTS_STORY_PIN:144,REPIN_CREATOR_BOARD:122,GRAPHSAGE_USER_EMBEDDINGS_TO_CREATOR_PINS:123,GRAPHSAGE_USER_EMBEDDINGS_TO_CREATOR_PINS_REALTIME:131,FRESH_SIG_FROM_BOARD:125,RECENT_ENGAGED_CREATOR_BOARDS:128,RECENT_ENGAGED_BOARDS:132,SHOPPING_CREATOR_REALTIME:133,GRAPHSAGE_BASED_RECOMMENDED_CREATOR_BOARDS:137,PIXIE_P2P:142,NEW_USE_CASE_PINS:145,RECBOOST_NEW_USE_CASES:146,SEARCHSAGE_PFY:147,SEARCHSAGE_SHOPPING_PFY:155,INTEREST_EXPLORATION:149,INTEREST_EXPLORATION_TRENDY_QUERIES:150,INTEREST_EXPLORATION_RELATED_INTERESTS:151,RECBOOST_INTERESTS:152,HF_STORY_SHOPPING_RETARGETING:154,RECBOOST_STORY_PINS:156,RECBOOST_STORY_BOARDS:157,PINNABILITY_EMBEDDINGS:158,PINNABILITY_FRESH_STORY_EMBEDDINGS:159,PINNABILITY_STORY_EMBEDDINGS:160,RTC_IMPROVEMENT_TEST_1:501,RTC_IMPROVEMENT_TEST_2:502,RTC_IMPROVEMENT_TEST_3:503,RTC_IMPROVEMENT_TEST_4:504,RTC_IMPROVEMENT_TEST_5:505,RTC_IMPROVEMENT_TEST_6:506,RTC_IMPROVEMENT_TEST_7:507,RTC_IMPROVEMENT_TEST_8:508,RTC_IMPROVEMENT_TEST_9:509,RTC_IMPROVEMENT_TEST_10:510,RTC_IMPROVEMENT_TEST_11:511,RTC_IMPROVEMENT_TEST_12:512,RTC_IMPROVEMENT_TEST_13:513,RTC_IMPROVEMENT_TEST_14:514,RTC_IMPROVEMENT_TEST_15:515,RTC_BLENDER_TEST:516,P2P_COMMERCE:21,P2P:14,LENS_CAMERA_VISUALLY_SIMILAR:111,RECENT_FOLLOWED_INTEREST:59,RECENT_FOLLOWED_BOARD:61},ThroughObjectType:{PIN_ID:1,IMAGE_SIGNATURE:2,BOARD_ID:3,INTEREST_ID:4,SEARCH_QUERY:5,CREATOR_ID:6,ANNOTATION_ID:7}}},"0rqB":function(e,t,n){n.d(t,"a",(function(){return d}));var i=n("q1tI"),a=n.n(i),r=n("clxp"),o=n("n6mq");function s({children:e,group:t,isEligible:n,name:i,performsActivate:r}){let s=r?"#0f0":"#00f";return n||(s="#999"),a.a.createElement(o.e,{position:"relative"},e,a.a.createElement(o.e,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,dangerouslySetInlineStyle:{__style:{boxShadow:"0 0 2px 2px "+s,borderRadius:5}}}),a.a.createElement(o.e,{position:"absolute",top:!0,left:!0,color:"lightGray"},i,": ",t))}var l=n("NVsV");const c=a.a.memo(({activate:e=!0,activateExperiment:t,isEligible:n=!0,name:o,group:l,overrideGroup:c=null,highlighted:d=!1,children:u})=>{Object(i.useEffect)(()=>{e&&n&&t&&t(o)},[]);const m=()=>"string"==typeof c?c:l,p=m(),h=`Experiment(${o}:${p})`,f=n&&p&&(p.startsWith("enabled")||p.startsWith("employee"))||!1,g={group:n?p:"",anyEnabled:f,customActivate:n&&!e?()=>n?t(o):"":null};return(t=>{const i=m();return d?a.a.createElement(s,{group:i,isEligible:n,name:o,performsActivate:e},t):t})(a.a.createElement(r.a,{name:h},u(g)))});function d(e){const{name:t}=e,{debuggingEnabled:n,overriddenExperiments:r,highlightedExperiment:o,setExperimentVisible:s}=Object(i.useContext)(l.c),d=n&&r&&"string"==typeof r[t]?r[t]:null,u=n&&(o===t||o===l.a);return Object(i.useEffect)(()=>{if(n)return s(t,!0),()=>s(t,!1)},[t,n]),a.a.createElement(c,Object.assign({},e,{overrideGroup:d,highlighted:u}))}},"16Al":function(e,t,n){var i=n("WbBG");function a(){}function r(){}r.resetWarningCache=a,e.exports=function(){function e(e,t,n,a,r,o){if(o!==i){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:r,resetWarningCache:a};return n.PropTypes=n,n}},"17x9":function(e,t,n){e.exports=n("16Al")()},"1Fta":function(e,t,n){var i=n("kmwA"),a=n("pSsd");const r=e=>e.length>32?e.substring(0,32).trim()+"...":e;t.a=({i18n:e,interpolateNamedTemplate:t})=>({getLearnMoreUrl:e=>{switch(e){case 1:return i.a.settings.HELP_PROMOTED_PINS_RETARGETED_PIN_URL;case 2:case 3:return i.a.settings.HELP_PROMOTED_PINS_LOOKALIKE_TARGETING_URL;default:return i.a.settings.HELP_PROMOTED_PINS_URL}},getRecommendationDescription:({ad_match_reason:n,board:i,feedbackType:a,makeNavigateLink:o,pinner:s,promoter:l,recommendationReason:c,sourceInterest:d})=>{switch(a){case"pfy":return e._("This Pin was inspired by your recent activity","Pin feedback reason","Pin feedback reason");case"pfyBoard":const{name:a,url:u}=c.board,m=o("navigation",u,a);return t(e._("This Pin was inspired by your board {{ boardLink }}","Pin feedback - inspired by your board","Pin feedback - inspired by your board"),{boardLink:m});case"topic":const{name:p,url_name:h}=d,f=o("topicUrl","/topics/"+h,p);return t(e._("This Pin was inspired by {{ formattedTopic }}","Pin feedback","Pin feedback"),{formattedTopic:f});case"followed":const g="/"+s.username,b=o("boardUrl",i.url,r(i.name)),y=o("pinnerUrl",g,r(s.full_name));return s.explicitly_followed_by_me?t(e._("This Pin is from {{ formattedPinner }}, a profile you follow","Pin feedback","Pin feedback"),{formattedPinner:y}):t(e._("This Pin is from {{ formattedBoard }}, a board you follow","Pin feedback","Pin feedback"),{formattedBoard:b});case"promoted":switch(n){case 1:case 2:case 3:return e._("This ad was personalized for you using info from one of our partners","Pin feedback","Pin feedback");default:const{full_name:n,username:i}=l,a=o("promotedLink",i?"/"+i+"/":"/",n);return t(e._("{{ promoterLink }} paid to have this Pin show up where\n          you’d be more likely to notice it","Pin feedback","Pin feedback"),{promoterLink:a})}default:return null}},getFeedbackType({board:e,feedback:t,viewParameter:n,pin:{promoter:i,is_downstream_promotion:a,recommendation_reason:r},pinner:o}){const s=t&&t.type;return i&&!a?"promoted":s||((e=>!!e&&"FOLLOWED_INTEREST"!==e.reason&&"FOLLOWING_FEED"!==e.reason&&"RECENT_FOLLOWED_BOARD"!==e.reason&&!0)(r)?r.board?"pfyBoard":"pfy":r&&"FOLLOWED_INTEREST"===r.reason?"topic":e&&e.followed_by_me||o&&o.explicitly_followed_by_me?"followed":140===n||144===n||141===n||145===n||139===n||3173===n?"related":92===n?"default":3082===n?"newsHub":null)},getHidePinAction:({feedbackData:e,feedbackType:t,pinId:n,recommendationReasonId:i,pinFeedbackType:a,complaintReason:r,throughId:o,throughProperties:s,clientTrackingParams:l})=>{const c="promoted"===t;let d,u;switch(t){case"promoted":d="promotedComplaint";break;case"search":d="unrelatedSearchPin";break;case"related":d="relatedPinHide";break;case"newsHub":d="newsHubPinHide";break;default:d="complaint"}switch(t){case"search":u={query:e.query,pin_id:n};break;case"related":u={pin:n};break;case"newsHub":u={pinId:n,newsId:e.newsId};break;default:u={complaint_reason:r||0,pin_id:n,...i?{recommendation_reason_id:i}:{},feedback_type:a||1,promoted:c,...o?{through_id:o}:{},...s?{through_properties:s}:{},...l?{client_tracking_params:l}:{}}}return{action:d,actionOptions:u}},getUnfollowAction:({board:n,feedbackType:i,makeNavigateLink:r,pinner:o,sourceInterest:s})=>{if("topic"===i){if(s){const{id:n,name:i,url_name:o}=s,l=r("topicUrl","/topics/"+o,i,!0),c=t(e._("We’ll show you less Pins from {{ formattedTopic }} in the future.","pin.contextualMenu.feedback.unfollowTopic.subtitle","Confirmation text after unfollowing a topic"),{formattedTopic:l});return{action:"unfollowTopic",actionOptions:{interest_id:n,interest_list:a.a},title:"",subTitle:c}}}else if("followed"===i&&n&&o){const{id:i,name:a,url:s}=n||{},{explicitly_followed_by_me:l,full_name:c,username:d}=o,u="/"+d,m=r("boardUrl",s,a,!0),p=r("pinnerUrl",u,c,!0);let h=l?t(e._("You’ve unfollowed {{ formattedPinner }}’s Board {{ formattedBoard }}. You can follow it again by searching for it.","Confirmation text after unfollowing a board","Confirmation text after unfollowing a board"),{formattedPinner:p,formattedBoard:m}):t(e._("You’ve unfollowed {{ formattedBoard }}. You can follow it again by searching for it.","Confirmation text after unfollowing a board","Confirmation text after unfollowing a board"),{formattedBoard:m});return h=l?t(e._("You unfollowed {{ formattedPinner }} and won’t see Pins they save anymore.","Confirmation text after unfollowing a user","Confirmation text after unfollowing a user"),{formattedPinner:p}):t(e._("You unfollowed the board {{ formattedBoard }} and won’t see Pins saved to it anymore.","Confirmation text after unfollowing a board","Confirmation text after unfollowing a board"),{formattedBoard:m}),{action:"unfollowBoard",actionOptions:{board_id:i},title:"",subTitle:h}}return null}})},"2If1":function(e,t,n){function i(e=300,t=16,n=2){let i=`\n.gridCentered {\n  margin-left: auto;\n  margin-right: auto;\n  max-width: ${t*e}\n}\n\n.gridCentered .static,\n.gridCentered .Masonry-Premount .Collection-Item {\n  position: absolute !important;\n  visibility: hidden !important;\n}\n.gridCentered .Masonry-Premount,\n.gridCentered .Masonry-Premount .AutoSizer,\n.gridCentered .Masonry-Premount .Collection {\n  width: auto !important;\n}\n\n@media (min-width: ${t*e}px) {\n  .gridCentered .Masonry-Premount .Collection-Item:nth-child(-n+${t}),\n  .gridCentered .static:nth-child(-n+${t}) {\n    position: static !important;\n    visibility: visible !important;\n    float: left;\n    display: block;\n  }\n\n  .gridCentered .Masonry-Premount .Collection-Item,\n  .gridCentered .static {\n    width: ${e}px !important;\n  }\n}\n`;for(let a=n;a<t+1;a+=1){i+=`\n@media (min-width: ${a===n?0:(a-1)*e}px) and (max-width: ${a*e-1}px) {\n  .gridCentered .Masonry-Premount .Collection-Item:nth-child(-n+${a}),\n  .gridCentered .static:nth-child(-n+${a}) {\n    position: static !important;\n    visibility: visible !important;\n    float: left;\n    display: block;\n  }\n\n  .gridCentered .Masonry-Premount .Collection-Item,\n  .gridCentered .static {\n    width: calc(100% / ${a}) !important;\n  }\n}\n`}return i}n.d(t,"a",(function(){return i}))},"2U5n":function(e,t,n){const i=["orig","736x","564x","474x","236x","170x"];t.a=(e,t)=>{const n=e[t];if(n)return n;const a=i.indexOf(t);if(a>=0)for(let r=a+1;r<i.length;r+=1){const t=e[i[r]];if(t)return t}return e["236x"]}},"3Pf9":function(e,t,n){n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return r}));const i=348,a=7,r=4},"3UD+":function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},"3qdF":function(e,t,n){n.d(t,"a",(function(){return l}));var i=n("q1tI"),a=n.n(i),r=n("4Utz"),o=n("n6mq");const s={chip:{marginRight:1,flex:"1 1 0"},chipInner:{paddingBottom:"100%"},chipContainer:{marginRight:-1}};function l({pin:e,enableCloseupLink:t}){const{aggregated_pin_data:n}=e,{pin_tags_chips:i}=n||{},l=i&&i.length>=3?i.slice(0,3):[];return a.a.createElement(o.e,{display:"flex",dangerouslySetInlineStyle:{__style:s.chipContainer}},l.map(n=>{const i=n.images["750x"]||{},l=a.a.createElement(o.v,{alt:"",fit:"cover",naturalHeight:i.height,naturalWidth:i.width,src:i.url});return a.a.createElement(o.e,{dangerouslySetInlineStyle:{__style:s.chip},"data-test-id":"collageChip",key:n.id},a.a.createElement(o.e,{dangerouslySetInlineStyle:{__style:s.chipInner},position:"relative"},a.a.createElement(o.e,{position:"absolute",top:!0,left:!0,right:!0,bottom:!0},a.a.createElement(o.A,{height:"100%",wash:!0,width:"100%"},t?a.a.createElement(r.a,{additionalStyles:{width:"100%",height:"100%"},collageChipId:n.id,pin:e},l):l))))}))}},"4+TC":function(e,t,n){var i=n("q1tI"),a=n.n(i),r=n("TSYQ"),o=n.n(r),s=n("Ye/N"),l=n("qD10"),c=n("n6mq");class d extends a.a.Component{constructor(...e){var t,n,i;super(...e),i={showBoardName:!1},(n="state")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}componentDidMount(){this.timer=setTimeout(()=>{this.setState({showBoardName:!0})},950)}componentWillUnmount(){clearTimeout(this.timer)}render(){const{showBoardName:e}=this.state,{isNewlySaved:t,shouldUseLegoStyles:n,name:i,url:r}=this.props;let d,u;if(!t||e||n){const e=n?a.a.createElement(c.V,{color:"white",size:"lg",weight:"bold"},i.length<=8?i:i.substring(0,8).trim()+"..."):a.a.createElement(c.s,{color:"white",size:"sm",truncate:!0},i);d=r?a.a.createElement(l.a,{to:r},e):e}else d=a.a.createElement(c.V,{color:"white"},a.a.createElement("span",{className:"deprecatedTextSizeXL"},s.a._("Saved!","Indication that a pin has been saved","Indication that a pin has been saved")));return t&&(u=e?"board":"saved"),a.a.createElement("div",{"data-test-id":"savedInfo",style:{paddingLeft:n?16:void 0,paddingRight:n?16:void 0},className:n?o()("Lego__SavedPin",u):o()("SavedAnimation",u)},d)}}t.a=d},"4Utz":function(e,t,n){n.d(t,"a",(function(){return d}));var i=n("q1tI"),a=n.n(i),r=n("qD10"),o=n("0nTG"),s=n("Y8Sn"),l=n("U4JR"),c=n("gD/Z");function d({additionalStyles:e={},children:t,collageChipId:n,componentType:i,contextLogData:d,elementType:u,pin:m,viewParameter:p,viewType:h}){const f=Object(c.b)(),{carousel_data:g,id:b}=m;let y,E=`/pin/${n||b}/`;if(g){const{carousel_slots:e=[],id:t,index:n}=g;E=`/pin/${b}/`,y={carousel_slot_id:e[n]&&e[n].id,carousel_data_id:t,carousel_slot_index:n}}y={...y||{},...Object(o.f)(m,d)||{}};return a.a.createElement(r.a,{auxData:y,onClick:()=>{Object(l.b)(101,{...d,component:i||f.componentType,element:u,objectId:b,view:h||f.viewType,viewParameter:p||f.viewParameter,...Object(o.f)(m,d)||{}}),Object(s.e)()&&Object(l.b)(8948,{closeup_navigation_type:"click",view:h||f.viewType,viewParameter:p||f.viewParameter,component:i||f.componentType,element:u,objectId:b,...d,...Object(o.f)(m,d)||{}})},pinId:b,style:{cursor:"zoom-in",display:"block",...e},to:E},t)}},"4dcN":function(e,t,n){(function(e){var i=n("T0g9"),a=n("Jr++");let r;void 0===r&&(r=e),r._gaq=r._gaq||[];let o=[];const s=function(e){if(o.length)for(let t=0;t<o.length;t+=1){const n=o[t];r._gaq.push(["_setAccount",n]),r._gaq.push(e)}},l=function(e){if(o=e,!e.length)return;const t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src=("https:"===document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(t)},c=2,d=3,u={};u.init=function(e,t){l(e),s(["_setCustomVar",1,"is_logged_in",t?"logged in":"logged out",c])},u.initSterling=function(e,{isLoggedIn:t,advertiser:n,adminUser:i,viewingUser:a}){l(e),t?(i?s(["_setCustomVar",1,"adminUser",i.toString(),d]):a&&a.id?s(["_setCustomVar",1,"viewingUser",a.id.toString(),d]):s(["_setCustomVar",1,"is_logged_in","logged in",d]),n&&n.id&&s(["_setCustomVar",3,"advertiserId",n.id,d])):s(["_setCustomVar",1,"is_logged_in","logged out",d])};const m=function(e,t){let n=e;const r=Object(a.a)(t).q;return r&&(n+="?"+Object(i.a)({q:r})),n};u.trackPageview=function(e){s(["_setCustomVar",2,"page_name",e,d]),s(["_trackPageview",m(r.location.pathname,r.location.search)]),s(["_setPageGroup",1,e])},u.trackEvent=function(e,t,n,i,a){s(["_trackEvent",e,t,n,i,a])},u.trackCategoryEvent=function(e,t,n){u.trackEvent(e+"_"+t,n)},t.a=u}).call(this,n("yLpj"))},5871:function(e,t,n){var i=n("q1tI"),a=n.n(i),r=n("/MKj"),o=n("Nle8"),s=n("E/VT"),l=n("R6wO"),c=n("1Fta"),d=n("Ye/N"),u=n("qD10"),m=n("hFNL"),p=n("4cpq"),h=n("ANjH"),f=n("pSsd"),g=n("0bYG"),b=n("U4JR"),y=n("DJoW"),E=n("vvax"),w=n("n6mq"),_=n("eqXv"),v=n("EC67");function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const O={color:"white",textDecorationColor:"white"};class T extends a.a.Component{constructor(e){super(e),S(this,"getRecommendationDescription",()=>{const{ad_match_reason:e,board:t,feedbackType:n,pinner:i,promoter:a,recommendationReason:r,sourceInterest:o}=this.props;return this.feedbackHelpers.getRecommendationDescription({ad_match_reason:e,board:t,feedbackType:n,makeNavigateLink:this.makeNavigateLink,pinner:i,promoter:a,recommendationReason:r,sourceInterest:o})}),S(this,"getRecommendationDescriptionImage",()=>{const{board:e,feedbackType:t,pinner:n,recommendationReason:i}=this.props;if("followed"!==t&&"pfyBoard"!==t)return null;let r,o,s;return n&&n.explicitly_followed_by_me?(r=n.image_small_url,o="50%",s="/"+n.username):e&&e.image_thumbnail_url&&(r=e.image_thumbnail_url,o="4px",s=i&&i.board&&i.board.url||e.url),r?a.a.createElement(w.e,{dangerouslySetInlineStyle:{__style:{borderRadius:o}},flex:"none",marginStart:3,overflow:"hidden"},a.a.createElement(w.U,{onTap:()=>this.props.history.push(s)},a.a.createElement(w.A,{height:40,wash:!0,width:40},a.a.createElement(w.v,{alt:"",fit:"cover",naturalHeight:1,naturalWidth:1,src:r})))):null}),S(this,"getUnfollowAction",()=>{const{board:e,feedbackType:t,pinner:n,sourceInterest:i}=this.props;return this.feedbackHelpers.getUnfollowAction({board:e,feedbackType:t,makeNavigateLink:this.makeNavigateLink,pinner:n,sourceInterest:i})}),S(this,"getUndoText",e=>"unfollowPinner"===e||"unfollowBoard"===e?d.a._("Follow again","Caption for button to undo a unfollowing of a topic","Caption for button to undo a unfollowing of a topic"):""),S(this,"generateUndoHideCallback",(e,t)=>()=>{const{dispatch:n,pinId:i,viewType:a,viewParameter:r}=this.props,o={...e,undo:!0};let s=t;"unfollowPinner"===t?s="followPinner":"unfollowBoard"===t?s="followBoard":"unfollowTopic"===t&&(s="followTopic"),Object(_.a)(s,o),n(Object(y.b)(i)),Object(b.b)(101,{component:0,element:11181,view:a,viewParameter:r})}),S(this,"feedbackHelpers",Object(c.a)({i18n:d.a,interpolateNamedTemplate:E.b})),S(this,"makeNavigateLink",(e,t,n,i)=>{const r={display:"inline",...i?O:{}};return a.a.createElement(u.a,{key:e,className:"underlineLink",onClick:this.props.onLinkClick,to:t},a.a.createElement(w.e,{dangerouslySetInlineStyle:{__style:r}},n))}),S(this,"reportPinOption",()=>({action:"reportPin",elementType:974,text:d.a._("Report Pin","Report a pin in the dropdown","Report a pin in the dropdown"),description:d.a._("This goes against Pinterest's community guidelines","Description for the report pin option","Description for the report pin option"),callback:this.props.reportPin})),S(this,"hidePinOption",e=>{const{feedbackData:t,feedbackType:n,pinId:i,recommendationReason:a}=this.props,r="search"===n?973:982,{action:s,actionOptions:l}=this.feedbackHelpers.getHidePinAction({feedbackData:t,feedbackType:n,pinId:i,recommendationReasonId:a&&a.reason&&g.ReasonToChoose[a.reason],pinFeedbackType:"pfy"===n?4:10,throughId:a&&this.getThroughId(),throughProperties:a&&this.getThroughProperties(),clientTrackingParams:Object(o.a)(i)}),c=d.a._("Hide Pin","message displayed in pin feedback list","message displayed in pin feedback list");return{action:s,actionOptions:l,feedbackText:this.pinHiddenFeedbackText(e),text:c,description:d.a._("See fewer Pins like this","Description for the hide pin option","Description for the hide pin option"),elementType:r}}),S(this,"stopRecommendationOption",()=>{const{feedbackData:e,feedbackType:t,pinId:n,recommendationReason:i}=this.props,{board:a,reason:r}=null!=i?i:{},s=r&&g.ReasonToChoose[r],l=i&&this.getThroughId(),c=i&&this.getThroughProperties(),u="pfyBoard"===t,{action:m,actionOptions:p}=this.feedbackHelpers.getHidePinAction({feedbackData:e,feedbackType:t,pinId:n,recommendationReasonId:s,pinFeedbackType:u?2:4,throughId:l,throughProperties:c,clientTrackingParams:Object(o.a)(n)}),h=a?this.makeNavigateLink("boardUrl",a.url,a.name,!0):"";return{action:m,actionOptions:p,feedbackText:{subTitle:u&&a?Object(E.b)(d.a._("We won't show you Pins inspired by your board {{ formattedBoard }} anymore.","Primary caption displayed in pin feedback list to unfollow a board","Primary caption displayed in pin feedback list to unfollow a board"),{formattedBoard:h}):d.a._("Got it! We won't show you Pins like this in the future.","message displayed after stopping recommendations from a pin","message displayed after stopping recommendations from a pin")},text:u&&a?Object(E.b)(d.a._("Stop seeing Pins inspired by {{ boardName }}","Primary caption displayed in pin feedback list to unfollow a board","Primary caption displayed in pin feedback list to unfollow a board"),{boardName:a.name}):d.a._("See fewer Pins like this","Feedback option to stop recommendations inspired by this Pin","Feedback option to stop recommendations inspired by this Pin"),elementType:284}}),S(this,"unfollowBoardOption",()=>{const{board:e}=this.props,t=e?this.makeNavigateLink("boardUrl",e.url,e.name,!0):"",n=Object(E.b)(d.a._("Unfollow {{ boardName }}","Primary caption displayed in pin feedback list to unfollow a board","Primary caption displayed in pin feedback list to unfollow a board"),{boardName:null==e?void 0:e.name}),i=Object(E.b)(d.a._("Got it! You unfollowed {{ formattedBoard }} and won't see Pins saved to it in the future.","Confirmation text after unfollowing a board","Confirmation text after unfollowing a board"),{formattedBoard:t});return{action:"unfollowBoard",actionOptions:{board_id:null==e?void 0:e.id},feedbackText:{title:"",subTitle:i},text:n,description:Object(E.b)(d.a._('Stop seeing Pins from the board "{{ boardName }}"',"Secondary caption displayed in pin feedback list to unfollow a board","Secondary caption displayed in pin feedback list to unfollow a board"),{boardName:null==e?void 0:e.name}),elementType:10614}}),S(this,"unfollowTopicOption",()=>{const{sourceInterest:e}=this.props;if(e){const{id:t,name:n,url_name:i}=e,a="/topics/"+i,r=this.makeNavigateLink("topicUrl",a,n,!0),o=Object(E.b)(d.a._("See fewer Pins from {{ topicName }}","Primary caption displayed in pin feedback list to unfollow a topic","Primary caption displayed in pin feedback list to unfollow a topic"),{topicName:n}),s=Object(E.b)(d.a._("We'll show you fewer Pins from {{ formattedTopic }} in the future.","Confirmation text after unfollowing a topic","Confirmation text after unfollowing a topic"),{formattedTopic:r});return{action:"unfollowTopic",actionOptions:{interest_id:t,interest_list:f.a},feedbackText:{title:"",subTitle:s},text:o,description:Object(E.b)(d.a._('Stop seeing Pins from the topic "{{ topicName }}"',"Secondary caption displayed in pin feedback list to unfollow a topic","Secondary caption displayed in pin feedback list to unfollow a topic"),{topicName:e.name}),elementType:976}}return null}),S(this,"unfollowUserOption",()=>{const{pinner:e}=this.props,{id:t,username:n,full_name:i}=null!=e?e:{},a="/"+n,r=e?this.makeNavigateLink("pinnerUrl",a,i,!0):"";return{action:"unfollowPinner",actionOptions:{user_id:t},feedbackText:{title:"",subTitle:Object(E.b)(d.a._("Got it! You unfollowed {{ formattedUser }} and won't see Pins they save in the future.","Confirmation text after unfollowing a user","Confirmation text after unfollowing a user"),{formattedUser:r})},text:Object(E.b)(d.a._("Unfollow {{ fullName }}","Primary caption displayed in pin feedback list to unfollow a user","Primary caption displayed in pin feedback list to unfollow a user"),{fullName:i}),description:d.a._("Stop seeing all their Pins","Secondary caption displayed in pin feedback list to unfollow a user","Secondary caption displayed in pin feedback list to unfollow a user"),elementType:10640}}),S(this,"downloadPinOption",()=>({action:"downloadPin",text:d.a._("Download image","Button to download Pin image","Button to download Pin image"),elementType:10836})),S(this,"_pinFeedbackText",()=>{const{location:e,feedbackType:t,hideDownload:n,pinner:i}=this.props,a="followed"===this.props.feedbackType,r=e.pathname.includes("following"),o=(a||"topic"===t)&&!r,s=this.hidePinOption(o),l=this.reportPinOption(),c="promoted"!==t&&!n;switch(t){case"followed":const e=r,n=!e&&this.getRecommendationDescription(),a=(null==i?void 0:i.explicitly_followed_by_me)?this.unfollowUserOption():this.unfollowBoardOption();return{...n?{description:n}:{},options:[s,...o||e?[a]:[],..."promoted"!==t?[this.downloadPinOption()]:[],l]};case"promoted":const{ad_match_reason:u}=this.props,m=[s,{link:this.feedbackHelpers.getLearnMoreUrl(u),text:d.a._("Why am I seeing this ad?","Link to promoted pins explanation page","Link to promoted pins explanation page"),dataTestId:"why-am-i-seeing-this-ad"},l];return{description:this.getRecommendationDescription(),options:m};case"topic":const p=this.unfollowTopicOption(),h=[s,...o&&p?[p]:[],...c?[this.downloadPinOption()]:[],l];return{description:this.getRecommendationDescription(),options:h};case"pfy":case"pfyBoard":const f=[s,..."pfyBoard"===t?[this.stopRecommendationOption()]:[],...c?[this.downloadPinOption()]:[],l];return{description:this.getRecommendationDescription(),options:f};default:const g=[s,...c?[this.downloadPinOption()]:[],l];return{description:this.getRecommendationDescription(),options:g}}}),S(this,"handleSecondaryFeedbackItemClick",(e,t)=>{const{feedbackData:n,feedbackType:i,pinId:a,onHide:r,recommendationReason:o}=this.props,s=o&&o.reason&&g.ReasonToChoose[o.reason],l=o&&this.getThroughId(),c=o&&this.getThroughProperties(),{action:d,actionOptions:u}=this.feedbackHelpers.getHidePinAction({feedbackData:n,feedbackType:i,pinId:a,recommendationReasonId:s,throughId:l,throughProperties:c,complaintReason:e});this.handleClickLogging(t),Object(_.a)(d,u),r()}),S(this,"pinHiddenFeedbackText",e=>{const t=e?null:this.getUnfollowAction();return t?{title:"",subTitle:this.getRecommendationDescription(),unfollow:t}:{title:"",subTitle:d.a._("Got it! We won't show you this Pin in the future.","message displayed after hiding a pin","message displayed after hiding a pin")}}),S(this,"renderSecondaryFeedbackItem",({text:e,reason:t,elementType:n})=>a.a.createElement(w.U,{fullWidth:!1,key:e,onTap:()=>this.handleSecondaryFeedbackItemClick(t,n)},a.a.createElement(l.a,{compact:!0,text:e}))),S(this,"renderSecondaryFeedback",()=>{const{feedbackType:e}=this.props,t="promoted"===e?[{text:d.a._("Not relevant to me","Feedback option for Pin","Feedback option for Pin"),reason:10,elementType:1296},{text:d.a._("Seen Pin too many times","",""),reason:3,elementType:11172},{text:d.a._("Blurry or pixelated image","low quality picture","low quality picture"),reason:13,elementType:10898}]:[{text:d.a._("Not relevant to me","Feedback option for Pin","Feedback option for Pin"),reason:10,elementType:1296},{text:d.a._("Not in a language I understand","",""),reason:15,elementType:11178},{text:d.a._("Seen Pin too many times","",""),reason:3,elementType:295},{text:d.a._("Blurry or pixelated image","low quality picture","low quality picture"),reason:13,elementType:10898},{text:d.a._("Other","",""),reason:8,elementType:11179}];return a.a.createElement(w.e,{overflow:"hidden",rounding:2,width:"100%"},a.a.createElement(w.e,{paddingX:4,paddingY:4},a.a.createElement(w.V,{color:"darkGray",size:"md"},d.a._("Got a moment? Tell us why.","Title of follow up question after negative Pin feedback","Title of follow up question after negative Pin feedback"))),a.a.createElement(w.o,null),a.a.createElement(w.e,{paddingY:2},t.map(this.renderSecondaryFeedbackItem)))});const t=this._pinFeedbackText();this.state={pinFeedbackConfig:t,showSecondary:!1}}onPinFeedbackActionButtonClick(e,t,n){e.stopPropagation(),t.auxData?this.handleClickLogging(t.elementType,t.auxData):this.handleClickLogging(t.elementType),Object(_.a)(t.action,t.actionOptions,n)}onPinHide(e,t,n,i){const{dispatch:a,onHide:r,pinId:o}=this.props;a(t&&n&&i?Object(y.e)(o,e,this.generateUndoHideCallback(n,i),this.getUndoText(i)):Object(y.a)(o,e)),!n||n.promoted||10!==n.feedback_type&&4!==n.feedback_type?r():(this.setState({showSecondary:!0}),a(Object(y.d)(o)))}getThroughId(){const{recommendationReason:e}=this.props;return(null==e?void 0:e.reason_id)?e.reason_id:(null==e?void 0:e.board)?e.board.id:(null==e?void 0:e.pin)?e.pin.id:(null==e?void 0:e.interest)?e.interest.id:""}getThroughProperties(){var e;return null===(e=this.props.recommendationReason)||void 0===e?void 0:e.through_properties}getComponentType(){const{feedbackType:e}=this.props;switch(e){case"promoted":return 60;case"followed":case"topic":return 100;case"pfyBoard":case"pfy":return 58}}makeStrongText(e,t){return a.a.createElement("strong",{key:e},t)}handleClickLogging(e,t={}){const{viewParameter:n,viewType:i}=this.props;Object(b.b)(101,{...t,view:i,viewParameter:n,element:e,component:this.getComponentType()})}renderButtons(){const{hideDownload:e,onDownloadHideFlyout:t,pinId:n,viewType:i,viewParameter:r}=this.props,{pinFeedbackConfig:o}=this.state,{options:c}=o,h=[],f=c.length;for(let g=0;g<f;g+=1){const o=c[g],f=_.b.includes(o.action),b=o.callback?o.callback:()=>this.onPinHide(o.feedbackText,f,o.actionOptions,o.action);if("downloadPin"!==o.action)h.push(a.a.createElement(w.e,{key:g},o.link?a.a.createElement(p.a,{id:o.dataTestId||""},a.a.createElement(u.a,{external:!0,to:o.link},a.a.createElement(l.a,{compact:!0,text:o.text}))):a.a.createElement(w.U,{fullWidth:!1,onTap:({event:e})=>this.onPinFeedbackActionButtonClick(e,o,b)},a.a.createElement(l.a,{compact:!0,text:o.text}))));else if(!e&&"undefined"!=typeof window&&"windows"!==Object(m.b)(window)){const{bestPinImgSrc:e,pinTitle:o,pinDescription:c,pinCategory:u}=this.props;h.push(a.a.createElement(w.e,{key:g},a.a.createElement(s.a,{category:u,filename:o||c,imageDownloadSuccessCallback:()=>{t&&t()},imgSrc:e,pinId:n,viewParameter:r,viewType:i},e=>a.a.createElement(w.U,{fullWidth:!1,onTap:e},a.a.createElement(l.a,{compact:!0,text:d.a._("Download image","Button to download Pin image","Button to download Pin image")})))))}}return h}render(){const{pinFeedbackConfig:e,showSecondary:t}=this.state,{description:n}=e,i=this.getRecommendationDescriptionImage();return a.a.createElement(w.e,{overflow:"hidden",width:"100%"},t?this.renderSecondaryFeedback():a.a.createElement(w.e,null,n&&a.a.createElement(w.e,null,a.a.createElement(w.e,{alignItems:"center",display:"flex",padding:4},a.a.createElement(w.e,{maxHeight:56,overflow:"hidden"},a.a.createElement(w.V,{color:"darkGray",overflow:"normal",size:"md"},n)),i),a.a.createElement(w.o,null)),a.a.createElement(w.e,{marginBottom:3,marginTop:2},this.renderButtons())))}}t.a=Object(h.compose)(Object(r.connect)(),v.k)(T)},"5uyJ":function(e,t,n){n.d(t,"a",(function(){return i}));const i={V_HLSV4:"V_HLSV4",V_720P:"V_720P"}},"6Mki":function(e,t,n){(function(e){function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(){return"undefined"!=typeof window?window:"undefined"!=typeof self?self:e}n.d(t,"a",(function(){return o}));const r="resizeanim";class o{constructor(e,t){i(this,"_window",a()),i(this,"_elementsMap",new WeakMap),i(this,"_handleScroll",e=>{const t=e.target;if(t.className&&"function"==typeof t.className.indexOf&&t.className.indexOf("contract-trigger")<0&&t.className.indexOf("expand-trigger")<0)return;const n=e.currentTarget,i=this._elementsMap.get(n);if(!i)throw new Error("No subscription on element.");this._resetTriggers(n,i.resizeTriggers),i.animationFrameId&&window.cancelAnimationFrame(i.animationFrameId),i.animationFrameId=window.requestAnimationFrame(()=>{(!i.previousDimensions||n.offsetWidth!==i.previousDimensions.width||n.offsetHeight!==i.previousDimensions.height)&&(i.previousDimensions={width:n.offsetWidth,height:n.offsetHeight},i.resizeHandlers.forEach(t=>{t.call(n,e)}))})}),this._window=e,this._nonce=t}_resetTriggers(e,t){const n=t.firstElementChild,i=t.lastElementChild,a=n.firstElementChild;i.scrollLeft=i.scrollWidth,i.scrollTop=i.scrollHeight,a.style.width=n.offsetWidth+1+"px",a.style.height=n.offsetHeight+1+"px",n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight}_createStyles(e){if(!e.getElementById("ResizeListener")){const t=`${"@$keyframes resizeanim { from { opacity: 0; } to { opacity: 0; } } "}.resize-triggers { ${"animation: 1ms resizeanim; "} visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }`,n=e.head||e.getElementsByTagName("head")[0],i=e.createElement("style");i.id="ResizeListener",i.type="text/css",null!=this._nonce&&i.setAttribute("nonce",this._nonce),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(e.createTextNode(t)),n.appendChild(i)}}addResizeListener(e,t){if(e)if(e===window)window.addEventListener("resize",t,!1);else{if(!this._elementsMap.has(e)){const t=e.ownerDocument,n=this._window.getComputedStyle(e);n&&"static"===n.position&&(e.style.position="relative"),this._createStyles(t);const i=t.createElement("div");i.className="resize-triggers",i.innerHTML='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>',e.appendChild(i),this._resetTriggers(e,i),e.addEventListener("scroll",this._handleScroll,!0);const a=t=>{t.animationName===r&&this._resetTriggers(e,i)};i.addEventListener("animationstart",a),this._elementsMap.set(e,{resizeTriggers:i,animationHandler:a,resizeHandlers:[]})}const n=this._elementsMap.get(e);n&&n.resizeHandlers.push(t)}}removeResizeListener(e,t){if(e)if(e===window)window.removeEventListener("resize",t,!1);else{const n=this._elementsMap.get(e);if(!n)return;n.resizeHandlers.splice(n.resizeHandlers.indexOf(t),1),0===n.resizeHandlers.length&&(e.removeEventListener("scroll",this._handleScroll,!0),n.resizeTriggers.removeEventListener("animationstart",n.animationHandler),e.removeChild(n.resizeTriggers),this._elementsMap.delete(e))}}}i(o,"sharedInstance",new o(a()))}).call(this,n("yLpj"))},"82UD":function(e,t,n){var i=n("q1tI"),a=n.n(i),r=n("/MKj"),o=n("ajUs"),s=n("ou9u"),l=n("gYog"),c=n("hFNL"),d=n("qD10"),u=n("yKES"),m=n("5uyJ"),p=n("n6mq");const h={overlay:{__style:{backgroundColor:"#000"}}};function f(e){const{pin:{id:t,images:n,title:i,videos:r,video_status_message:o}}=e,s=o||{},l=n&&n["236x"],c=r&&r.video_list[m.a.V_HLSV4],{duration:f}=c||{};return a.a.createElement(a.a.Fragment,null,a.a.createElement(p.i,null,a.a.createElement(d.a,{to:"/pin/"+t},a.a.createElement(p.e,{overflow:"hidden",position:"relative",rounding:2},l&&a.a.createElement(p.v,{alt:i||"",color:"lightGray",naturalHeight:l.height,naturalWidth:l.width,src:l.url}),!!f&&a.a.createElement(p.e,{padding:2,position:"absolute",bottom:!0,left:!0,display:"flex"},a.a.createElement(u.a,{duration:f})),a.a.createElement(p.e,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,opacity:.4,dangerouslySetInlineStyle:h.overlay}),a.a.createElement(p.e,{position:"absolute",top:!0,left:!0,padding:5,width:"100%"},a.a.createElement(p.s,{color:"white",overflow:"normal",size:"sm"},s.title),a.a.createElement(p.e,{marginTop:4},a.a.createElement(p.V,{color:"white",size:"md",overflow:"normal"},s.subtitle)))),a.a.createElement(p.e,{display:"flex",alignItems:"start",justifyContent:"between",marginTop:1,paddingX:1},a.a.createElement(p.e,{flex:"grow"},i&&a.a.createElement(p.e,{paddingY:1},a.a.createElement(p.V,{inline:!0,size:"md",weight:"bold"},i)))))))}var g=n("Y8Sn"),b=n("vpxy"),y=n("0nTG");t.a=Object(r.connect)((function({pins:e},{pin:t,pinId:n}){return{reduxPin:e[n]||t}}),()=>({}))((function({reduxPin:e,trackingParameters:t,...n}){const d=Object(r.useSelector)(({location:e})=>e),u=Object(o.a)(e,d),m=Object(s.a)(e),p=!!(m&&m.url&&m.height&&m.width)||void 0,h=m&&e.videos?e.videos.id:void 0,[E,w]=Object(i.useState)(!1),_=Object(i.useCallback)(()=>w(!0),[]),v=Object(i.useCallback)(()=>w(!1),[]),{componentType:S,contextLogData:O,impressionAuxFields:T,slotIndex:I,viewData:C,viewParameter:x,viewType:P}=t;return a.a.createElement(l.a,{componentType:S,contextLogData:{..."undefined"!=typeof window?{pwa_type:Object(c.b)(window)}:{},...O,...Object(y.f)(e,O)},impressionAuxFields:{...T||{},isNativeVideoAndWatchable:p,videoIdStr:h,clientTrackingParams:u||(e.tracking_params||"")+"-0",imageURL:e.images&&e.images["236x"].url,richTypes:Object(y.e)(e)},impressionType:"Pin",isPaused:!E,loggingId:e.id,slotIndex:I,viewData:C,viewParameter:x,viewType:P},Object(g.h)(e)?a.a.createElement(f,{pin:e}):a.a.createElement(b.a,Object.assign({},n,{debugImpressionState:E?"started":"paused",onError:v,onLoad:_,pin:e,trackingParameters:{componentType:S,contextLogData:O,slotIndex:I,viewParameter:x,viewType:P}})))}))},"8A+h":function(e,t,n){function i(e,t){const n=t&&t.owner&&t.owner.id;return e.isAuth&&n===e.id}n.d(t,"a",(function(){return i}))},"9WJf":function(e,t,n){n.d(t,"a",(function(){return o}));var i=n("8A+h"),a=n("E58E"),r=n("zpPL");function o({action:e,board:t}){var n;const o=r.a.instance&&r.a.instance.getState()||{viewer:{}},{viewer:s}=o;return Object(i.a)(s,t)||Object(a.a)({board:t,viewer:s})&&!!(null===(n=t.collaborator_permissions)||void 0===n?void 0:n.includes(e))}},AP2z:function(e,t,n){var i=n("nmnc"),a=Object.prototype,r=a.hasOwnProperty,o=a.toString,s=i?i.toStringTag:void 0;e.exports=function(e){var t=r.call(e,s),n=e[s];try{e[s]=void 0;var i=!0}catch(l){}var a=o.call(e);return i&&(t?e[s]=n:delete e[s]),a}},AWyA:function(e,t,n){n.d(t,"b",(function(){return l})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return d})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return s}));var i=n("q1tI"),a=n("1dBE");const r=Object(i.createContext)(null),o=()=>Object(i.useContext)(r),s=r.Provider,{Provider:l,useHook:c}=Object(a.c)("DesktopCoreLogin"),d=()=>{const{loginForMore:e}=c();return()=>{e&&e.setVisible(!0)}}},AyyZ:function(e,t,n){n.d(t,"a",(function(){return g}));var i=n("q1tI"),a=n.n(i),r=n("FDmi"),o=n("I7CA"),s=n("vcEN"),l=n("gYog"),c=n("qD10"),d=n("n6mq");const u={backgroundColor:"rgba(255, 255, 255, 0.8)",borderRadius:"18px",color:"#111",fontSize:"10px",fontWeight:"600",height:"24px",lineHeight:"24px",padding:"0 6px"};function m({productPin:e,isTopRow:t,disablePrice:n}){var i;if(!e)return null;const{title:r,description:o,images:s}=e||{},l=null===(i=e.rich_summary)||void 0===i?void 0:i.products,c=l&&l[0]||null,m=((null==c?void 0:c.offer_summary)||{}).price,p=s["474x"]||{};return a.a.createElement(d.A,{wash:!0,height:t?217:168,width:t?236:117},a.a.createElement(d.v,{alt:r||o,fit:"cover",naturalHeight:p.height,naturalWidth:p.width,src:p.url}),!!m&&!n&&a.a.createElement(d.e,{margin:1,paddingY:1,paddingX:2,dangerouslySetInlineStyle:{__style:{...u}},"data-test-id":"shopping-upsell-price",left:!0,top:!0,position:"absolute"},m))}var p=n("tMjw"),h=n("U4JR");const f={container:{borderRadius:p.a,WebkitMaskImage:"-webkit-radial-gradient(white, black)"},content:{marginBottom:"2px"},visualOverlay:{backgroundColor:"rgba(0, 0, 0, .1)"}};function g({dangerouslySetActionUrl:e,query:t,story:n,slotIndex:u}){const{action:p,id:g,objects:b,story_type:y,subtitle:E}=n,{text:w,url:_}=p,[v,S]=Object(i.useState)(!1),O=Object(i.useCallback)(()=>S(!0),[S]),T=Object(i.useCallback)(()=>S(!1),[S]),I=["related_domain_collage","related_products_collage"].includes(y)?1:0,C=b[0].domain;let x,P;const R={};R.story_type=y,["search_product_collage_story","shop_article_story"].includes(y)?(x=2,P=43,R.story_id=g,R.entered_query=t):"shop_brand_story"===y||"shop_brand_affinity_story"===y?(x=1,P=92,C&&(R.commerce_data=JSON.stringify({domain:C}))):["stela_in_flashlight_card","stela_in_flashlight_onecol"].includes(y)?(x=72,P=3050):"related_domain_collage"===y?(x=72,P=3455):"related_products_collage"===y&&(x=1,P=3177);const k=E?5:3;let j,A;if(["related_domain_collage","shop_brand_story","shop_brand_affinity_story"].includes(y)){const e=p.user;j=e&&(e.image_medium_url||e.image_large_url),A=e&&e.full_name}return a.a.createElement(l.a,{componentType:200,contextLogData:R||{},impressionType:"Story",loggingId:y,slotIndex:u,viewParameter:P,viewType:x},a.a.createElement(c.a,{to:e||_,onClick:()=>Object(h.b)(101,{element:372,component:200,view:x,viewParameter:P,story_type:y,...R||{}})},a.a.createElement(d.e,{overflow:"hidden",position:"relative",onMouseEnter:O,onMouseLeave:T,dangerouslySetInlineStyle:{__style:f.container}},a.a.createElement(d.e,{overflow:"hidden"},a.a.createElement(d.e,{dangerouslySetInlineStyle:{__style:f.content}},a.a.createElement(m,{productPin:b[I],isTopRow:!0,disablePrice:!(!A||!j)})),a.a.createElement(d.e,{display:"flex",justifyContent:"between",dangerouslySetInlineStyle:{__style:f.content}},a.a.createElement(m,{productPin:b[I+1]}),a.a.createElement(m,{productPin:b[I+2]}))),a.a.createElement(d.e,{color:"lightGray",display:"flex",paddingX:3,alignItems:"center",justifyContent:"center",paddingY:k},a.a.createElement(d.e,{justifyContent:"center",alignContent:"start",display:"flex",direction:"column",margin:2},E?a.a.createElement(d.e,{marginBottom:1},a.a.createElement(d.V,{align:"left",color:"gray"},E.format)):null,a.a.createElement(d.V,{align:"left",weight:"bold"},a.a.createElement("span",{className:"deprecatedTextSizeXL"},w)))),A&&j&&a.a.createElement(d.e,{position:"absolute",left:!0,top:!0,margin:3},a.a.createElement(r.a,{name:A,size:"lg",src:j,outline:!0})),a.a.createElement(s.a,{visibility:v?"visible":"none"},a.a.createElement(o.a,{additionalStyles:f.visualOverlay})))))}},DBEV:function(e,t,n){var i=n("q1tI"),a=n.n(i);var r={backgroundColor:"transparent"},o={backgroundColor:"rgba(216, 216, 216, 0.37)"},s={borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},l={outline:"0"},c=n("n6mq");function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends a.a.Component{constructor(...e){super(...e),d(this,"state",{hovered:!1}),d(this,"handleMouseEnter",()=>this.setState({hovered:!0})),d(this,"handleMouseLeave",()=>this.setState({hovered:!1}))}render(){const{backgroundHaloSize:e,onClick:t,accessibilityLabel:n}=this.props,i={height:e,width:e},d={border:0,display:"block",background:"transparent",cursor:"pointer",...l},u={...s,...r,...this.state.hovered?o:{}};return a.a.createElement("button",{"aria-label":n,type:"button",style:d,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onClick:e=>t&&t({event:e})},a.a.createElement("div",{style:{...i,...u}},a.a.createElement(c.e,{rounding:"circle"},a.a.createElement(c.t,{accessibilityLabel:"",icon:"flag",size:e/2,color:"lightGray"}))))}}t.a=u},DJoW:function(e,t,n){function i(e,t,n,i){return{type:"PIN_SHOW_UNDO_AND_FEEDBACK",payload:{id:e,value:!0,text:t,undoAction:n,undoText:i}}}function a(e){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e,value:!1}}}function r(e,t){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e,value:!0,text:t}}}function o(e){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e,value:!0}}}function s(e){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e,value:!1}}}n.d(t,"e",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r})),n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return s}))},DzJC:function(e,t,n){var i=n("sEfC"),a=n("GoyQ");e.exports=function(e,t,n){var r=!0,o=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return a(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),i(e,t,{leading:r,maxWait:t,trailing:o})}},"E/VT":function(e,t,n){n.d(t,"a",(function(){return c}));var i=n("q1tI"),a=n.n(i),r=n("28DW"),o=n("n6mq"),s=n("U4JR");function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends a.a.Component{constructor(...e){super(...e),l(this,"state",{href:void 0}),l(this,"onEvent",()=>{if("undefined"==typeof window)return;const{category:e,imageDownloadSuccessCallback:t,imgSrc:n,isUnauth:i,pinId:a,viewParameter:o,viewType:l}=this.props,{href:c}=this.state;null==c&&n&&fetch(n,{headers:new Headers({Origin:window.location.origin}),mode:"cors"}).then(e=>e.blob()).then(e=>{this.setState({href:window.URL.createObjectURL(e)},()=>{this.imageDownload&&this.imageDownload.click()})}).then(()=>t&&t()).catch(()=>this.setState({href:this.DOWNLOAD_ERROR})),Object(r.a)(`web.${i?"unauth":"auth"}.download.click.${e||"no_category"}`),Object(s.b)(82,{objectId:a,view:l||3,viewParameter:o||139})}),l(this,"DOWNLOAD_ERROR","error")}render(){const{children:e}=this.props,{filename:t}=this.props,{href:n}=this.state,i=null!=n&&n!==this.DOWNLOAD_ERROR;return a.a.createElement(a.a.Fragment,null,e(this.onEvent),i&&a.a.createElement(o.e,{display:"none"},a.a.createElement("a",{ref:e=>this.imageDownload=e,tabIndex:-1,download:t&&t.replace(".","_"),href:n})))}}},E58E:function(e,t,n){function i({board:e,viewer:t}){const{collaborated_by_me:n}=e;return t.isAuth&&n}n.d(t,"a",(function(){return i}))},E8d4:function(e,t,n){n.d(t,"a",(function(){return o}));var i=n("q1tI"),a=n.n(i);class r extends i.Component{constructor(...e){var t,n,i;super(...e),i={errorIsCaught:!1},(n="state")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}componentDidCatch(){this.setState({errorIsCaught:!0})}render(){const{children:e}=this.props,{errorIsCaught:t}=this.state;return t?null:e}}function o({children:e,errorBoundaryName:t,fallback:n}){const o=n||null;return a.a.createElement(r,t?{name:t}:{},a.a.createElement(i.Suspense,{fallback:o},e))}},EC51:function(e,t,n){var i=n("q1tI"),a=n.n(i),r=n("/QE7"),o=n("zwad"),s=n("n6mq");const l=Object(i.forwardRef)((e,t)=>{const{accessibilityLabel:n,children:i,__dangerouslyDisableSpammyDomainCheck:l,externalData:c,hoverStyle:d,href:u,id:m,inline:p,onBlur:h,onClick:f,onFocus:g,onHistoryChange:b,target:y}=e,E=o.a.isOffsiteUrl(u);return a.a.createElement(r.a,{__dangerouslyDisableSpammyDomainCheck:E?l:void 0,href:u,isExternalLink:E,externalData:E?c:void 0,onClick:f,onHistoryChange:E?void 0:b,target:E?void 0:y},({handleClick:e})=>a.a.createElement(s.z,{accessibilityLabel:n,hoverStyle:d,href:u,id:m,inline:p,onBlur:h,onClick:e,onFocus:g,ref:t,rel:E?"nofollow":void 0},i))});l.displayName="Link",t.a=l},EDqd:function(e,t,n){n.d(t,"a",(function(){return o}));const i=["236x","474x","564x","736x"];function a(e){function t(e,{imageKey:t,height:n,width:i}){return e.images&&e.images[t]&&(e={...e,images:{...e.images,[t]:{...e.images[t],height:n,width:i}}}),e}const n=i.map((function(t){const n=Math.min(...e.map(e=>e.images&&e.images[t]&&e.images[t].height||1/0)),i=Math.min(...e.map(e=>e.images&&e.images[t]&&e.images[t].width||1/0));return{imageKey:t,height:n,width:i}}));return e.map(e=>n.reduce(t,e))}function r(e,t){return e.push({images:t&&t.canonical_images,image_signature:t&&t.image_signature}),e}function o(e,t,n){const i=[{images:e}];return{carousel_slots:a((t&&t.additional_images).reduce(r,i)),index:n||0,id:t.id}}},ELJR:function(e,t,n){n.d(t,"a",(function(){return f}));var i=n("q1tI"),a=n.n(i),r=n("KPZG"),o=n("Q2/A");const s=/\{\s*(\w+)\s*\}/g;var l=(e,t)=>Object(o.a)(s,e,t);var c=n("gYog"),d=n("yjg8"),u=n("U4JR"),m=n("flQA"),p=n("n6mq");const h=d.e;function f({contextLogData:e,bubbles:t,id:n,referringSource:i,slotIndex:o,storyType:s,title:d,titleIcon:f,viewType:g,viewParameter:b}){const y=t.map(({type:e,id:t})=>e+":"+t).join("|");return a.a.createElement(c.a,{viewType:g,componentType:200,viewParameter:b,loggingId:n,contextLogData:{story_type:s,objectId:n,content_ids:y,...e},impressionType:"Story",slotIndex:o},a.a.createElement(p.e,null,d&&a.a.createElement(p.e,{display:"flex",marginBottom:1,justifyContent:"center",alignItems:"center"},"number"==typeof f&&f!==m.a&&a.a.createElement(p.e,{marginEnd:2},a.a.createElement(p.t,{accessibilityLabel:"",color:"darkGray",icon:Object(m.b)(f),size:24})),a.a.createElement(p.V,{size:"lg"},function({args:e,format:t}){const n=(e||[]).reduce((e,t,n)=>({...e,[n]:t.text}),{});return l(t,n)}(d))),t.map((e,t)=>a.a.createElement(p.e,{paddingY:1,key:"bubble-"+e.id,flex:"none"},a.a.createElement(r.a,{bubble:e,onClick:e=>{Object(u.b)(101,{objectId:e,view:g,viewParameter:b,component:200})},referringSource:i,height:103,width:h,storyId:n,viewType:g,viewParameter:b,slotIndex:t,contextLogData:{content_ids:y,story_type:s}})))))}},ENn1:function(e,t,n){var i=n("zpPL"),a=n("xjqW"),r=n("Y8Sn");t.a=({pin:e,viewParameter:t,viewType:n})=>{const{id:o,videos:s}=e,l=Object(r.f)(e),c=Object(r.g)(e);let d;if(Object(r.j)(s)&&s){const{video_list:e}=s,t=e[Object.keys(e)[0]];d=t&&t.duration}return()=>{i.a.instance.dispatch(Object(a.b)({id:o,isProduct:l,isPromoted:c,videoDuration:d,viewParameter:t,viewType:n,type:"pin"}))}}},ESls:function(e,t,n){n.d(t,"a",(function(){return s}));var i=n("q1tI"),a=n.n(i),r=n("0rqB"),o=n("pLLR");function s({activate:e,children:t,isEligible:n,name:i}){return a.a.createElement(o.b,null,o=>a.a.createElement(r.a,{activate:e,activateExperiment:e=>o.experiments.v2ActivateExperiment(e)||"",group:o.experiments.v2GetGroup(i)||"",isEligible:n,name:i},t))}},ExRq:function(e,t,n){n.d(t,"a",(function(){return c}));var i=n("uVIr"),a=n("eOdZ"),r=n("qUSw"),o=n("i9se");const s={[o.a.BOARD_ACTIVITY]:"BoardActivityCommentResource",[o.a.BOARD_ACTIVITY_COMMENT]:"BoardActivityNestedCommentResource"},l={[o.a.BOARD]:"boardId",[o.a.BOARD_ACTIVITY]:"activityId",[o.a.BOARD_ACTIVITY_COMMENT]:"activityId"};function c({contentMarkdown:e,imageSignatures:t,objectIds:n,parentId:c,parentType:d,text:u,tags:m,replyToCommentId:p}){return h=>{const f=s[d],g={[l[d]]:c,contentMarkdown:e,imageSignatures:t,objectIds:n,tags:m,text:u,replyToCommentId:p},b=o.b[d],y=d!==o.a.BOARD_ACTIVITY_COMMENT;return a.a.create(f,g).callCreate({showError:!0}).then(e=>{const t=e.resource_response.data;return h(function(e,t){return{type:"ACTIVITY_ITEM_CREATED",payload:{parentId:e,activityItem:t}}}(c,t)),h(Object(i.a)({feedId:c,feedType:b,itemIds:[t.id],itemType:t.type,prepend:y})),h(Object(r.b)(c)),e})}}},FDmi:function(e,t,n){n.d(t,"a",(function(){return s}));var i=n("q1tI"),a=n.n(i),r=n("n6mq");const o=(e,t)=>{const n=null==e?void 0:e.includes("images/user/default");return Boolean(n&&t)};function s({accessibilityLabel:e,name:t,outline:n,size:i,src:s,verified:l}){return a.a.createElement(r.b,{accessibilityLabel:e,name:t,outline:n,size:i,src:o(s,t)?void 0:s,verified:l})}},FF6m:function(e,t,n){n.d(t,"a",(function(){return r}));var i=n("q1tI"),a=n.n(i);function r(e){const{name:t,resourceDependencies:n=(()=>[])}=e;return function(e){function i(t){return a.a.createElement(e,t)}return i.WrappedComponent=e,i.routeName=t,i.displayName="StaticRouteData",i.getResourceDependencies=n,i}}},GoyQ:function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},Gx6I:function(e,t,n){n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return c}));var i=n("eOdZ"),a=n("i9se");const r={[a.a.BOARD_ACTIVITY]:"BoardActivityReactionResource",[a.a.BOARD_ACTIVITY_COMMENT]:"BoardActivityCommentReactionResource"};function o(e,t,n=1){return{type:"ACTIVITY_ITEM_UPDATE_REACTION_COUNT",payload:{id:e,increment:t,reactionType:n}}}function s(e,t,n){return r=>{const o=a.c[t],s={activityId:e,...n};return i.a.create(o,s).callUpdate().then(e=>{const t=e.resource_response.data;return r({type:"ACTIVITY_ITEM_UPDATED",payload:{data:t}}),t})}}function l(e,t,n,a){return s=>{if(n===a)return;const l=r[t],c={activityId:e,reactionType:a},d=i.a.create(l,c);0===a?d.callDelete({showError:!1}):d.callUpdate({showError:!1}),0!==n&&s(o(e,!1,n)),0!==a&&s(o(e,!0,a))}}function c(e,t,n,a,s=0){return async l=>{const c=r[n];if(!a&&s>0){l(o(e,!1,s)),l(o(e,!0,t));const n={activityId:e,reactionType:s},a=i.a.create(c,n),r={activityId:e,reactionType:t},d=i.a.create(c,r);await a.callDelete({showError:!1}),d.callCreate({showError:!1})}else{const n={activityId:e,reactionType:t},r=i.a.create(c,n);a?r.callDelete({showError:!1}):r.callCreate({showError:!1}),l(o(e,!a,t))}}}},"HOY+":function(e,t,n){var i=n("q1tI"),a=n.n(i),r=n("/MKj"),o=n("s+7V"),s=n("Ye/N"),l=n("qhFy"),c=n("n6mq");const d={__path:"M12 18.5A6.508 6.508 0 0 1 5.5 12c0-1.706.689-3.307 1.835-4.5H6.5a1 1 0 1 1 0-2h4.185v4.474a1 1 0 0 1-2 0V8.972A4.505 4.505 0 0 0 7.5 12c0 2.481 2.019 4.5 4.5 4.5s4.5-2.019 4.5-4.5a4.49 4.49 0 0 0-3.112-4.283 1 1 0 1 1 .615-1.902A6.482 6.482 0 0 1 18.5 12c0 3.584-2.916 6.5-6.5 6.5M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0"},u={__path:"M17.496 14.572a1 1 0 0 1-1 1h-.001a1.001 1.001 0 0 1-.999-1.001l.002-4.652-7.29 7.288a.995.995 0 0 1-.707.293.999.999 0 0 1-.707-1.707l7.293-7.29L9.428 8.5a1 1 0 0 1 .001-2h.001l8.071.005-.005 8.067zM12 0C5.373 0 0 5.373 0 12c0 6.628 5.373 12 12 12 6.628 0 12-5.372 12-12 0-6.627-5.372-12-12-12z"},m={overlay:{__style:{backgroundColor:"#000"}}};function p({backgroundImage:e,naturalHeight:t,naturalWidth:n,onRestartVideo:i,pinTitle:r,pin:o}){const{id:l}=o;return a.a.createElement(c.v,{alt:r||s.a._("pin image","image of a pin","image of a pin"),naturalHeight:t,naturalWidth:n,src:e},a.a.createElement(c.e,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,opacity:.8,dangerouslySetInlineStyle:m.overlay}),a.a.createElement(c.e,{justifyContent:"center",direction:"column",display:"flex",position:"absolute",height:"100%",width:"100%","data-test-id":"video-end-card-"+l},a.a.createElement(c.U,{rounding:2},a.a.createElement(c.e,{display:"flex",justifyContent:"center",padding:2},a.a.createElement(c.t,{accessibilityLabel:s.a._("Visit site","Button when pressed goes to pin's website","Button when pressed goes to pin's website"),color:"white",dangerouslySetSvgPath:u,size:25}),a.a.createElement(c.e,{margin:1}),a.a.createElement(c.V,{color:"white",truncate:!0,weight:"bold"},s.a._("Visit site","Button when pressed goes to pin's website","Button when pressed goes to pin's website")))),a.a.createElement(c.e,{margin:3}),a.a.createElement(c.U,{onTap:i,rounding:2},a.a.createElement(c.e,{display:"flex",justifyContent:"center",padding:2},a.a.createElement(c.t,{accessibilityLabel:s.a._("Watch again","Button when pressed restarts the video","Button when pressed restarts the video"),color:"white",dangerouslySetSvgPath:d,size:25}),a.a.createElement(c.e,{margin:1}),a.a.createElement(c.V,{color:"white",truncate:!0,weight:"bold"},s.a._("Watch again","Button when pressed restarts the video","Button when pressed restarts the video"))))))}var h=n("51gp"),f=n("Y8Sn"),g=n("vZlu");const b=new Set(["ConversationView","TodayTabFeed"]);var y=Object(r.connect)(void 0,e=>({setCurrentVideo:t=>e(Object(g.c)(t))}))((function({inAdsDesktopVideoExperiment:e,isAutoplay:t,cropHeight:n,currentTime:r,lowResOnly:o,highResOnly:d,onLoad:u,onError:m,saved:g,onTimeChange:y,isExperimentalPinRep:E,pin:w,surface:_,playing:v,rootMargin:S,setCurrentVideo:O,viewType:T,viewParameter:I}){const[C,x]=Object(i.useState)(0),[P,R]=Object(i.useState)(!1),[k,j]=Object(i.useState)(!0),A=Object(f.g)(w),D=A&&!w.is_eligible_for_web_closeup,L=E&&A&&w.is_eligible_for_web_closeup&&!b.has(_),N=D||!E||!A;let M=!v;e&&(M=k,t&&v&&k&&j(!1));const{url:B}=w.images["236x"]||{},{id:F,is_promoted:z}=w,H=Object(i.useCallback)(({event:e})=>{e.preventDefault(),e.stopPropagation(),x(0),O({pinId:F,isPromoted:z,currentTime:0}),R(!1)},[z,F,O,C]),V=Object(i.useCallback)(()=>{z&&R(L),x(e=>e+1)},[L,C]);if(!w.videos||!w.videos.video_list.V_HLSV4)return null;const{height:U,thumbnail:G,width:q,url:W}=w.videos.video_list.V_HLSV4||{},Y=w.videos.id,$=[{type:"video/m3u8",src:W}];return P&&A?a.a.createElement(c.e,null,a.a.createElement(p,{backgroundImage:B,naturalHeight:U,naturalWidth:q,pin:w,onRestartVideo:H})):M?a.a.createElement(c.e,null,a.a.createElement(l.b,{lowResOnly:o,highResOnly:d,onLoad:u,onError:m,pin:w,saved:g})):a.a.createElement(c.e,null,a.a.createElement(h.a,{cropHeight:n,rootMargin:S,inAdsDesktopVideoExperiment:e,contextLogData:{viewParameter:I,component:0,objectId:w.id,video_id:Y,view:T},accessibilityMaximizeLabel:s.a._("Maximize","Maximize button on video","Maximize button on video"),accessibilityMinimizeLabel:s.a._("Minimize","Minimize button on video","Minimize button on video"),accessibilityMuteLabel:s.a._("Mute","Mute button on video","Mute button on video"),accessibilityPauseLabel:s.a._("Pause","Pause button on video","Pause button on video"),accessibilityPlayLabel:s.a._("Play","Play button on video","Play button on video"),accessibilityUnmuteLabel:s.a._("Unmute","Unmute button on video","Unmute button on video"),aspectRatio:q/U,captions:"",hlsConfig:{capLevelToPlayerSize:!0,startPosition:r||-1},loop:N,onTimeChange:y,playing:v,poster:B||G,src:$,videoStartTime:r,volume:0,onEnded:V}))}));function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const w=Object(o.a)(y);class _ extends a.a.Component{constructor(...e){super(...e),E(this,"calculateCurrentVideoTime",()=>{const{currentTimeFromPinRep:e,pin:t,videosAutoplaying:n}=this.props,{id:i}=t,a=Object(f.b)(i,n);return this.currentVideoCurrentTime||a||e}),E(this,"handleVisibilityChanged",e=>{const{currentTimeFromPinRep:t,pin:n,setCurrentVideo:i,pauseAutoplay:a,videosAutoplaying:r}=this.props,{id:o,is_promoted:s}=n,l=Object(f.k)(o,r),c=Object(f.a)(o,r);e?(s||c)&&i({pinId:o,isPromoted:s,currentTime:this.calculateCurrentVideoTime()}):!e&&l&&a({pinId:o,isPromoted:s,currentTime:t||this.currentVideoCurrentTime})}),E(this,"handleVideoTimeChange",e=>{const{pin:t,onTimeChange:n,videosAutoplaying:i}=this.props,{id:a}=t;Object(f.k)(a,i)&&(this.currentVideoCurrentTime=e.time),n&&n(e)})}componentDidMount(){this.props.onLoad&&this.props.onLoad()}componentDidUpdate(e){const{appInFocus:t}=e,{appInFocus:n,currentTimeFromPinRep:i,pauseAutoplay:a,pin:r,setCurrentVideo:o,videosAutoplaying:s}=this.props,{id:l,is_promoted:c}=r,d=Object(f.k)(l,s);n!==t&&!n&&d?(this.pausedDueToBrowserOutOfFocus=!0,a({pinId:l,isPromoted:c,currentTime:i||this.currentVideoCurrentTime})):this.pausedDueToBrowserOutOfFocus&&n&&(this.pausedDueToBrowserOutOfFocus=!1,o({pinId:l,isPromoted:c,currentTime:this.calculateCurrentVideoTime()}))}componentWillUnmount(){const{currentTimeFromPinRep:e,pauseAutoplay:t,pin:n,videosAutoplaying:i}=this.props,{id:a,is_promoted:r}=n;Object(f.k)(a,i)&&t({pinId:a,isPromoted:r,currentTime:e||this.currentVideoCurrentTime})}render(){const{cropHeight:e,isAutoplay:t,pin:n,surface:i,videosAutoplaying:r,viewParameter:o,viewType:s,highResOnly:l,lowResOnly:c,onError:d,onLoad:u,saved:m,inAdsDesktopVideoExperiment:p,isExperimentalPinRep:h,rootMargin:g}=this.props,{id:b}=n,y=Object(f.b)(b,r),E=Object(f.k)(b,r)&&t;return a.a.createElement(w,{cropHeight:e,rootMargin:g,currentTime:y,inAdsDesktopVideoExperiment:p,isAutoplay:t,viewParameter:o,viewType:s,onTimeChange:this.handleVideoTimeChange,onVisibilityChanged:this.handleVisibilityChanged,pin:n,surface:i,playing:E,trackFullVisible:!1,highResOnly:l,lowResOnly:c,onError:d,onLoad:u,saved:m,isExperimentalPinRep:h})}}t.a=Object(r.connect)((e,t)=>({appInFocus:e.ui.app.appInFocus,isAutoplay:e.ui.app.isAutoplay,videosAutoplaying:e.ui.app?e.ui.app.videosAutoplaying:{organicVideosAutoplaying:{},promotedVideosAutoplaying:{}}}),(e,t)=>({pauseAutoplay:t=>e(Object(g.a)(t)),setCurrentVideo:t=>e(Object(g.c)(t))}))(_)},J8Pj:function(e,t,n){n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"d",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"e",(function(){return s}));const i=350,a=316,r=134,o=2,s=235},JwAW:function(e,t,n){function i(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}n.d(t,"a",(function(){return i}))},KPZG:function(e,t,n){n.d(t,"b",(function(){return T}));var i=n("q1tI"),a=n.n(i),r=n("/MKj"),o=n("FDmi"),s=n("T0g9"),l=n("Ye/N"),c=n("gYog"),d=n("qD10"),u=n("eBDd"),m=n("DBEV"),p=n("TgLd"),h=n("xjqW");var f=({id:e,viewParameter:t,viewType:n})=>Object(h.b)({id:e,isProduct:!1,isPromoted:!1,videoDuration:null,viewParameter:t,viewType:n,type:"pin"}),g=n("eOdZ"),b=n("M1Uz"),y=n("nGHF"),E=n("n6mq");function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class _ extends a.a.PureComponent{constructor(...e){var t;super(...e),t=this,w(this,"state",{showModal:!1,reportType:null}),w(this,"handleDismiss",()=>this.setState({showModal:!1})),w(this,"handleClick",()=>{const{reportType:e}=this.state;"image"===e?this.reportSuggestionImage():this.reportSuggestionText()}),w(this,"reportSuggestionImage",(async function(){const{imgSignature:e,reportImage:n}=t.props;t.setState({showModal:!1});n((await g.a.create("GetPinFromSignature",{imgSignature:e}).callGet()).resource_response.data.id)})),w(this,"reportSuggestionText",()=>{const{handleReport:e,toastManagerContext:t}=this.props;e&&(e(),t.showToast(({onHide:e})=>a.a.createElement(b.a,{onHide:e,text:l.a._("Thanks for your report! This will be reviewed by our Trust and Safety Team","Toast after reporting a trending search suggestion","Toast after reporting a trending search suggestion")})),this.handleDismiss())}),w(this,"showModal",({event:e})=>{e.stopPropagation(),e.preventDefault(),this.setState({showModal:!0})})}render(){const{showModal:e}=this.state;return a.a.createElement(a.a.Fragment,null,a.a.createElement(m.a,{accessibilityLabel:l.a._("Report","Accessibility label for report icon for trending search suggestion","Accessibility label for report icon for trending search suggestion"),onClick:this.showModal,backgroundHaloSize:24}),e&&a.a.createElement(p.b,{accessibilityModalLabel:l.a._("Report search term","accessible label for report trending suggestion modal","accessible label for report trending suggestion modal"),heading:l.a._("Report search term","Heading for report trending suggestion modal","Heading for report trending suggestion modal"),onDismiss:this.handleDismiss,size:"sm"},a.a.createElement(E.e,null,a.a.createElement(E.e,{padding:5},a.a.createElement(E.V,null,l.a._("When you flag this, our Trust and Safety team will review it. If it doesnt meet our Community Guidelines, it will be blocked.","What will happen when you report a trending suggestion","What will happen when you report a trending suggestion"))),a.a.createElement(E.e,{role:"list",display:"flex",direction:"column",marginBottom:4,paddingX:5},a.a.createElement(E.e,{alignItems:"center",paddingY:1,display:"flex",direction:"row"},a.a.createElement(E.H,{checked:"text"===this.state.reportType,id:"textType",onChange:()=>this.setState({reportType:"text"}),value:"Report trending search text"}),a.a.createElement(E.e,{flex:"grow"},a.a.createElement(E.w,{htmlFor:"textType"},a.a.createElement(E.e,{paddingX:2},a.a.createElement(E.V,null,"Report trending search text"))))),a.a.createElement(E.e,{alignItems:"center",paddingY:1,display:"flex",direction:"row"},a.a.createElement(E.H,{checked:"image"===this.state.reportType,id:"imageType",onChange:()=>this.setState({reportType:"image"}),value:"Report trending search image"}),a.a.createElement(E.e,{flex:"grow"},a.a.createElement(E.w,{htmlFor:"imageType"},a.a.createElement(E.e,{paddingX:2},a.a.createElement(E.V,null,"Report trending search image")))))),a.a.createElement(E.o,null),a.a.createElement(E.e,{display:"flex",justifyContent:"end",padding:2},a.a.createElement(E.e,{margin:2},a.a.createElement(E.f,{onClick:this.handleDismiss,text:l.a._("Cancel","Text for cancel button when reporting trending search suggestion","Text for cancel button when reporting trending search suggestion")})),a.a.createElement(E.e,{margin:2},a.a.createElement(E.f,{color:"red",onClick:this.handleClick,text:l.a._("Report","Button label to report trending search suggestion","Button label to report trending search suggestion"),disabled:!this.state.reportType}))))))}}var v=Object(r.connect)(null,(e,t)=>({reportImage:n=>e(f({id:n,viewParameter:t.viewParameter,viewType:t.viewType}))}))(Object(y.c)(_)),S=n("flQA");const O={bubbleOverlay:{backgroundColor:"rgba(0, 0, 0, 0.4)"},hoverOverlay:{backgroundColor:"rgba(0, 0, 0, 0.6)"}},T=({storyCategory:e,query:t,referringSource:n,bubbleId:i,storyId:a})=>{const r=[0,24,21,25,26].includes(e),o=Object(s.a)({q:t,rs:n||void 0,b_id:i,source_id:a});return r?"/discover/article/"+i:"/search/pins/"+(o?"?"+o:"")};t.a=Object(r.connect)((function({viewer:e}){return{viewer:e}}),()=>({}))((function({bubble:e,height:t,storyId:n,width:r,onClick:s,referringSource:m,contextLogData:p,viewType:h,viewParameter:f,slotIndex:g,handleReport:b,showFlag:y,imgSignature:w,onMouseEnter:_,onMouseLeave:I,isHovered:C,viewer:x}){const[P,R]=Object(i.useState)(!1),{id:k,action:j,cover_images:A,dominant_colors:D,identifier_icon_type:L,title:N,story_category:M,curator:B}=e,F=A[0]&&(A[0]["280x280"]||A[0]["236x"]),z=Object(u.a)(N&&N.format||"",N&&N.args||{}),H=D&&D.length?D[0]:"gray",V=(null==j?void 0:j.url)||T({storyCategory:M,query:z,referringSource:m,bubbleId:k,storyId:n});return a.a.createElement(c.a,{impressionAuxFields:{storyCategory:M,storyIdStr:n},impressionType:"Article",loggingId:k,viewType:h,viewParameter:f,slotIndex:g,contextLogData:{story_id:n,...p}},a.a.createElement(E.e,null,a.a.createElement("div",{onMouseEnter:()=>{_?_():R(!0)},onMouseLeave:()=>{I?I():R(!1)}},a.a.createElement(d.a,{to:V,onClick:()=>{s&&s(k)}},a.a.createElement(E.A,{rounding:4},a.a.createElement(E.e,{width:r||"100%",height:t,dangerouslySetInlineStyle:{__style:{backgroundColor:H}}},F&&a.a.createElement(E.v,{alt:z,color:H,fit:"cover",naturalHeight:F.height,naturalWidth:F.width,src:F.url})),a.a.createElement(E.e,{height:t,width:r||"100%",dangerouslySetInlineStyle:{__style:C||P?O.hoverOverlay:F&&O.bubbleOverlay},position:"absolute",top:!0,left:!0}),B&&26!==M&&a.a.createElement(E.e,{position:"absolute",top:!0,left:!0,padding:2},a.a.createElement(o.a,{outline:!0,size:"xs",src:B.image_small_url,name:B.full_name})),L&&L!==S.a&&a.a.createElement(E.e,{alignItems:"center",color:"white",display:"flex",height:24,justifyContent:"center",left:!0,margin:2,opacity:.8,position:"absolute",rounding:"circle",top:!0,width:24},a.a.createElement(E.t,{icon:Object(S.b)(L),accessibilityLabel:l.a._("Shopping icon","bubble.shoppingIcon.label","Accessibility label for bubble shopping Icon"),color:"darkGray",size:12})),a.a.createElement(E.e,{display:"flex",height:t,width:r||"100%",position:"absolute",top:!0,padding:3,alignItems:26===M?"end":"center",justifyContent:"center"},a.a.createElement(E.e,{display:"flex",direction:"column"},t>200?a.a.createElement(E.s,{size:"md",align:"center",color:"white"},z):a.a.createElement(E.V,{align:"center",color:"white",weight:"bold"},z),B&&26===M&&a.a.createElement(E.e,{display:"flex",justifyContent:"center",alignItems:"center",marginTop:4},a.a.createElement(E.e,{marginEnd:2},a.a.createElement(o.a,{outline:!0,size:"xs",src:B.image_small_url,name:B.full_name})),a.a.createElement(E.V,{size:"sm",color:"white"},B.full_name)))),x.isAuth&&x.isEmployee&&y&&(C||P)?a.a.createElement(E.e,{position:"absolute",bottom:!0,right:!0,marginBottom:1},a.a.createElement(v,{handleReport:b,viewType:h,viewParameter:f,imgSignature:w||""})):null)))))}))},KfNM:function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},Kz5y:function(e,t,n){var i=n("WFqU"),a="object"==typeof self&&self&&self.Object===Object&&self,r=i||a||Function("return this")();e.exports=r},"L++T":function(e,t,n){function i(e,t){let n=e*Math.pow(10,t),i=Math.round(10*(n-parseInt(n,10)))/10;return-.5===i&&(i=-.6),n=Math.round(parseInt(n,10)+i)/Math.pow(10,t),n}function a(e){const t=i(parseFloat(e),2);return t?t.toFixed(2):e}function r(e,t=!1){let n=100,i=1e4;return t&&(n=1e3,i=1e3),Math.round(e*n)*i}function o(e,t=!1){if(Number.isNaN(e))return 0;let n=1e6;return t&&(n=1e6),e/n}function s(e){return e?a(o(e).toString()):""}function l(e){const t=parseFloat(e);let n=0;return isNaN(t)||(n=1e6*t),n}n.d(t,"f",(function(){return i})),n.d(t,"a",(function(){return r})),n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return s})),n.d(t,"e",(function(){return l}));const c={fractionalCentFormatData:{},formatData:{}};function d(e){return e&&(e=e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")),e}function u(e,t=!1){const n=t?"fractionalCentFormatData":"formatData";let i=c[n][e];if(!i){let a=2,r=2,o=-9999.99;t&&(a=3,r=3,o=-9999.999);const s=new Intl.NumberFormat(e,{minimumFractionDigits:a,maximumFractionDigits:r}),l=s.formatToParts(o),u=l.find(e=>"minusSign"===e.type),m=l.find(e=>"group"===e.type),p=l.find(e=>"decimal"===e.type),h=m?m.value:"",f=d(h),g="[^0-9"+f+d(p?p.value:"")+d(u?u.value:"")+"]";i={format:s,decimal:p?p.value:null,group:h,groupRegex:new RegExp(f||"","g"),cleaner:new RegExp(g,"g")},c[n][e]=i}return i}t.b={quantize:i,formatAsCurrency:a,toRadians:function(e){return e*Math.PI/180},currencyToMicroCurrency:r,microCurrencyToCurrency:o,parseNumberBasedOnLocale:function(e,t,n=!1){if("number"==typeof e)return e;if("string"!=typeof e)return NaN;const i=u(t,n);let a=e.replace(i.cleaner,"");return i.decimal&&(a=a.replace(i.decimal,"!_!")),i.group&&(a=a.replace(i.groupRegex,"")),a=a.replace("!_!","."),parseFloat(a)},formatBasedOnLocale:function(e,t,n=!1){return u(t,n).format.format(e)},formatUSD:function(e){return e.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")},floatEquals:function(e,t,n){return Math.abs(e-t)<n}}},L2iP:function(e,t,n){n.d(t,"a",(function(){return i})),n.d(t,"i",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"j",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return c})),n.d(t,"h",(function(){return d})),n.d(t,"g",(function(){return u})),n.d(t,"f",(function(){return m}));const i=64,a=80,r=22,o="HeaderContent",s="unauthEuCookieBar",l=4,c=24,d=671,u={marginBottom:l},m={boxShadow:"0px 8px 8px -8px rgba(0, 0, 0, 0.1)",transition:"box-shadow 300ms ease-in-out"}},LT60:function(e,t,n){n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return s}));var i=n("q1tI"),a=n.n(i);const r=()=>{},o=e=>{e.stopPropagation(),e.nativeEvent&&e.nativeEvent.stopImmediatePropagation&&e.nativeEvent.stopImmediatePropagation()};function s({allowClickAndDrag:e,allowEsc:t,allowHlsVideoPlay:n,allowScroll:i,children:s}){const l=e=>function(e,t){t&&27===e.keyCode||o(e)}(e,t);return a.a.createElement("div",{onAbort:o,onAnimationEnd:o,onAnimationIteration:o,onAnimationStart:o,onBlur:r,onCanPlay:n?r:o,onCanPlayThrough:o,onChange:o,onClick:e?r:o,onCompositionEnd:o,onCompositionStart:o,onCompositionUpdate:o,onContextMenu:o,onCopy:o,onCut:o,onDoubleClick:o,onDurationChange:o,onEmptied:o,onEncrypted:o,onEnded:o,onError:o,onFocus:r,onInput:o,onInvalid:o,onKeyDown:l,onKeyPress:l,onKeyUp:l,onLoad:o,onLoadedData:o,onLoadedMetadata:o,onLoadStart:o,onMouseDown:o,onMouseEnter:o,onMouseLeave:o,onMouseMove:e?r:o,onMouseOut:o,onMouseOver:o,onMouseUp:e?r:o,onPaste:o,onPause:o,onPlay:o,onPlaying:o,onProgress:o,onRateChange:o,onScroll:i?r:o,onSeeked:o,onSeeking:o,onSelect:o,onStalled:o,onSubmit:o,onSuspend:o,onTimeUpdate:o,onTouchCancel:o,onTouchEnd:e?r:o,onTouchMove:e?r:o,onTouchStart:e?r:o,onTransitionEnd:o,onVolumeChange:o,onWaiting:o,onWheel:o},s)}},M1Uz:function(e,t,n){n.d(t,"a",(function(){return s}));var i=n("q1tI"),a=n.n(i),r=n("pIz0"),o=n("n6mq");function s({color:e="white",duration:t=2e3,href:n,imageUrl:s,onClick:l,onHide:c,openNewPage:d,text:u,button:m}){const[p,h]=Object(i.useState)(!1),[f,g]=Object(i.useState)(!1),b=Object(i.useRef)(),y=()=>{h(!0),b.current=setTimeout(c,r.a)},E=()=>{b.current&&clearTimeout(b.current)},w=()=>{b.current=setTimeout(y,t)};Object(i.useEffect)(()=>(setTimeout(()=>g(!0),100),w(),E),[]);const _="string"==typeof u?u:`${u[0]} ${u[1]}`,v=s?a.a.createElement(o.e,{height:48,overflow:"hidden",width:48},a.a.createElement(o.v,{alt:_,fit:"cover",naturalHeight:1,naturalWidth:1,src:s})):void 0,S=a.a.createElement(o.Y,{color:e,text:u,thumbnail:v,button:m});return a.a.createElement("div",{style:Object(r.b)(f,p),onMouseEnter:E,onMouseLeave:w,"data-test-id":"toast"},n?a.a.createElement("a",{href:n,onClick:l,target:d?"_blank":null,rel:d?"noopener noreferrer":null},S):S)}},MUNL:function(e,t,n){n.r(t);var i=n("q1tI"),a=n.n(i),r=n("c0rk"),o=n("Taj8"),s=n("OBA1"),l=n("Ye/N"),c=n("R0ru"),d=n("82UD"),u=n("w70y"),m=n("yjg8"),p=n("n6mq");const h=({data:e,itemIdx:t})=>a.a.createElement(d.a,{pin:e,pinId:e.id,surface:"RelatedProductsFeed",trackingParameters:{slotIndex:t,viewParameter:3334,viewType:72}});function f({resourceOptions:e}){const t=Object(u.a)({name:"VisualLiveSearchProductFeedResource",options:e}),{data:n,isAtEnd:r,isLoaded:o,isFetching:s,fetchMore:d}=t,f=Object(i.useRef)(null);if(!o)return a.a.createElement(p.e,{display:"flex",alignSelf:"center",justifyContent:"center"},a.a.createElement(p.O,{accessibilityLabel:l.a._("Loading related products","Label for loading spinner","Label for loading spinner"),show:!0}));const g=Array.isArray(n)?n:null==n?void 0:n.results;return a.a.createElement(p.e,{display:"flex",maxWidth:"100%",ref:f},g&&a.a.createElement(c.default,{columnWidth:m.e,comp:h,isAtEnd:r,isFetching:s,isLoaded:o,items:g,loadItems:()=>{s||r||d()},paddingStyle:"simplified",scrollContainer:()=>f.current||window}))}var g=n("AyyZ");class b extends i.PureComponent{constructor(...e){var t,n,i;super(...e),i=({data:e,itemIdx:t})=>{const{resourceOptions:{image_signature:n},visualLiveSearchResource:i}=this.props,r=i&&i.data&&i.data.search_identifier,o=`${window.location.pathname}products/${window.location.search}`;return"story"===e.type?a.a.createElement(g.a,{story:e,dangerouslySetActionUrl:o,slotIndex:t}):a.a.createElement(d.a,{pin:e,pinId:e.id,surface:"FlashlightResultGrid",trackingParameters:{contextLogData:{viewData:{search_identifier:r},search_identifier:r,image_signature:n},slotIndex:t,viewParameter:3050,viewType:72}})},(n="renderItem")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}componentDidMount(){const{visualLiveSearchResource:e,onSearchIdChange:t}=this.props,n=e&&e.data&&e.data.search_identifier;n&&t(n)}componentDidUpdate({visualLiveSearchResource:{data:e}}){const{visualLiveSearchResource:{data:t}}=this.props,n=t&&t.search_identifier,i=e&&e.search_identifier;n&&n!==i&&this.props.onSearchIdChange(n)}render(){const{visualLiveSearchResource:e}=this.props,{data:t,isFetching:n,fetchMore:i}=e,r=t&&t.results,o=t&&t.search_identifier;return a.a.createElement(p.e,null,r&&o&&a.a.createElement(p.e,null,a.a.createElement(p.B,{columnWidth:m.e,comp:this.renderItem,gutterWidth:m.d,items:r,loadItems:i,minCols:1,scrollContainer:()=>window})),a.a.createElement(p.O,{accessibilityLabel:l.a._("Loading search results...","Accessibility label for loading visual search results","Accessibility label for loading visual search results"),show:n||!o}))}}function y(e){const t=Object(u.a)({name:"VisualLiveSearchResource",options:e.resourceOptions});return a.a.createElement(b,Object.assign({},e,{visualLiveSearchResource:t}))}var E=n("yNOO"),w=n("Q3yk"),_=n("Y+p1"),v=n.n(_),S=n("q8wg"),O=n("ANjH"),T=n("0Rm8"),I=n("U4JR"),C=n("uhAL"),x=n("pLLR"),P=n("EC67");function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let k=0,j="";class A extends i.Component{constructor(...e){super(...e),R(this,"state",{searchId:""}),R(this,"getResourceOptions",({pin:e,cropArea:t,width:n,height:i,cropSource:a})=>{const{id:r,image_signature:o}=e;return{pin_id:r,image_signature:o,crop:Object(C.d)({cropArea:t,scaledWidth:n,scaledHeight:i}),crop_source:a}}),R(this,"saveFlashlightImageContainerRef",e=>{this.flashlightImageContainerRef=e}),R(this,"handleCropperChange",({origCrop:e,cropSource:t})=>{const{pinId:n,history:i}=this.props;Object(C.g)({cropArea:e,pinId:n,cropSource:t,isUnified:!1})!==window.location.pathname+window.location.search&&i.replace({pathname:`/pin/${n}/visual-search/`,query:{...e,cropSource:t},search:Object(C.f)({cropArea:e,cropSource:t}),state:{internalNavigation:!0}})}),R(this,"handleSearchIdChange",e=>{this.setState({searchId:e})})}componentDidMount(){const{initialCropArea:e,pinResource:{data:t},pinId:n,history:i,view:a}=this.props;if(!e&&t){const r=Object(E.a)({initialCropArea:e,pin:t}),o=Object(C.g)({cropArea:r,pinId:n,view:a});i.replace(o)}this.flashlightImageContainerRef&&j===n&&(this.flashlightImageContainerRef.scrollTop=k),Object(I.b)(13,{view:72,viewParameter:3050,viewData:{pin_id:n}})}componentDidUpdate(e){v()(e.initialCropArea,this.props.initialCropArea)||this.setState({searchId:""})}componentWillUnmount(){const{pinId:e}=this.props;this.flashlightImageContainerRef&&(k=this.flashlightImageContainerRef.scrollTop,j=e)}renderSpinner(){return a.a.createElement(p.O,{accessibilityLabel:l.a._("Loading visual search...","Accessibility label for loading visual search page","Accessibility label for loading visual search page"),show:!0})}renderFlashlight(){const{pinResource:{data:e},initialCropArea:t,initialCropSource:n,location:c,requestContext:d,view:u}=this.props;if(!e)return null;const{width:m,height:h,url:g}=Object(w.a)(e),b=Object(E.a)({initialCropArea:t,pin:e}),_=n||5,v=this.getResourceOptions({pin:e,cropArea:b,width:m,height:h,cropSource:_}),S=m+20,O=!(c&&c.state&&c.state.internalNavigation),I=!!e.visual_objects&&Object(C.b)(e.visual_objects)||[],x=d&&d.isRTL||!1,P=S+16;return a.a.createElement(i.Fragment,null,a.a.createElement(r.a,{position:"fixed",style:{width:"100%",zIndex:3,backgroundColor:"#ffffff"}},a.a.createElement(p.e,{width:"100%",paddingY:3,paddingX:9,display:"flex",alignItems:"center"},a.a.createElement(p.e,{position:"absolute"},a.a.createElement(o.a,{pinId:e.id})),a.a.createElement(p.e,{flex:"grow"},a.a.createElement(p.V,{align:"center",weight:"bold"},a.a.createElement("span",{className:"deprecatedTextSizeXL"},"products"===u?l.a._("Shop similar items","Header explaining results of flashlight products search","Header explaining results of flashlight products search"):l.a._("More Ideas","Header explaining results of flashlight search","Header explaining results of flashlight search")))))),a.a.createElement(T.a,null,t=>"products"===u?a.a.createElement(p.e,{dangerouslySetInlineStyle:{__style:{marginTop:60}}},a.a.createElement(f,{resourceOptions:v}),";"):a.a.createElement(p.e,{display:"flex",paddingX:12},a.a.createElement("div",{style:{position:"fixed",width:S,height:"inherit",overflow:"auto",top:t+60,bottom:0,marginBottom:10},ref:this.saveFlashlightImageContainerRef},a.a.createElement("div",{"data-test-id":"flashlight-enabled-image",style:{width:m,height:h}},a.a.createElement(p.A,{height:h,rounding:2,width:m},a.a.createElement(p.v,{alt:e.description,naturalHeight:h,naturalWidth:m,src:g}),a.a.createElement(s.a,{showAnimation:O,imageSignature:e.image_signature,imageSize:{h,w:m},initialCropArea:b,onChange:this.handleCropperChange,pin:e,spotlightAreas:I})))),a.a.createElement("div",{style:{marginLeft:!x&&P,marginRight:x&&P,width:"100%",position:"relative",top:60}},a.a.createElement(y,{resourceOptions:v,onSearchIdChange:this.handleSearchIdChange})))))}render(){const{pinResource:{isLoaded:e}}=this.props,{searchId:t}=this.state;return a.a.createElement(S.a,{view:72,objectId:t},a.a.createElement("div",null,e?this.renderFlashlight():this.renderSpinner()))}}var D=Object(O.compose)(P.k,x.e,Object(u.b)({name:"PinResource",key:"pinResource",options:({pinId:e})=>({id:e,field_set_key:"detailed",fetch_visual_search_objects:!0})}))(A),L=n("NSzv"),N=n("FF6m"),M=n("d90F"),B=n("RNo4");const F=(...e)=>e.every(Number.isFinite);t.default=Object(N.a)({name:"Flashlight",resourceDependencies:(e,t)=>[{name:"PinResource",options:{id:t.id,field_set_key:"detailed",fetch_visual_search_objects:!0}}]})((function(){const{id:e}=Object(P.i)(),t=Object(P.h)(),n=Object(B.k)(t.search),i=t.pathname.includes("/products"),{x:r,y:o,w:s,h:l,max:c,min:d,tab:u,cropSource:m}=function(e){return Object.keys(e).reduce((t,n)=>({...t,[n]:parseInt(e[n],10)}),{})}(n),{category:p,domain:h,entrySource:f,q:g,rs:b}=n,y="flashlight"===f,E=y?0:1;return a.a.createElement(M.a,{name:"web_flashlight_shop_tab",isEligible:y},({anyEnabled:t,group:f})=>{const y=t&&!["holdout_control_old","holdout_control_new"].includes(f)?L.a:D;return a.a.createElement(y,{entrySource:n.entrySource,inTabsExp:t,initialCropArea:F(r,o,s,l)?{x:r,y:o,w:s,h:l}:void 0,initialCropSource:m||void 0,pinId:e,searchQuery:g,submittedFilters:{category:p,domain:h,max:c||void 0,min:d||void 0},tab:u||E,trafficSource:b,view:i?"products":"flashlight"})})}))},N89m:function(e,t,n){n.d(t,"a",(function(){return r}));var i=n("ynlw"),a=n("0nTG");function r(e){const{isProduct:t}=Object(i.a)(e);return t&&Object(a.c)(e)||""}},NBXZ:function(e,t,n){t.a=e=>e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;").replace(/\'/g,"&#39;")},NSzv:function(e,t,n){var i=n("q1tI"),a=n.n(i),r=n("/MKj"),o=n("u1Kd"),s=n("yNOO"),l=n("Q3yk"),c=n("uhAL");var d=({pin:e,cropArea:t,width:n,height:i,cropSource:a,isShopping:r,trafficSource:o,minPrice:s,maxPrice:l,domainParam:d,entrySource:u,categoryParam:m})=>{const{id:p,image_signature:h}=e;return{pin_id:p,image_signature:h,crop:Object(c.d)({cropArea:t,scaledWidth:n,scaledHeight:i}),crop_source:a,is_shopping:r,source:o,entry_source:u,price_min:s,price_max:l,domains:d,categories:m}};var u=n("Y+p1"),m=n.n(u),p=n("c0rk"),h=n("a5kZ"),f=n("Taj8"),g=n("Ye/N"),b=n("D2p8"),y=n("n6mq"),E=n("U4JR");function w({entrySource:e,handleTabChanged:t,selectedTab:n,viewParameter:r}){Object(i.useEffect)(()=>{Object(E.b)(120,{view:72,viewParameter:r,component:13184,commerce_data:JSON.stringify({entrypoint:e})})},[]);return a.a.createElement(y.T,{activeTabIndex:n,onChange:t,size:"lg",tabs:[{href:"",text:g.a._("Explore","Explore tab to see flashlight search results","Explore tab to see flashlight search results")},{href:"",text:g.a._("Shop","Shopping tab to see product results","Shopping tab to see product results")}]})}var _=n("vvax"),v=n("pLLR");function S({entrySource:e,filtersText:t,handleDrawerClose:n,handleDrawerOpen:o,isEligibleForCloseupShopV2:s,isDrawerOpen:l,onSelectTab:c,pinId:d,showFilter:u,selectedTab:m,isEligibleForTabs:S,viewParameter:O,viewType:T}){var I,C,x;const P=a.a.useRef(),R=Object(r.useSelector)(e=>e.stela)||{};Object(i.useEffect)(()=>(u&&Object(E.b)(13,{view:T,component:13467,element:11735,viewParameter:O}),P.current&&b.c.addObstruction("top",P.current),()=>{P.current&&b.c.removeObstruction("top",P.current)}),[u]);const k=()=>{Object(E.b)(101,{view:T,component:13467,element:11735,viewParameter:O}),o&&o()},j=s?g.a._("View products","relatedProducts.header","header for related products feed"):g.a._("More to shop","relatedProducts.header","header for related products feed");return a.a.createElement(p.a,{position:"fixed",style:{width:"100%",zIndex:3,backgroundColor:"#ffffff"}},a.a.createElement(y.e,{marginStart:9,paddingY:4,position:"absolute",dangerouslySetInlineStyle:{__style:{zIndex:4}}},a.a.createElement(f.a,{pinId:d,isShopping:!0})),a.a.createElement(y.e,{alignItems:"center",color:"white",display:"flex",height:60,justifyContent:"center",paddingY:4,position:"absolute",top:!0,width:"100%","data-test-id":"related-products-header",ref:P},S?a.a.createElement(y.e,{position:"fixed"},a.a.createElement(w,{entrySource:e,selectedTab:m,handleTabChanged:({event:t,activeTabIndex:n})=>{t.preventDefault(),c(n),Object(E.b)(101,{view:T,viewParameter:O,component:13184,element:10612,grid_index:""+n,commerce_data:JSON.stringify({entrypoint:e})})},viewParameter:O})):a.a.createElement(y.s,{size:"sm"},(null===(I=R.selectedStelaItem)||void 0===I?void 0:I.label)?Object(_.b)(g.a._("Shop {{ category }}","relatedProducts.stela.header","header for related products stela feed"),{category:null!==(C=null===(x=R.selectedStelaItem)||void 0===x?void 0:x.label)&&void 0!==C?C:""}):j),u&&a.a.createElement(v.a,null,e=>a.a.createElement(y.e,{marginEnd:12,position:"absolute",left:e.isRTL,right:!e.isRTL},a.a.createElement(h.a,{isDrawerOpen:l,onClick:k,buttonText:t,handleDrawerClose:n})))))}var O=n("OBA1"),T=n("EC67");var I=Object(T.k)((function({cropSource:e,cropArea:t,description:n,disableCrop:i,height:r,imageSignature:o,imageURL:s,pin:l,history:d,searchQuery:u,showAnimation:m,entrySource:p,stelaResults:h,top:f,trafficSource:g,width:b,selectedTab:E,viewParameter:w,viewType:_}){return a.a.createElement(y.e,{"data-test-id":"flashlight-enabled-image",width:b,height:r,overflow:"hidden",rounding:4},a.a.createElement(y.A,{height:r,width:b},a.a.createElement(y.v,{alt:n,naturalHeight:r,naturalWidth:b,src:s}),a.a.createElement(O.a,{cropSource:e,disableCrop:i,entrySource:p,showAnimation:m,imageSignature:o,imageSize:{h:r,w:b},initialCropArea:t,onChange:({origCrop:e,cropSource:t,entrySource:n,trafficSource:i})=>{Object(c.g)({cropSource:t,cropArea:e,entrySource:n,isUnified:!0,pinId:l.id,searchQuery:u,trafficSource:i})!==window.location.pathname+window.location.search&&d.replace({pathname:`/pin/${l.id}/related-products/`,query:{...e,cropSource:t,entrySource:n,rs:i,tab:E},search:Object(c.f)({cropArea:e,cropSource:t,entrySource:n,trafficSource:i,tab:E}),state:{internalNavigation:!0}})},pin:l,searchQuery:u,spotlightAreas:h,trafficSource:g,viewParameter:w,viewType:_})))})),C=n("ELJR"),x=n("rsy7"),P=n("82UD"),R=n("AyyZ"),k=n("qLDv");var j=function({activateLabelsExp:e,entrySource:t,image_signature:n,isFlashlightExploreTab:r,labelsGroup:o,pinId:s,pinImageCrop:l,searchId:c,shoppingSurface:d,viewParameter:u,viewType:m}){return({data:p,itemIdx:h})=>{Object(x.a)(p).length>0&&e&&(k.e.includes(o)||o.startsWith("control"))&&e();const f=r?"RelatedProductsExploreTab":d,g=`/pin/${s}/related-products/domain/`;let b,y=[];switch("BUBBLE_ONE_COL"===p.story_type&&(y=p.objects,f===d&&(y=p.objects.slice(0,2))),p.type){case"story":switch(p.story_type){case"related_domain_collage":b=a.a.createElement(R.a,{story:p,dangerouslySetActionUrl:g,slotIndex:h});break;case"BUBBLE_ONE_COL":b=a.a.createElement(C.a,{bubbles:y,id:p.id,referringSource:p.referring_source,slotIndex:h,storyType:p.story_type,title:p.title,viewType:m,viewParameter:u})}break;case"pin":b=a.a.createElement(P.a,{pin:p,pinId:p.id,pinImageCrop:l,surface:f,trackingParameters:{componentType:0,contextLogData:{viewData:{search_identifier:c},search_identifier:c,image_signature:n,commerce_data:{entrypoint:t}},slotIndex:h,viewParameter:u,viewType:m}})}return a.a.createElement(i.Fragment,null,b)}},A=n("OiGt"),D=n("w70y"),L=n("J8Pj"),N=n("mVz+"),M=n("QAzJ"),B=n("yjg8");function F({entrySource:e,handleSetAllFilters:t,isFilterOpened:n,onSearchIdChange:r,pin:o,resourceOptions:s,selectedTab:l,viewParameter:c,viewType:d}){var u;const[m]=Object(i.useState)(n),[p]=Object(i.useState)(l),[h,f]=Object(i.useState)(!1),[b,E]=Object(i.useState)(),w=Object(i.useRef)(),{anyEnabled:_}=Object(M.c)("web_flashlight_shop_tab"),{customActivate:v,group:S}=Object(M.b)("web_shopping_grid_labels"),O=Object(D.a)({name:"VisualSearchFlashlightUnifiedResource",options:s,allowStale:!1});Object(i.useEffect)(()=>{const{data:e}=O;E(e)},[O]),Object(i.useEffect)(()=>{const e=O&&O.data&&O.data.search_identifier;e&&r(e)},[O]);if(Object(i.useEffect)(()=>{n===m&&p===l||f(!h)},[n,l]),Object(i.useEffect)(()=>{const{data:e}=O,n=e&&e.search_identifier,i=b&&b.search_identifier;n&&n!==i&&(e&&t({category_filters:e.category_filters,domain_filters:e.domain_filters,price_filters:e.price_filters}),r(n))},[t,O]),!O)return null;const{auxData:T,data:I,isAtEnd:C,isFetching:x,fetchMore:P}=O,R=I&&I.results;!w.current&&(null==T||null===(u=T.grid_layout)||void 0===u?void 0:u.w_h_ratio)&&(w.current=T.grid_layout.w_h_ratio);const k="flashlight"===e&&_,F=O&&O.data&&O.data.search_identifier,z=w.current?"ShoppingDynamicHeightGrid":"ShoppingSquareGridRelatedProductsBoth",H={height:N.o*(w.current||1),width:N.o},V=j({activateLabelsExp:v,entrySource:e,image_signature:s.image_signature,isFlashlightExploreTab:k,labelsGroup:S,pinId:o.id,pinImageCrop:H,searchId:F,shoppingSurface:z,viewParameter:c,viewType:d});return a.a.createElement(y.e,{wrap:!k,display:k?"block":"flex",direction:k?void 0:"row",dangerouslySetInlineStyle:{__style:{marginLeft:k?void 0:"5px"}},justifyContent:k?"start":"center"},!k&&a.a.createElement(y.J,{isAtEnd:C,isFetching:x,fetchMore:P}),R&&a.a.createElement(i.Fragment,null,k?a.a.createElement(A.a,null,a.a.createElement(y.B,{key:h?0:1,columnWidth:B.e,comp:V,gutterWidth:B.d,items:R,loadItems:P,minCols:1,scrollContainer:()=>window})):a.a.createElement(i.Fragment,null,R.map((e,t)=>a.a.createElement(y.e,{key:`RelatedProductsUnifiedFeed-${e.id}-${t}`,height:"pin"===e.type?H.height+L.d:void 0,width:H.width,marginEnd:4},V({data:e,itemIdx:t}))))),a.a.createElement(y.e,{display:"flex",justifyContent:"center",width:"100%"},a.a.createElement(y.O,{accessibilityLabel:g.a._("Loading search results...","Accessibility label for loading visual search results","Accessibility label for loading visual search results"),show:x})))}var z=n("DzJC"),H=n.n(z),V=n("q8wg"),U=n("v/Q4"),G=n("3Pf9"),q=n("0Rm8");t.a=Object(r.connect)(({history:e})=>({isLandingPage:0===e.previous.length}),()=>({}))(({inTabsExp:e,initialCropArea:t,isLandingPage:n,initialCropSource:r,pinId:u,searchQuery:p,entrySource:h,submittedFilters:f,tab:g,trafficSource:b})=>{var w;const[_,O]=Object(i.useState)(t),[C,x]=Object(i.useState)(""),[P,R]=Object(i.useState)(0),j=Object(i.useRef)(null),A=Object(U.a)(),{category:L,domain:N,min:B,max:z}=f||{},[W,Y]=Object(i.useState)(parseInt(B,10)||null),[$,K]=Object(i.useState)(parseInt(z,10)||null),[J,X]=Object(i.useState)(N?decodeURI(N):null),[Q,Z]=Object(i.useState)(L?decodeURI(L):null),[ee,te]=Object(i.useState)(!1),[ne,ie]=Object(i.useState)(""),ae=Object(i.useCallback)(()=>te(!0),[]),re=Object(i.useCallback)(()=>te(!1),[]),[oe,se]=Object(i.useState)(),le=Object(i.useCallback)(e=>se(e),[]),[ce,de]=Object(i.useState)(),[ue,me]=Object(i.useState)(g),pe=Object(i.useCallback)(e=>me(e),[]),{data:he}=Object(D.a)({name:"PinResource",options:{id:u,field_set_key:"detailed",fetch_visual_search_objects:!0}}),fe=Object(D.a)({name:"RelatedProductMetadataResource",options:{shopSource:"feed_products",searchQuery:p,source:b,pinId:u}}),{group:ge}=Object(M.c)("web_closeup_shop_v2"),{is_eligible_for_related_products:be}=he||{},ye=(k.d.includes(ge)||A.isAuth&&"US"!==A.country)&&be,Ee=ye?427:72,we=ye?k.b:void 0,_e=Object(T.g)(),ve=Object(T.h)(),Se=({minPrice:e,maxPrice:t,domainParam:n,categoryParam:i})=>{Y(e),K(t),X(n),Z(i)};let Oe=0,Te="";const Ie=r||5;Object(i.useEffect)(()=>{if(!_&&he){const e=Object(s.a)({disableInitialCrop:"shopping"===h,pin:he}),t=Object(c.g)({cropArea:e,cropSource:Ie,entrySource:h,isUnified:!0,pinId:u,trafficSource:b,searchQuery:p});_e.replace(t)}},[]),Object(i.useEffect)(()=>(j&&j.current&&Te===u&&(j.current.scrollTop=Oe),()=>{j&&j.current&&(Oe=j.current.scrollTop,Te=u)}),[j]),Object(i.useEffect)(()=>{m()(_,t)||(O(t),x(""))},[_,t]);const Ce=H()(()=>{window&&R(window.innerWidth)},100);Object(i.useEffect)(()=>{window&&R(window.innerWidth)},[]),Object(i.useEffect)(()=>(window&&window.addEventListener("resize",Ce),()=>{window&&window.removeEventListener("resize",Ce)}),[P]),Object(i.useEffect)(()=>{if(he){const{is_eligible_for_flashlight_shopping:t}=he,{width:n,height:i}=Object(l.a)(he,we),a=Object(s.a)({initialCropArea:_,pin:he,disableInitialCrop:"shopping"===h});let r=!0,o=d({pin:he,isShopping:r,cropArea:a,entrySource:h,cropSource:Ie,trafficSource:b,searchQuery:p,width:n,height:i,minPrice:W,maxPrice:$,domainParam:J,categoryParam:Q});de(o),e&&t&&0===ue&&(r=!1,o=d({pin:he,isShopping:r,cropArea:a,entrySource:h,cropSource:Ie,trafficSource:b,width:n,height:i}),de(o))}},[ue,he,W,$,J,Q,_,Ie]),Object(i.useEffect)(()=>{if(he){const e=(!!he.visual_objects&&Object(c.c)(he.visual_objects)||[]).some(e=>!0===e.is_stela),t="shopping"===h?function(e,t){return["employees","enabled_left_default","enabled_left_stela","enabled_left_stela_holdout"].includes(e)&&t&&4===t?3462:3455}(ge,Ie):3050;Object(E.b)(13,{view:Ee,viewParameter:t,viewData:{pin_id:u},commerce_data:JSON.stringify({entrypoint:h,pin_is_stela:e})})}},[he]);const xe=e=>{x(e)},{data:Pe}=fe;if(!Pe||!he)return null;const Re=(null==oe?void 0:oe.category_filters)||Pe.category_filters,ke=(null==oe?void 0:oe.domain_filters)||Pe.domain_filters,je=(null==oe?void 0:oe.price_filters)||Pe.price_filters,{width:Ae,height:De,url:Le}=Object(l.a)(he,we),Ne=Object(s.a)({initialCropArea:_,pin:he,disableInitialCrop:"shopping"===h}),Me=!!he.visual_objects&&Object(c.c)(he.visual_objects)||[],Be=Ae+20,Fe=!(null===(w=ve.state)||void 0===w?void 0:w.internalNavigation),ze=!(!je&&!ke&&!Re||0===ue),{is_eligible_for_flashlight_shopping:He}=he;let Ve;if("shopping"===h){Ve=3455;const e=ye?3462:3456;Ve=4===Ie?e:Ve}e&&(0===ue?Ve=3050:1===ue&&(Ve=3373));const Ue=Be+40,Ge=1===ue&&ee&&ze,qe=({category:e,domain:t,min:n,max:i})=>{_e.replace({pathname:`/pin/${u}/related-products/`,query:{...Ne,cropSource:Ie,entrySource:h,rs:b,tab:ue,category:e,domain:t,min:n,max:i},search:Object(c.f)({cropArea:Ne,cropSource:Ie,entrySource:h,trafficSource:b,tab:ue}),state:{internalNavigation:!0}})};return a.a.createElement(V.a,{view:Ee,objectId:C},a.a.createElement(i.Fragment,null,a.a.createElement(S,{entrySource:h,filtersText:ne,handleDrawerClose:re,handleDrawerOpen:ae,isDrawerOpen:ee,isEligibleForCloseupShopV2:ye,isEligibleForTabs:!!e&&He,onSelectTab:pe,pinId:he.id,selectedTab:ue,showFilter:ze,viewParameter:Ve,viewType:Ee}),a.a.createElement(y.e,{marginTop:2},a.a.createElement(q.a,null,e=>a.a.createElement(y.e,{display:"flex",direction:"row"},ze&&a.a.createElement(o.default,{categoryFilters:Re,cropSource:Ie,domainFilters:ke,isDrawerOpen:ee,handleDrawerClose:re,handleFilterChange:Se,handleSubmit:qe,pinId:u,priceFilters:je,submittedFilters:f,updateButtonText:e=>{ie(e)},viewParameter:Ve,viewType:Ee}),a.a.createElement(y.e,{bottom:!0,height:"inherit",marginStart:Ge?0:12,overflow:"auto",position:"fixed",ref:j,width:Be,dangerouslySetInlineStyle:{__style:{top:e+65,marginBottom:10,left:Ge&&(ze?G.b:0)}}},a.a.createElement(I,{cropSource:Ie,cropArea:Ne,description:he.description,entrySource:h,height:De,imageSignature:he.image_signature,imageURL:Le,pin:he,showAnimation:Fe,searchQuery:p,stelaResults:Me,top:e+65,trafficSource:b,width:Ae,selectedTab:ue,disableCrop:!0,viewParameter:Ve,viewType:Ee})),a.a.createElement(v.a,null,e=>{let t={top:60};return t=e.isRTL&&!Ge?{...t,marginRight:Ue}:{...t,marginLeft:Ge?Ue+(ze?G.b-48:0):Ue},a.a.createElement(y.e,{dangerouslySetInlineStyle:{__style:t},position:"relative",width:Ge?P-Be-G.b:P-Be},ce&&a.a.createElement(F,{entrySource:h,handleSetAllFilters:le,isFilterOpened:ee,onSearchIdChange:xe,pin:he,resourceOptions:ce,selectedTab:ue,viewParameter:Ve,viewType:Ee}))}))))))})},NVsV:function(e,t,n){n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r}));var i=n("q1tI");const a="__ALL__",r="__NONE__",o={canEnableDebugger:!1,setDebuggerVisible:()=>{},debuggerVisible:!1,setDebuggingEnabled:()=>{},debuggingEnabled:!1,highlightExperiment:e=>{},highlightedExperiment:r,overrideExperiment:(e,t)=>{},overriddenExperiments:{},visibleExperimentCounts:{},setExperimentVisible:(e,t)=>{}},s=n.n(i).a.createContext(o);t.c=s},NwjN:function(e,t,n){var i=n("q1tI");t.a=Object(i.createContext)(0)},NykK:function(e,t,n){var i=n("nmnc"),a=n("AP2z"),r=n("KfNM"),o=i?i.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":o&&o in Object(e)?a(e):r(e)}},OBA1:function(e,t,n){n.d(t,"a",(function(){return R}));var i=n("q1tI"),a=n.n(i);const r={nw:0,ne:90,se:180,sw:270},o={ne:[6,-6],se:[6,6],sw:[-6,6],nw:[-6,-6]},s={nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},l=(e,t,n,i)=>{if("rounded"===i){const[i,a]=o[e];return`translate(${t+i}, ${n+a}), rotate(${r[e]})`}return`translate(${t}, ${n}), rotate(${r[e]})`};function c({corner:e,x:t,y:n,size:i,cornerStyle:r}){return a.a.createElement("g",{transform:l(e,t,n,r),style:{cursor:s[e]}},a.a.createElement("rect",{fill:"rgba(0,0,0,0)",stroke:"none",x:0,y:0,width:i,height:i,className:"v2cropperHandle "+e}),"rounded"===r?a.a.createElement("path",{d:"M5,0C2.2,0,0,2.2,0,5v15h6V6h14V0H5z",fill:"#fff",className:"v2cropperHandle "+e}):a.a.createElement("path",{d:`M ${i} 0 L 0 0 L 0 ${i}`,fill:"none",stroke:"#fff",strokeWidth:6,className:"v2cropperHandle "+e}))}const d={n:"ns-resize",s:"ns-resize",e:"ew-resize",w:"ew-resize"};function u({edge:e,x:t,y:n,w:i,h:r}){return a.a.createElement("rect",{fill:"rgba(0,0,0,0)",stroke:"none",x:t,y:n,width:i,height:r,className:"v2cropperHandle "+e,style:{cursor:d[e]}})}const m=20;function p({x:e,y:t,w:n,h:r}){const o="rounded";return a.a.createElement(i.Fragment,null,a.a.createElement(c,{corner:"nw",x:e,y:t,size:m,cornerStyle:o}),a.a.createElement(c,{corner:"ne",x:e+n,y:t,size:m,cornerStyle:o}),a.a.createElement(c,{corner:"sw",x:e,y:t+r,size:m,cornerStyle:o}),a.a.createElement(c,{corner:"se",x:e+n,y:t+r,size:m,cornerStyle:o}),a.a.createElement(u,{edge:"n",x:e+m,y:t-10,w:n-40,h:30}),a.a.createElement(u,{edge:"e",x:e+n-m,y:t+m,w:30,h:r-40}),a.a.createElement(u,{edge:"s",x:e+m,y:t+r-10,w:n-40,h:30}),a.a.createElement(u,{edge:"w",x:e-m,y:t+m,w:30,h:r-40}))}var h=n("n6mq"),f=n("pQ8y"),g=n("U4JR");function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const y=10,E=48;class w extends a.a.Component{constructor(...e){super(...e),b(this,"state",{cropArea:this.props.initialCropArea||{h:0,w:0,x:0,y:0},cropChangeType:null}),b(this,"cropResizeDirection",null),b(this,"_cropperOverlay",Object(i.createRef)()),b(this,"_checkCropHandleValid",(e,t)=>{const{cropArea:{h:n,w:i,x:a,y:r}}=this.state;switch(this.cropResizeDirection){case"ne":e<a&&t>r+n?this.cropResizeDirection="sw":e<a?this.cropResizeDirection="nw":t>r+n&&(this.cropResizeDirection="se");break;case"nw":e>a+i&&t>r+n?this.cropResizeDirection="se":e>a+i?this.cropResizeDirection="ne":t>r+n&&(this.cropResizeDirection="sw");break;case"se":e<a&&t<r?this.cropResizeDirection="nw":e<a?this.cropResizeDirection="sw":t<r&&(this.cropResizeDirection="ne");break;case"sw":e>a+i&&t<r?this.cropResizeDirection="ne":e>a+i?this.cropResizeDirection="se":t<r&&(this.cropResizeDirection="nw");break;case"n":t>r+n&&(this.cropResizeDirection="s");break;case"s":t<r&&(this.cropResizeDirection="n");break;case"e":e<a&&(this.cropResizeDirection="w");break;case"w":e>a+i&&(this.cropResizeDirection="e")}}),b(this,"handleClickOutside",e=>{const{enableClickOutside:t,entrySource:n,imageSize:i,onChange:a,viewParameter:r}=this.props,{cropArea:o}=this.state,s=e.clientX-this._cropperOverlayCoor.x,l=e.clientY-this._cropperOverlayCoor.y;t&&(s<o.x||l<o.y||s>o.x+o.w||l>o.y+o.h)&&(Object(g.b)(101,{view:72,viewParameter:r,element:11677,commerce_data:JSON.stringify({entrypoint:n})}),a({origCrop:{h:i.h,w:i.w,x:0,y:0}}))}),b(this,"handleOnMouseDown",e=>{var t;e.preventDefault(),e.stopPropagation();const{clientX:n,clientY:i}=e,a=e.target,r=n-this._cropperOverlayCoor.x,o=i-this._cropperOverlayCoor.y,s=a.classList?Array.from(a.classList):a instanceof Element&&(null===(t=a.getAttribute("class"))||void 0===t?void 0:t.split(" "))||[];s.includes("v2cropperHandle")?(this.setState({cropChangeType:"resize"}),s.includes("ne")&&(this.cropResizeDirection="ne"),s.includes("nw")&&(this.cropResizeDirection="nw"),s.includes("se")&&(this.cropResizeDirection="se"),s.includes("sw")&&(this.cropResizeDirection="sw"),s.includes("n")&&(this.cropResizeDirection="n"),s.includes("s")&&(this.cropResizeDirection="s"),s.includes("e")&&(this.cropResizeDirection="e"),s.includes("w")&&(this.cropResizeDirection="w")):s.includes("v2cropSection")?(this.setState({cropChangeType:"move"}),this.cropChangeStartCoor={x:r,y:o}):s.includes("v2shadowMask")&&(this.cropChangeStartCoor={x:r,y:o},this.setState({cropArea:{h:0,w:0,x:r,y:o},cropChangeType:"select"}))}),b(this,"handleOnMouseMove",e=>{const{cropArea:{h:t,w:n,x:i,y:a},cropChangeType:r}=this.state,{imageSize:o}=this.props,{clientX:s,clientY:l}=e,c=s-this._cropperOverlayCoor.x,d=l-this._cropperOverlayCoor.y;if("resize"===r){const e=Math.max(Math.min(c,o.w-y),y),r=Math.max(Math.min(d,o.h-y),y);switch(this._checkCropHandleValid(e,r),this.cropResizeDirection){case"ne":{const n=Math.max(t+(a-r),E),o=Math.max(e-i,E);this.setState({cropArea:{h:n,w:o,x:i,y:n<=E?a:r}});break}case"nw":{const o=Math.max(n+(i-e),E),s=Math.max(t+(a-r),E);this.setState({cropArea:{h:s,w:o,x:o===E?i:e,y:s===E?a:r}});break}case"se":{const t=Math.max(r-a,E),n=Math.max(e-i,E);this.setState({cropArea:{h:t,w:n,x:i,y:a}});break}case"sw":{const t=Math.max(r-a,E),o=Math.max(n+(i-e),E);this.setState({cropArea:{h:t,w:o,x:o===E?i:e,y:a}});break}case"n":{const e=Math.max(a-r+t,E);this.setState({cropArea:{h:e,w:n,x:i,y:e===E?a:r}});break}case"s":{const e=Math.max(r-a,E);this.setState({cropArea:{h:e,w:n,x:i,y:a}});break}case"e":{const n=Math.max(e-i,E);this.setState({cropArea:{h:t,w:n,x:i,y:a}});break}case"w":{const r=Math.max(n-e+i,E);this.setState({cropArea:{h:t,w:r,x:r===E?i:e,y:a}});break}}}else if("move"===r){const e=c-this.cropChangeStartCoor.x,r=d-this.cropChangeStartCoor.y,s=Math.max(Math.min(i+e,o.w-n-y),y),l=Math.max(Math.min(a+r,o.h-t-y),y);this.cropChangeStartCoor={x:c,y:d},this.setState({cropArea:{h:t,w:n,x:s,y:l}})}else if("select"===r){const e=Math.max(Math.min(c,o.w),0),t=Math.max(Math.min(d,o.h),0),n=e-this.cropChangeStartCoor.x,i=t-this.cropChangeStartCoor.y;this.setState({cropArea:{h:Math.abs(i),w:Math.abs(n),x:Math.min(this.cropChangeStartCoor.x,e),y:Math.min(this.cropChangeStartCoor.y,t)}})}}),b(this,"handleOnMouseUp",()=>{const{cropChangeType:e}=this.state;"resize"!==e&&"move"!==e&&"select"!==e||this.handleCrop(),this.cropResizeDirection=null})}componentDidMount(){const{disableCrop:e}=this.props,t=document.body,n=this._cropperOverlay.current;if(n&&t){if(n){const e=n.getBoundingClientRect();this._cropperOverlayCoor={x:e.left,y:e.top}}e?e&&n.addEventListener("mousedown",this.handleClickOutside):(window.addEventListener("mouseup",this.handleOnMouseUp),t.addEventListener("mousemove",this.handleOnMouseMove),n.addEventListener("mousedown",this.handleOnMouseDown))}}componentWillUnmount(){const{disableCrop:e,entrySource:t}=this.props,n=document.body,i=this._cropperOverlay.current;i&&n&&(e?e&&"shopping"===t&&i.removeEventListener("mousedown",this.handleClickOutside):(window.removeEventListener("mouseup",this.handleOnMouseUp),n.removeEventListener("mousemove",this.handleOnMouseMove),i.removeEventListener("mousedown",this.handleOnMouseDown)))}handleCrop(){const{entrySource:e,imageSize:t,onChange:n,viewParameter:i}=this.props,{cropChangeType:a,cropArea:r}=this.state;if(0===r.w&&0===r.h)this.setState({cropChangeType:null}),n({origCrop:{h:t.h-20,w:t.w-20,x:y,y}});else{this.setState({cropChangeType:null});const o=Math.max(Math.min(r.x,t.w-E-y),y),s=Math.max(Math.min(r.y,t.h-E-y),y);let l,c;switch(l=r.h<E?E:s+r.h>t.h-y?t.h-s-y:r.h,c=r.w<E?E:o+r.w>t.w-y?t.w-o-y:r.w,a){case"move":Object(g.b)(7603,{view:72,viewParameter:i,commerce_data:e?JSON.stringify({entrypoint:e}):void 0});break;case"resize":Object(g.b)(7604,{view:72,viewParameter:i,commerce_data:e?JSON.stringify({entrypoint:e}):void 0})}n({origCrop:{h:l,w:c,x:o,y:s}})}}render(){const{children:e,previewCropArea:t,showPreviewArea:n,disableCrop:i}=this.props,{cropArea:{h:r,w:o,x:s,y:l},cropChangeType:c}=this.state;return a.a.createElement(h.e,{ref:this._cropperOverlay,position:"absolute",top:!0,left:!0,width:"100%",height:"100%",dangerouslySetInlineStyle:{__style:{cursor:i?"auto":"crosshair"}}},a.a.createElement("svg",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"}},a.a.createElement("defs",null,a.a.createElement("mask",{id:"Mask"},a.a.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",rx:"0",ry:"0",fill:"#fff"}),a.a.createElement("rect",{key:`${s}${l}`,x:s,y:l,width:o,height:r,id:"hole",rx:i?15:0,ry:i?15:0}),a.a.createElement(f.a,{in:n&&!c,timeout:300,classNames:"preview-crop-area",mountOnEnter:!0,unmountOnExit:!0},a.a.createElement("rect",{key:`${t.x}${t.y}`,x:t.x,y:t.y,width:t.w,height:t.h,id:"preview",rx:4,ry:4})))),a.a.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",style:{fill:"rgba(0,0,0,0.5)"},mask:"url(#Mask)",className:"v2shadowMask"}),a.a.createElement("use",{href:"#hole",fill:"rgba(0,0,0,0)",stroke:i?"none":"#fff",strokeWidth:"2",className:"v2cropSection",style:{cursor:i?"auto":"move"}}),"select"!==c&&!i&&a.a.createElement(p,{x:s,y:l,w:o,h:r})),e)}}var _=n("jkxn"),v=n("ESls"),S=n("fMq/");function O({entrySource:e,showAnimation:t,auxData:n,index:r,isStela:o,onClick:s,onHover:l,onUnhover:c,spotlightCenter:d,viewParameter:u,viewType:m}){Object(i.useEffect)(()=>{e?Object(g.b)(120,{view:m,viewParameter:u,element:1221,commerce_data:JSON.stringify({entrypoint:e}),...n}):Object(g.b)(120,{element:1260,...n})},[]);const p=parseFloat((.1*(r+1)).toFixed(2)),h={animation:t?`spotlightDotPop 0.6s ease-out ${p}s both`:"none"};return a.a.createElement(S.a,{x:d.x,y:d.y,onClick:e=>{e&&(e.stopPropagation(),e.preventDefault()),Object(g.b)(101,{element:o?1221:1260,viewParameter:u,...n}),s(r)},onMouseEnter:e=>{e&&(e.stopPropagation(),e.preventDefault()),l(r)},onMouseLeave:e=>{e&&(e.stopPropagation(),e.preventDefault()),c()},style:h})}var T=n("uhAL");var I=({entrySource:e,showAnimation:t,pinId:n,imageSignature:i,imageSize:r,currentSpotlightIdx:o,spotlightAreas:s,handleSpotlightClick:l,handleSpotlightHover:c,handleSpotlightUnhover:d,viewParameter:u,viewType:m})=>s.map((s,p)=>{if(p===o)return null;const h=Object(T.e)({cropArea:s,scaledWidth:r.w,scaledHeight:r.h}),f={x:h.x+h.w/2,y:h.y+h.h/2},g={commerce_data:JSON.stringify({entrypoint:e}),pin_id:n,image_signature:i,visual_objects:JSON.stringify([{x:s.x,y:s.y,w:s.w,h:s.h}])},b=`${f.x}${f.y}`;return a.a.createElement(O,{entrySource:e,showAnimation:t,auxData:g,index:p,isStela:!!s.is_stela,key:b,onClick:l,onHover:c,onUnhover:d,spotlightCenter:f,viewParameter:u,viewType:m})}),C=n("+vFu"),x=n("v/Q4"),P=n("qLDv");function R({cropSource:e,disableCrop:t,entrySource:n,imageSize:r,imageSignature:o,initialCropArea:s,pin:l,onChange:c,showAnimation:d,searchQuery:u,spotlightAreas:m=[],trafficSource:p,viewParameter:f,viewType:g}){const[b,y]=Object(i.useState)(!1),[E,S]=Object(i.useState)({w:0,h:0,x:0,y:0}),[O,R]=Object(i.useState)(0),k=Object(x.a)();Object(i.useEffect)(()=>{const e=m.findIndex(e=>Object(T.a)(s,Object(T.e)({cropArea:e,scaledWidth:r.w,scaledHeight:r.h}),4));R(e)},[r,s,m]);const j=({origCrop:e})=>{c({origCrop:e,cropSource:6,entrySource:n,trafficSource:p})},A=e=>{const t=m[e],i=Object(T.e)({cropArea:t,scaledWidth:r.w,scaledHeight:r.h});c({origCrop:i,cropSource:t.is_stela?4:1,entrySource:n,trafficSource:p})},D=e=>{e!==O&&(y(!0),S(Object(T.e)({cropArea:m[e],scaledWidth:r.w,scaledHeight:r.h})))},L=()=>{y(!1)},N=m&&!!m.length,{is_eligible_for_related_products:M}=l||{};return a.a.createElement(v.a,{name:"web_closeup_shop_v2",activate:!1},({group:c})=>(P.d.includes(c)||k.isAuth&&"US"!==k.country)&&M&&"shopping"===n?a.a.createElement(h.e,{bottom:!0,dangerouslySetInlineStyle:{__style:N?{pointerEvents:"none",backgroundColor:"rgba(0, 0, 0, 0.2)"}:{}},left:!0,position:"absolute",right:!0,top:!0},N&&a.a.createElement(i.Fragment,null,Object(_.a)(a.a.createElement(C.default,{alwaysShow:!0,cropSource:e,currentSpotlightIdx:O,height:r.h,pin:l,searchQuery:u,trafficSource:p,width:r.w,handleStelaClick:A})))):a.a.createElement(w,{enableClickOutside:!b,entrySource:n,imageSize:r,initialCropArea:s,key:JSON.stringify(s),onChange:j,previewCropArea:E,showPreviewArea:!1,disableCrop:t,viewParameter:f},N&&a.a.createElement(I,{entrySource:n,showAnimation:d,pinId:l.id,handleSpotlightHover:D,handleSpotlightUnhover:L,imageSignature:o,imageSize:r,currentSpotlightIdx:O,spotlightAreas:m,handleSpotlightClick:A,viewParameter:f,viewType:g})))}},OiGt:function(e,t,n){var i=n("q1tI"),a=n("/MKj");const r=()=>{const e=Object(a.useSelector)(e=>{var t;return!!(null==e||null===(t=e.session)||void 0===t?void 0:t.isSeoBot)}),t=(()=>{const[e,t]=Object(i.useState)(!1);return Object(i.useEffect)(()=>{t(!0)},[]),e})();return!e&&!t};t.a=({children:e,fallback:t})=>r()?t||null:e},PFNz:function(e,t,n){function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}n.d(t,"a",(function(){return i}))},"Q2/A":function(e,t,n){t.a=(e,t,n)=>t.replace(e,(e,t)=>n&&Object.prototype.hasOwnProperty.call(n,t)?n[t]:"")},Q3yk:function(e,t,n){t.a=(e,t=564)=>{const{images:n,image_signature:i}=e,a=n&&n["564x"]&&n.orig,{url:r}=a;let{width:o,height:s}=a;return o>t&&(s*=t/o,o=t),{width:o,height:s,url:r,imageSignature:i}}},QAzJ:function(e,t,n){n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return c}));var i=n("q1tI"),a=n("hlDC");function r(e){return e.startsWith("enabled")||e.startsWith("employee")}function o(e,{activate:t=!0,activateExperiment:n,group:a,userIsEligible:o=!0}){var s;s=()=>{t&&o&&n(e)},Object(i.useEffect)(s,[]);const l=Object(i.useCallback)(()=>{o&&n(e)},[n,o,e]);return{group:o?a:"",anyEnabled:o&&r(a),customActivate:o&&!t?l:()=>{}}}function s(e,t=!0){const n=Object(a.b)(),{group:i,anyEnabled:r}=o(e,{activate:!0,activateExperiment:e=>{n.v2ActivateExperiment(e)},group:n.v2GetGroup(e)||"",userIsEligible:t});return{group:i,anyEnabled:r}}function l(e,t=!0){const n=Object(a.b)(),{group:i,anyEnabled:r}=o(e,{activate:!1,activateExperiment:()=>{},group:n.v2GetGroup(e)||"",userIsEligible:t});return{group:i,anyEnabled:r}}function c(e,t=!0){const n=Object(a.b)();return o(e,{activate:!1,activateExperiment:e=>{n.v2ActivateExperiment(e)},group:n.v2GetGroup(e)||"",userIsEligible:t})}},QCnb:function(e,t,n){e.exports=n("+wdc")},QIyF:function(e,t,n){var i=n("Kz5y");e.exports=function(){return i.Date.now()}},R0ru:function(e,t,n){n.r(t),n.d(t,"default",(function(){return w}));var i=n("q1tI"),a=n.n(i),r=n("clxp"),o=n("oqCl"),s=n("2If1"),l=n("ihsa"),c=n("rXev"),d=n("n6mq"),u=n("yjg8");function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class p extends i.Component{constructor(...e){super(...e),m(this,"masonryRef",Object(i.createRef)()),m(this,"renderItem",e=>{const{comp:t}=this.props,{gutterWidth:n,paddingBottom:i}=this.getGutters();return a.a.createElement("div",{style:{paddingBottom:i,paddingLeft:n/2,paddingRight:n/2}},a.a.createElement(t,e))})}componentDidUpdate(e){const{widthOffset:t,useMasonry9:n}=this.props;t!==e.widthOffset&&(n||this.masonryRef.current&&this.masonryRef.current.handleResize())}getGutters(){const{gutterWidth:e,paddingStyle:t}=this.props,n="simplified"===t;return{gutterWidth:n?16:e,paddingBottom:n?16:6}}render(){const{columnWidth:e,flexible:t,items:n,layout:i,loadItems:r,masonryRef:m,measurementStore:p,scrollContainer:h,serverRender:f,useMasonry9:g,virtualize:b,isGridCentered:y,minCols:E}=this.props,{gutterWidth:w}=this.getGutters();let _,v=null;return v=g?a.a.createElement(c.a,{columnWidth:e+w,gutterWidth:0,comp:this.renderItem,minCols:E,ref:e=>{this.masonryRef.current=e,m&&(m.current=e)},items:n,flexible:t,loadItems:r,measurementStore:p,scrollContainer:h,virtualize:b}):a.a.createElement(d.B,{columnWidth:e+w,gutterWidth:0,comp:this.renderItem,minCols:E,ref:e=>{this.masonryRef.current=e,m&&(m.current=e)},items:n,flexible:t,layout:i||"basic",loadItems:r,measurementStore:p,scrollContainer:h,virtualize:b}),y&&(_="gridCentered"),a.a.createElement("div",{className:_},f&&a.a.createElement(l.a,{unsafeCSS:t?Object(s.a)((e||u.e)+w,n.length||u.k,E||u.i):Object(o.a)((e||u.e)+w,n.length||u.k,E||u.i)}),a.a.createElement("div",null,v))}}m(p,"defaultProps",{gutterWidth:14,isGridCentered:!0,minCols:u.i,paddingStyle:"simplified",useMasonry9:!1});var h=n("yqcB");const f={},g=(e,t)=>{if(null!=e)return f[e]&&f[e].screenWidth===window.innerWidth||(f[e]={screenWidth:window.innerWidth,cache:t?c.a.createMeasurementStore():d.B.createMeasurementStore()}),f[e].cache};function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const y="undefined"!=typeof window?()=>window:void 0;class E extends i.Component{constructor(...e){super(...e),b(this,"renderItem",e=>{const{comp:t}=this.props;return a.a.createElement(r.a,{name:"MasonryPerfTimingItem"},a.a.createElement(t,e))}),b(this,"loadItems",()=>{const{isFetching:e,loadItems:t}=this.props;e||t()})}render(){const{cacheKey:e,columnWidth:t,flexible:n,gutterWidth:i,isGridCentered:r,items:o,layout:s,masonryRef:l,minCols:c,paddingStyle:d,scrollContainer:u,serverRender:m,useMasonry9:h,virtualize:f,widthOffset:b}=this.props;return a.a.createElement(p,{columnWidth:t,comp:this.renderItem,flexible:n,gutterWidth:i,isGridCentered:r,items:o,layout:s,loadItems:this.loadItems,masonryRef:l,measurementStore:g(e,h),minCols:c,paddingStyle:d,scrollContainer:u||y,serverRender:m,useMasonry9:h,virtualize:f,widthOffset:b})}}function w({cacheKey:e,columnWidth:t,comp:n,flexible:i,gutterWidth:r,isAtEnd:o,isFetching:s,isGridCentered:l=!0,isLoaded:c,items:d,layout:u,loadItems:m,mapPinUrlsToItems:p,masonryRef:f,minCols:g,paddingStyle:b,scrollContainer:w,serverRender:_=!0,useMasonry9:v,virtualize:S,widthOffset:O}){return a.a.createElement(h.a,{isAtEndOfFeed:o,itemCount:d.length},a.a.createElement(E,{cacheKey:e,columnWidth:t,comp:n,flexible:i,gutterWidth:r,isFetching:s,isGridCentered:l,items:d,layout:u,loadItems:m,masonryRef:f,minCols:g,paddingStyle:b,scrollContainer:w||y,serverRender:_,useMasonry9:v,virtualize:S,widthOffset:O}))}},R6wO:function(e,t,n){n.d(t,"a",(function(){return l}));var i=n("q1tI"),a=n.n(i),r=n("n6mq");function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const s={__path:"M8.134 8.116a1.25 1.25 0 0 0-1.768 0L4.25 10.232 2.134 8.116A1.25 1.25 0 0 0 .366 9.884L2.483 12 .366 14.116a1.25 1.25 0 0 0 1.768 1.768l2.116-2.117 2.116 2.117a1.248 1.248 0 0 0 1.768 0 1.25 1.25 0 0 0 0-1.768L6.018 12l2.116-2.116a1.25 1.25 0 0 0 0-1.768M24 8v8a2.5 2.5 0 0 1-2.5 2.5h-8A2.5 2.5 0 0 1 11 16V8a2.5 2.5 0 0 1 2.5-2.5h8A2.5 2.5 0 0 1 24 8"};class l extends i.PureComponent{constructor(...e){super(...e),o(this,"state",{hovered:!1}),o(this,"handleMouseEnter",()=>this.setState({hovered:!0})),o(this,"handleMouseLeave",()=>this.setState({hovered:!1}))}render(){const{bold:e,icon:t,text:n,description:i,descriptionColor:o="darkGray",compact:l}=this.props,c=Array.isArray(n)?n.join(""):n;return a.a.createElement("div",{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},a.a.createElement(r.e,{alignItems:"start",color:this.state.hovered?"lightGray":"transparent",direction:"row",display:"flex",marginEnd:-1,marginStart:-1,overflow:"hidden",paddingX:4,paddingY:2,title:c},!l&&t&&a.a.createElement(r.e,{alignSelf:"center",flex:"none",padding:1},"unfollow"===t?a.a.createElement(r.t,{accessibilityLabel:"",color:"darkGray",dangerouslySetSvgPath:s,size:16}):a.a.createElement(r.t,{accessibilityLabel:"",color:"darkGray",icon:t,size:16})),a.a.createElement(r.e,{alignItems:l?"center":"start",direction:l?"row":"column",display:"flex",flex:"grow",padding:1,width:"100%"},a.a.createElement(r.V,{color:"darkGray",size:l?"sm":"md",weight:e?"bold":"normal"},n),a.a.createElement(r.e,{alignItems:"center",display:"flex"},!l&&i&&a.a.createElement(r.e,{marginBottom:2,marginTop:1},a.a.createElement(r.V,{color:o,overflow:"normal",size:"sm"},i))))))}}o(l,"defaultProps",{bold:!0})},RPF1:function(e,t,n){function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}n.d(t,"a",(function(){return i}))},Rfw2:function(e,t,n){n.d(t,"a",(function(){return r})),n.d(t,"e",(function(){return o})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return l})),n.d(t,"f",(function(){return c})),n.d(t,"d",(function(){return d}));var i=n("T0g9");const a=["and","that","but","or","as","if","when","than","because","while","where","after","so","though","since","until","whether","before","although","nor","like","once","unless","now","except","the","a","an","san","for","in","with"],r={AUTO_COMPLETE_DEFAULT:"query",AUTO_COMPLETE_HASHTAG:"hashtag",AUTO_COMPLETE_RECENT_SEARCH:"recent_query",AUTO_COMPLETE_RECOMMENDED_SEARCH:"recommended_query",AUTO_COMPLETE_TRENDING:"trending",TYPO_AUTO_CORRECT_ORIGINAL:"typo_auto_original",USER_INPUT:"typed",SEARCH_GUIDE:"add_refine"};function o(e){return(e||"").trim().replace(/\s+/g," ")}function s({type:e,term:t="",index:n}){switch(e){case r.USER_INPUT:case r.AUTO_COMPLETE_HASHTAG:case r.TYPO_AUTO_CORRECT_ORIGINAL:return`${t}|${e}`;case r.AUTO_COMPLETE_DEFAULT:return`${t}|autocomplete|${n}`;case r.AUTO_COMPLETE_RECENT_SEARCH:return`${t}|recentsearch|${n}`;case r.AUTO_COMPLETE_TRENDING:return`${t}|trending|${n}`;case r.AUTO_COMPLETE_RECOMMENDED_SEARCH:return`${t}|recommended|${n}`;case r.SEARCH_GUIDE:return`${t}|guide|word|${n}`;default:return""}}function l({queryStates:e}){return 0===e.length?"":"&"+Object(i.a)({term_meta:e.map(e=>s(e))})}function c(e){if(e){const t=e.trim().split(/\s+/);return t.find(e=>a.includes(e.toLowerCase()))?[e]:t}return[]}function d({type:e,query:t="",index:n}){switch(e){case r.USER_INPUT:case r.AUTO_COMPLETE_HASHTAG:case r.TYPO_AUTO_CORRECT_ORIGINAL:return c(t).map(t=>({index:n,term:t,type:e}));case r.AUTO_COMPLETE_RECENT_SEARCH:case r.AUTO_COMPLETE_RECOMMENDED_SEARCH:case r.AUTO_COMPLETE_TRENDING:case r.AUTO_COMPLETE_DEFAULT:return c(t).map(t=>({term:t,type:e,index:n}));default:return[]}}},SLVX:function(e,t,n){function i(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}n.d(t,"a",(function(){return i}))},T5j3:function(e,t,n){function i(e){const t=Object.keys(e);if(t.length>0){return t.sort((t,n)=>e[n]-e[t]).slice(0,3)}return null}function a(e){const t=Object.values(e);if(t.length>0){return t.reduce((e,t)=>e+t,0)}return 0}function r(e){const{videos:t,is_downstream_promotion:n,is_promoted:i,story_pin_data_id:a,board:r}=e;return!(i||n||(!t||!t.id)&&!a||(null==r?void 0:r.is_collaborative)&&r.collaborated_by_me)}n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return r}))},TSYQ:function(e,t,n){var i;!function(){var n={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var i=arguments[t];if(i){var r=typeof i;if("string"===r||"number"===r)e.push(i);else if(Array.isArray(i)&&i.length){var o=a.apply(null,i);o&&e.push(o)}else if("object"===r)for(var s in i)n.call(i,s)&&i[s]&&e.push(s)}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(i=function(){return a}.apply(t,[]))||(e.exports=i)}()},Taj8:function(e,t,n){var i=n("q1tI"),a=n.n(i),r=n("/MKj"),o=n("Ye/N"),s=n("n6mq"),l=n("ANjH"),c=n("EC67");t.a=Object(l.compose)(Object(r.connect)(({history:e})=>({hasHistory:e.previous.length>=1})),c.k)((function({hasHistory:e,history:t,isShopping:n,pinId:i}){return a.a.createElement(s.u,{accessibilityLabel:o.a._("Go back","Accessible icon for close button","Accessible icon for close button"),icon:n?"cancel":"directional-arrow-left",iconColor:"darkGray",onClick:()=>{e?t.goBack():t.replace(`/pin/${i}/`)},size:"lg",padding:2})}))},Te6n:function(e,t,n){n.r(t),n.d(t,"OverflowMenu",(function(){return b}));var i=n("q1tI"),a=n.n(i),r=n("/MKj"),o=n("ENn1"),s=n("jCsw"),l=n("Ye/N"),c=n("5871"),d=n("Zxas"),u=n("kVqD"),m=n("YxyV"),p=n("DJoW"),h=n("Y8Sn"),f=n("gD/Z"),g=n("n6mq");function b({feedbackData:e,feedbackType:t,hidePinFeedbackOverlay:n,isHomefeedContextualMenuTooltipExperience:r,pin:p,pinTitle:b,setForcePrimary:y,transparentBackground:E}){const{viewParameter:w,viewType:_}=Object(f.b)(),[v,S]=Object(i.useState)(!1),[O,T]=Object(i.useState)(),{ad_match_reason:I,board:C,category:x,description:P,id:R="",images:k,is_promoted:j,pinner:A,promoter:D,recommendation_reason:L,source_interest:N,videos:M}=p;var B;const F=(B=j?60:50,function(e){return Object(d.a)((e||"").trim(),B)})(P),z=Object(s.a)(k,"236x"),H=Object(h.j)(M),V=Object(u.a)(101,{component:0,element:981,feedback_type:t,objectId:R}),U=()=>{y(!1),n(),S(!1)};return a.a.createElement(i.Fragment,null,a.a.createElement(g.e,{"data-test-id":"feedback-button",ref:T},a.a.createElement(g.u,{accessibilityLabel:l.a._("More information","accessibility label for overflow menu button","accessibility label for overflow menu button"),bgColor:E?"transparent":"white",icon:"ellipsis",iconColor:"darkGray",onClick:({event:e})=>{v?U():(y(!0),S(!0)),V()},size:"sm"})),v&&a.a.createElement(g.x,null,a.a.createElement(g.q,{anchor:O,idealDirection:"right",onDismiss:U,positionRelativeToAnchor:!1,size:"md"},a.a.createElement(c.a,{ad_match_reason:I,bestPinImgSrc:Object(m.d)(p),board:C,feedbackData:e,feedbackType:t,hideDownload:H,onLinkClick:()=>{v&&U()},onHide:U,onDownloadHideFlyout:()=>{y(!1),S(!1)},pinCategory:x,pinDescription:F,pinId:R,pinImgSrc:z,pinner:A,pinTitle:b,promoter:D,recommendationReason:L,reportPin:Object(o.a)({pin:p,viewParameter:w,viewType:_}),sourceInterest:N,viewParameter:w,viewType:_}))))}t.default=Object(r.connect)((function({experiences:e}){return{isHomefeedContextualMenuTooltipExperience:e&&e.eligibleExperiences&&e.eligibleExperiences[1000116]&&501093===e.eligibleExperiences[1000116].experience_id}}),(function(e,{pin:t}){return{hidePinFeedbackOverlay:()=>{e(Object(p.c)(t.id))}}}))(b)},TgLd:function(e,t,n){n.d(t,"a",(function(){return c}));var i=n("q1tI"),a=n.n(i),r=n("D2p8"),o=n("LT60"),s=n("n6mq");function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const c=new s.p(1e3);class d extends a.a.Component{constructor(...e){super(...e),l(this,"pauseImpressionsTracking",()=>{r.c.pause()}),l(this,"resumeImpressionsTracking",()=>{r.c.resume()}),l(this,"handleDismiss",()=>{this.resumeImpressionsTracking(),this.props.onDismiss()})}componentDidMount(){this.pauseImpressionsTracking()}componentWillUnmount(){this.resumeImpressionsTracking()}render(){const{accessibilityModalLabel:e,allowClickAndDrag:t,allowHlsVideoPlay:n,allowScroll:i,children:r,closeOnOutsideClick:l,footer:d,heading:u,role:m,modalRef:p,size:h}=this.props;return a.a.createElement(s.x,null,a.a.createElement(o.a,{allowClickAndDrag:t,allowEsc:!0,allowHlsVideoPlay:n,allowScroll:i},a.a.createElement(s.e,{position:"absolute",zIndex:c},a.a.createElement(s.E,{accessibilityModalLabel:e,closeOnOutsideClick:l,heading:u,footer:d,onDismiss:this.handleDismiss,ref:p,role:m,size:h},r))))}}t.b=d},U4JR:function(e,t,n){n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return u}));var i=n("m2Wt"),a=n("h4v/"),r=n("ajUs"),o=n("zpPL");const s=()=>o.a.instance.getState(),l=()=>{const{advertiser:e,adminUser:t,viewer:n}=s(),i={};return e&&e.id&&(i.advertiser_id=e.id),t&&n&&n.username&&(i.sterling_on_steroids_ldap=t,i.viewed_user=n.username),i},c=(e,{element:t,eventData:n,component:a,objectId:o,view:c,viewParameter:d,viewData:u,durationNs:m,pairId:p,clientTrackingParams:h,...f})=>{const g=i.a.fromEventType(e);return g.setElement(t),g.updateEventData(n),g.setComponent(a),o&&g.setObjectIdStr(o),g.setDurationNs(m),g.updateAuxData({...f,...l()}),g.setViewType(c),g.setViewParameter(d),g.setViewData(u),g.setPairId(p),g.setClientTrackingParams(h||(e=>{const{pins:t,location:n}=s(),i=t&&e&&t[e];return i?Object(r.a)(i,n)||i.tracking_params+"~0":void 0})(o)),g};function d(e,t={}){a.a.getInstance().addEvent(c(e,t))}const u={flushContextEvents:()=>a.a.getInstance().flushEvents(!0),logContextEvent:({aux_data:e,clientTrackingParams:t,component:n,duration_ns:i,element:a,event_data:r,event_type:o,object_id_str:s,pair_id:l,view_data:c,view_parameter:u,view_type:m})=>{d(o,{...e,element:a,eventData:r,component:n,objectId:s,view:m,viewParameter:null!=u?u:void 0,viewData:c,durationNs:i,pairId:l,clientTrackingParams:t})}}},U5D8:function(e,t){e.exports="https://s.pinimg.com/webapp/style/images/wow-3cb697ef.svg"},VJm5:function(e,t,n){var i=n("q1tI"),a=n.n(i),r=n("/MKj"),o=n("ZbwW"),s=n("Ye/N"),l=n("gYog"),c=n("qhFy"),d=n("n6mq"),u=n("yjg8");function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class p extends i.Component{constructor(...e){super(...e),m(this,"state",{showBadge:!0}),m(this,"renderBadge",()=>{const{carouselData:e,isCloseup:t,showCarouselBadge:n}=this.props;if(!e)return null;const{showBadge:i}=this.state,{carousel_slots:r,index:o}=e,s=i?.8:0;return!t&&n?a.a.createElement(d.e,{display:"flex",justifyContent:"center",alignItems:"center",color:"darkGray",position:"absolute",right:!0,height:35,width:35,marginEnd:5,marginTop:5,rounding:2,dangerouslySetInlineStyle:{__style:{zIndex:1,opacity:s,transition:"opacity .3s"}}},a.a.createElement(d.V,{color:"white"},`${o+1}/${r.length}`)):null})}componentDidMount(){this.hideBadgeTimeout=setTimeout(()=>this.setState({showBadge:!1}),3e3)}componentDidUpdate(e){const{showBadge:t}=this.state,{carouselData:n}=e,{carouselData:i}=this.props;if(!n||!i)return;const{index:a}=n,{index:r}=i;t&&(this.hideBadgeTimeout&&clearTimeout(this.hideBadgeTimeout),this.hideBadgeTimeout=setTimeout(()=>this.setState({showBadge:!1}),3e3)),a!==r&&(this.hideBadgeTimeout&&clearTimeout(this.hideBadgeTimeout),this.setState({showBadge:!0}))}componentWillUnmount(){this.hideBadgeTimeout&&clearTimeout(this.hideBadgeTimeout)}render(){const{isCloseup:e,carouselIndex:t,closeupHeight:n,closeupWidth:i=0,cropHeight:r,cropWidth:o,carouselData:m,highResOnly:p,lowResOnly:h,onError:f,onLoad:g,pinId:b,isEditMode:y,isDenseView:E}=this.props;if(!m)return null;const{carousel_slots:w=[],index:_}=m,v=void 0!==t?t:_,S=!e&&o,{images:O}=w[v];let T;T=e?i:S||(p?474:E?u.f:u.e);const I=O["236x"]||{},C=I.height||0,x=I.width||236,P=n||C/x*T;return a.a.createElement(d.e,{height:P,display:"flex",alignItems:"center",overflow:"hidden","data-test-id":"carousel-pin",minHeight:c.a},!y&&this.renderBadge(),a.a.createElement(l.a,{trackCarousel:!0,key:"carousel-impression-key-"+v,impressionType:"Pin",loggingId:b,slotIndex:_,viewParameter:72,viewType:1},a.a.createElement(d.e,{position:"absolute",height:P,width:T,overflow:"hidden"})),a.a.createElement(d.e,{width:T*w.length,dangerouslySetInlineStyle:{__style:{left:v*T*-1+"px",transition:"left .3s"}},left:!0,height:"100%",display:"flex",direction:"row",position:"relative"},w.map((t,l)=>((e,t,n,i,r,o,l,c,u,m,p,h,f,g)=>{const{images:b,details:y=""}=e;let E,w=236,_=236,v="";c?(w=u||0,_=m||0,v=b&&(b["564x"]&&b["564x"].url||b["736x"]&&b["736x"].url||b["236x"]&&b["236x"].url)):i?(w=474,_=b&&Math.min(w/.8,w/(b["564x"].width/b["564x"].height)),v=b&&b["564x"].url):b&&b["736x"]?(_=b&&b["736x"]&&b["736x"].height,w=b&&b["736x"]&&b["736x"].width,v=b&&b["736x"]&&b["736x"].url):b&&b["236x"]&&(_=b&&b["236x"]&&b["236x"].height,w=b&&b["236x"]&&b["236x"].width,v=b&&b["236x"]&&b["236x"].url),f&&g&&(_=Math.min(f*g,_)),E=r?b["236x"].url+" 1x":i?b["564x"].url+" 1x":[b["474x"]&&b["474x"].url+" 2x",b["736x"]&&b["736x"].url+" 3x",b.orig&&b.orig.url+" 4x"].filter(Boolean).join(", ");const S=y||`${s.a._("carousel image","Alternate text for a carousel image that indicates it is a carousel pin, with carousel index followed","Alternate text for a carousel image that indicates it is a carousel pin, with carousel index followed")} ${n}`;return a.a.createElement(d.e,{key:`carousel-slot-${t}-${n}`,height:h?void 0:_,width:h?void 0:w},a.a.createElement(d.e,{height:h?p:void 0,width:h||void 0},a.a.createElement(d.v,{alt:S,fit:h?"cover":"none",naturalHeight:_,naturalWidth:w,onError:o,onLoad:l,src:v,srcSet:E})))})(t,b,l,p,h,f,g,e,i,n,r,o,P,T))))}}m(p,"defaultProps",{showCarouselBadge:!0});t.a=Object(r.connect)(({pins:e},{pinId:t})=>{const n=e[t];return{carouselData:Object(o.a)(n)}},()=>({}))(p)},W5T3:function(e,t,n){n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return c}));var i=n("q1tI"),a=n.n(i),r=n("Jr++"),o=n("n6mq");const s={impressed:{backgroundColor:"#adebad"}},l=()=>void 0!==Object(r.a)().debug_impression_log;function c({debugImpressionState:e="paused",slotIndex:t}){return"paused"===e?null:a.a.createElement(o.e,{dangerouslySetInlineStyle:{__style:s.impressed},"data-test-id":"debug-pin-impressions",position:"absolute",top:!0,left:!0,right:!0,bottom:!0,opacity:.5},a.a.createElement(o.e,{position:"absolute",top:!0,left:!0,padding:2,color:"darkGray"},a.a.createElement(o.V,{color:"white"},a.a.createElement("span",{className:"deprecatedTextSizeXL"},t))))}},WFqU:function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n("yLpj"))},WbBG:function(e,t,n){e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},Wer7:function(e,t,n){function i(e,t={}){return{type:"RESOURCE_INVALIDATE",payload:{name:e,options:t}}}function a(e,t={},n={}){return{type:"RESOURCE_FETCH",payload:{name:e,options:t,headers:n}}}function r(e,t={},n={},i={}){return{type:"RESOURCE_PREFETCH",payload:{name:e,options:t,headers:i}}}function o(e,t={}){return{type:"RESOURCE_PREFETCH_READ",payload:{name:e,options:t}}}function s(e,t={},n={}){return{type:"RESOURCE_FETCH_MORE",payload:{name:e,options:t,headers:n}}}function l(e,t={}){return{type:"RESOURCE_FETCH_CREATE",payload:{name:e,options:t}}}function c(e,t={},n,i,a,r,o=!1){return{type:"RESOURCE_FETCH_COMPLETE",payload:{auxData:i,data:n,isPrefetch:o,name:e,nextBookmark:r,options:t},error:a}}function d(e,t={},n,i,a,r){return{type:"RESOURCE_FETCH_MORE_COMPLETE",payload:{auxData:i,data:n,name:e,nextBookmark:r,options:t},error:a}}n.d(t,"f",(function(){return i})),n.d(t,"a",(function(){return a})),n.d(t,"g",(function(){return r})),n.d(t,"h",(function(){return o})),n.d(t,"d",(function(){return s})),n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return c})),n.d(t,"e",(function(){return d}))},"X/CP":function(e,t){e.exports="https://s.pinimg.com/webapp/style/images/haha-e2800d2d.svg"},XPo3:function(e,t,n){n.d(t,"f",(function(){return i})),n.d(t,"g",(function(){return a})),n.d(t,"a",(function(){return r})),n.d(t,"h",(function(){return o})),n.d(t,"i",(function(){return s})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return u}));const i=424,a=800,r=508,o=424,s=278,l=640,c=508,d=1016,u=508},XRfM:function(e,t,n){n.d(t,"a",(function(){return r})),n.d(t,"e",(function(){return l})),n.d(t,"c",(function(){return u})),n.d(t,"f",(function(){return m})),n.d(t,"d",(function(){return p}));var i=n("Ye/N");const a=function(e,t){const n=t||0,i=Math.pow(10,n),a=+(n?e*i:e).toFixed(8),r=Math.floor(a),o=a-r,s=o>.5-1e-8&&o<.5+1e-8?r%2==0?r:r+1:Math.round(a);return n?s/i:s},r={USD:"$",GBP:"£",CAD:"$",EUR:"€",AUD:"A$",NZD:"NZ$",SEK:"kr",NOK:"kr",DKK:"kr"},o=e=>{try{(0).toLocaleString([e])}catch(t){return!1}return!0};function s(e,t,n,i,a,r,s){const l=function(e,t,n,i,a="symbol"){const r={maximumFractionDigits:e,minimumFractionDigits:t};return n&&(r.style=n,"currency"===n&&(r.currency=i,r.currencyDisplay=a)),r}(n,i,a,r,s);return t.toLocaleString([o(e)?e:"en-US"],l)}function l(e,t,n){let r,o;const l=n&&n.style||void 0,c=n&&n.shortform||!1,d=n&&n.uplimit||void 0,u=n&&n.currency||void 0;if(d&&t>d)return d+"+";if("currency"===l?(r=void 0===n||void 0===n.maximum_fraction_digits?2:n.maximum_fraction_digits,o=void 0===n||void 0===n.minimum_fraction_digits?2:n.minimum_fraction_digits):(r=void 0===n||void 0===n.maximum_fraction_digits?0:n.maximum_fraction_digits,o=void 0===n||void 0===n.minimum_fraction_digits?0:n.minimum_fraction_digits),c&&t>999&&(r=void 0===n||void 0===n.shortform_maximum_fraction_digits?2:n.shortform_maximum_fraction_digits,o=0),r<o)return String(t);let m=t,p="";const h=[{"100M":{value:1e8,localeKey:i.a._("億","Abbreviation for one hundred millions. This abbreviation is only used in Chinese, Japanese and Korean.","Abbreviation for one hundred millions. This abbreviation is only used in Chinese, Japanese and Korean.")}},{"10k":{value:1e4,localeKey:i.a._("万","Abbreviation for ten thousand. This abbreviation is only used in Chinese, Japanese and Korean.","Abbreviation for ten thousand. This abbreviation is only used in Chinese, Japanese and Korean.")}}],f=[{b:{value:1e9,localeKey:i.a._("b","Abbreviation for one billion.","Abbreviation for one billion.")}},{m:{value:1e6,localeKey:i.a._("m","Abbreviation for one million.","Abbreviation for one million.")}},{k:{value:1e3,localeKey:i.a._("k","Abbreviation for one thousand.","Abbreviation for one thousand.")}}],g=/^zh|ja|ko/.test(e);if(c&&t>999){const e=g?h:f;for(let n=0;n<e.length;n+=1){const i=Object.keys(e[n])[0],o=e[n][i].value;if(t>=o){m=a(t/o*Math.pow(10,r))/Math.pow(10,r),p=e[n][i].localeKey;break}}}return s(e,m,r,o,l,u||void 0)+p}const c={LONG:"long",YEAR:"year",WEEKDAY_DATE:"weekday_date",WEEKDAY_DATE_TIME_TIMEZONE:"weekday_date_time_timezone",SHORT_WEEKDAY_DATE:"short_weekday_date",LONG_MONTH_YEAR:"long_month_year",NUMERIC:"numeric",MONTH_DAY:"month_day",SHORT_MONTH:"short_month",SHORT_MONTH_DAY:"short_month_day",DAY:"day",YEAR_SHORT_MONTH_DAY:"year_short_month_day",YEAR_SHORT_MONTH_DAY_HOUR:"year_short_month_day_hour",TIME:"time",TIME_TIMEZONE:"time_timezone",HOUR:"hour"},d=function(e){return 1.1.toLocaleString(e).substring(1,2)},u=function(e,t){return","===d(t)&&e&&e.length>0&&!isNaN(e)?e.replace(".",","):e},m=function(e,t){return","===d(t)&&e?e.replace(",","."):e},p=function(e){switch(e){case"zh":return i.a._("Chinese","locale.languageName","Language name");case"cs":return i.a._("Czech","locale.languageName","Language name");case"da":return i.a._("Danish","locale.languageName","Language name");case"nl":return i.a._("Dutch","locale.languageName","Language name");case"en":return i.a._("English","locale.languageName","Language name");case"fi":return i.a._("Finnish","locale.languageName","Language name");case"fr":return i.a._("French","locale.languageName","Language name");case"de":return i.a._("German","locale.languageName","Language name");case"el":return i.a._("Greek","locale.languageName","Language name");case"hu":return i.a._("Hungarian","locale.languageName","Language name");case"id":return i.a._("Indonesian","locale.languageName","Language name");case"it":return i.a._("Italian","locale.languageName","Language name");case"ja":return i.a._("Japanese","locale.languageName","Language name");case"ko":return i.a._("Korean","locale.languageName","Language name");case"nb":return i.a._("Norwegian","locale.languageName","Language name");case"pl":return i.a._("Polish","locale.languageName","Language name");case"pt":return i.a._("Portuguese","locale.languageName","Language name");case"ro":return i.a._("Romanian","locale.languageName","Language name");case"ru":return i.a._("Russian","locale.languageName","Language name");case"sk":return i.a._("Slovak","locale.languageName","Language name");case"es":return i.a._("Spanish","locale.languageName","Language name");case"sv":return i.a._("Swedish","locale.languageName","Language name");case"tr":return i.a._("Turkish","locale.languageName","Language name");case"uk":return i.a._("Ukrainian","locale.languageName","Language name");default:return e}},h={DateFormatType:c,formatDate:function(e,t,n,i=!0){const a=function(e){switch(e){case c.YEAR:return{year:"numeric"};case c.LONG:return{year:"numeric",month:"long",day:"numeric"};case c.NUMERIC:return{year:"numeric",month:"numeric",day:"numeric"};case c.WEEKDAY_DATE:return{weekday:"long",month:"long",day:"numeric",year:"numeric"};case c.SHORT_WEEKDAY_DATE:return{weekday:"short",month:"numeric",day:"numeric"};case c.WEEKDAY_DATE_TIME_TIMEZONE:return{weekday:"short",month:"numeric",day:"numeric",hour:"numeric",minute:"2-digit",timeZoneName:"short"};case c.MONTH_DAY:return{month:"long",day:"numeric"};case c.SHORT_MONTH:return{month:"short"};case c.SHORT_MONTH_DAY:return{month:"short",day:"numeric"};case c.DAY:return{day:"numeric"};case c.LONG_MONTH_YEAR:return{month:"long",year:"numeric"};case c.YEAR_SHORT_MONTH_DAY:return{year:"numeric",month:"short",day:"numeric"};case c.YEAR_SHORT_MONTH_DAY_HOUR:return{month:"short",year:"numeric",day:"numeric",hour:"numeric"};case c.TIME:return{hour:"numeric",minute:"2-digit"};case c.TIME_TIMEZONE:return{hour:"numeric",minute:"2-digit",timeZoneName:"short"};case c.HOUR:return{hour:"numeric"};default:throw new Error('invalid dateFormatType "'+e+'"')}}(n);i&&(a.timeZone="UTC");return new Intl.DateTimeFormat(e,a).format(t)},ngettext:function(e,t,n,a){const r=+function(e){return i.a.getPluralFunction(e)}(e)(a);let o;return o="en-US"===e&&1===r?n:t,i.a._(o,"",r)},prettyNumberFormat:l,numberFormat:s,currencySymbols:r,localizeCurrencyValue:u,unlocalizeCurrencyValue:m};t.b=h},"Ye/N":function(e,t,n){Error;const i={_:e=>e,set(e){Object.assign(this,e)}};t.a=i},YxyV:function(e,t,n){n.d(t,"g",(function(){return s})),n.d(t,"f",(function(){return l})),n.d(t,"c",(function(){return u})),n.d(t,"h",(function(){return m})),n.d(t,"b",(function(){return h})),n.d(t,"e",(function(){return f})),n.d(t,"d",(function(){return g})),n.d(t,"a",(function(){return b}));var i=n("2U5n"),a=n("yjg8"),r=n("9Hsp"),o=n("wzxk");const s=(e,t)=>{let n=e&&e.url?e.url.split("/")[1]:"";return t&&t.full_name&&(n=t.full_name),n},l=()=>({seeMoreButtonHeight:15,seeMoreButtonBottomMargin:3,productSiteTitle:15,productSiteTitleTopMargin:4,vaseCarouselHeight:30,descriptionLineHeight:17,descriptionVerticalMargin:10,maxNumTitleLines:2,maxNumDescriptionLines:2}),c=e=>"ja"===e?23:19,d=(e,t)=>{if(e){const n=((e,t)=>{let n=0;if(e){let i=27;"ja"===t&&(i=14);const a=l().maxNumTitleLines;n=Math.floor(e.length/i)+1,n>a&&(n=a)}return n})(e,t);return c(t)*n}return 0},u=e=>Object(o.c)(e),m=(e,t=!1)=>e&&e.length>0&&!t,p=(e,t,n,i)=>{let a=0;const{description:o,vaseAnnotations:s}=u(e),c=l();if(((e,t,n,i,a=!0)=>{if(!n)return null;if(a)return!m(t)&&t&&t.length>0;return!1})(0,s,e)&&(a+=c.seeMoreButtonHeight,a+=c.seeMoreButtonBottomMargin),(e=>!!(e.rich_metadata&&e.rich_metadata.products&&Array.isArray(e.rich_metadata.products)&&e.rich_metadata.products.length&&e.rich_metadata.site_name))(e)&&(a+=c.productSiteTitle,a+=c.productSiteTitleTopMargin),m(s,i)&&(a+=c.vaseCarouselHeight),!i){const e=(e=>{let t=0;if(e){e=Object(r.a)(e);const n=35,i=l().maxNumDescriptionLines;t=Math.floor(e.length/n)+1,t>i&&(t=i)}return t})(o);a+=c.descriptionVerticalMargin+c.descriptionLineHeight*e}return e.pinner&&e.board&&(a+=28),a},h=(e,t,n,i=!1,a,r)=>{const s=(e=>{const{hasRichAttributionTitle:t,hasPlaceInfo:n}=(e=>{const t=e.rich_summary,n=t&&"mobile application"!==t.type_name;return{hasRichSummary:n,hasRichAttributionTitle:n&&t.display_name,hasPlaceInfo:!!e.place_summary}})(e);return!!(t||n||e.rich_metadata&&e.rich_metadata.title)})(e)?((e,t)=>{const n=Object(o.b)(e);return d(n,t)+10})(e,t):0,l=i?0:p(e,0,0,a);return s||l?l+s+10:0},f=(e,t="orig")=>Object(i.a)(e.images,t);function g(e){const t=!!e.carousel_data,n=t&&0===e.carousel_data.index;let i=e.images;if(t){const{carousel_slots:t,index:n=0}=e.carousel_data;i=t&&t[n]&&t[n].images||i}if(e.embed&&"gif"===e.embed.type&&(!t||n))return e.embed.src;if(!!i){const e=i,t=Object.keys(e).map(t=>{const n=t.split("x")[0];return Number.isNaN(Number(n))?t:(e[n]=e[t],n)});t.sort();const n=t.pop();return e[n].url}return e.image_large_url||""}const b=(e,t)=>{if(!e||!e.images||!e.images["236x"])return 0;const n=e.images["236x"].height;let i=n<t?n:t,r=600;n>600&&!e.fullImage&&(r=500);const o=f(e,"orig");if(o){const e=Math.floor(o.height*a.e/o.width);i=e>r?r:e}return i}},ZTTo:function(e,t,n){e.exports=n("en5+")()},ZbwW:function(e,t,n){n.d(t,"a",(function(){return a}));var i=n("EDqd");function a(e){const t=(((e||{}).rich_metadata||{}).products||[])[0]||{};return t&&t.additional_images&&t.additional_images.length>0?Object(i.a)(e.images,t,e.carousel_data&&e.carousel_data.index):e&&e.carousel_data}},a5kZ:function(e,t,n){n.d(t,"a",(function(){return s}));var i=n("q1tI"),a=n.n(i),r=n("Ye/N"),o=n("n6mq");function s({buttonText:e,handleDrawerClose:t,isDrawerOpen:n,onClick:i}){return a.a.createElement(o.U,{onTap:()=>{n?t():i()},rounding:"pill",accessibilityLabel:r.a._("Filter","productsFilterButton","Button to filter products results")},a.a.createElement(o.e,{display:"flex",justifyContent:"center",alignContent:"center",color:"lightGray",rounding:"pill",minHeight:40},a.a.createElement(o.e,{display:"flex",justifyContent:"center",alignItems:"center",rounding:"pill",minHeight:40,paddingX:4},a.a.createElement(o.e,{marginEnd:3},a.a.createElement(o.t,{accessibilityLabel:"",icon:"filter",color:"darkGray"})),a.a.createElement(o.V,{align:"center",color:"darkGray",weight:"bold"},e))))}},"aK+E":function(e,t,n){n.d(t,"a",(function(){return r}));const i=new Set(["bookmarks","client_tracking_params","in_nux","invite_code","no_fetch_context_on_resource","original_referrer","source","top_level_source","top_level_source_depth"]),a=e=>!i.has(e)&&!e.startsWith("__track__"),r=e=>e?Object.keys("object"==typeof e&&e||{}).filter(e=>"string"==typeof e).filter(a).sort().map(t=>`${t}=${JSON.stringify(null==e[t]?null:e[t])}`).join(","):""},b9Z9:function(e,t,n){n.d(t,"a",(function(){return M}));var i=n("q1tI"),a=n.n(i),r=n("n6mq");function o({isHorizontalDesign:e}){return e?a.a.createElement(r.e,{height:"100%",width:"100%",display:"flex",direction:"row",position:"absolute",top:!0,left:!0},a.a.createElement(r.e,{opacity:.5,color:"midnight",height:"100%",width:"100%",flex:"grow"}),a.a.createElement(r.e,{color:"white",width:"2px",flex:"none"}),a.a.createElement(r.e,{opacity:.5,color:"olive",width:"100%",flex:"grow"}),a.a.createElement(r.e,{color:"white",width:"2px",flex:"none"}),a.a.createElement(r.e,{opacity:.5,color:"maroon",width:"100%",flex:"grow"})):a.a.createElement(r.e,{height:"100%",width:"100%",display:"flex",direction:"row",position:"absolute",top:!0,left:!0},a.a.createElement(r.e,{opacity:.5,color:"midnight",height:"100%",flex:"grow"}),a.a.createElement(r.e,{color:"white",width:"2px",flex:"none"}),a.a.createElement(r.e,{display:"flex",height:136,direction:"column",flex:"grow"},a.a.createElement(r.e,{opacity:.5,color:"olive",width:"100%",flex:"grow"}),a.a.createElement(r.e,{color:"white",height:"2px",flex:"none"}),a.a.createElement(r.e,{opacity:.5,color:"maroon",width:"100%",flex:"grow"})))}var s=n("Ye/N");function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const c={__style:{background:"linear-gradient(0deg, rgba(0, 0, 0, 0.43) 0%, rgba(0,0,0,0) 60%)"}};class d extends i.PureComponent{constructor(...e){super(...e),l(this,"state",{isLoaded:[!1,!1,!1],isMounted:!1}),l(this,"getImageArray",()=>{const{userPins:e,showcase:t}=this.props;let n=[];return e&&0!==e.length?(t&&0!==t.length?t&&1===t.length?n=t.filter(e=>"board"===e.type)[0].images["550x"].map(e=>e.url):t&&(n=t.filter(e=>"board"===e.type).map(e=>e.image_cover_url)):n=e.map(e=>(e.images["136x136"]||e.images["236x"]||e.images["736x"]).url),n):n}),l(this,"getImage",(e,t)=>{const{isLoaded:n}=this.state,i={transition:"opacity 500ms",opacity:n[t]?1:0};return a.a.createElement(r.e,{dangerouslySetInlineStyle:{__style:i},color:"white",height:"100%",width:"100%"},!!e&&a.a.createElement(r.v,{naturalHeight:1,src:e,fit:"cover",alt:s.a._("user's pin","image of one of a user's pins","image of one of a user's pins"),naturalWidth:1,color:"lightGray",onLoad:()=>this.handleLoad(t)}))}),l(this,"handleLoad",e=>{const{isLoaded:t,isMounted:n}=this.state,i=[...t];i[e]=!0,n&&this.setState({isLoaded:i})})}componentDidMount(){this.setState({isMounted:!0}),this.getImageArray()}render(){const{isHorizontalDesign:e}=this.props,t=this.getImageArray();let n=null;return n=1===t.length?a.a.createElement(r.e,{height:"100%",display:"flex",direction:"row"},this.getImage(t[0],0)):2===t.length?a.a.createElement(r.e,{height:"100%",display:"flex",direction:"row"},this.getImage(t[0],0),a.a.createElement(r.e,{color:"white",width:"1px",flex:"none"}),this.getImage(t[1],1)):e?a.a.createElement(r.e,{height:"100%",width:"100%",display:"flex",direction:"row"},a.a.createElement(r.e,{height:"100%",width:"100%"},this.getImage(t[0],0)),a.a.createElement(r.e,{color:"white",width:"2px",flex:"none"}),a.a.createElement(r.e,{height:"100%",width:"100%"},this.getImage(t[1],1)),a.a.createElement(r.e,{color:"white",width:"2px",flex:"none"}),a.a.createElement(r.e,{height:"100%",width:"100%"},this.getImage(t[2],2))):a.a.createElement(r.e,{height:"100%",width:"100%",display:"flex",direction:"row"},a.a.createElement(r.e,{height:"100%",flex:"grow"},this.getImage(t[0],0)),a.a.createElement(r.e,{color:"white",width:"2px",flex:"none"}),a.a.createElement(r.e,{display:"flex",height:136,direction:"column",flex:"grow"},a.a.createElement(r.e,{width:"100%",flex:"grow"},this.getImage(t[1],1)),a.a.createElement(r.e,{color:"white",height:"2px",flex:"none"}),a.a.createElement(r.e,{width:"100%",flex:"grow"},this.getImage(t[2],2)))),a.a.createElement(r.e,{height:136,display:"flex",direction:"column"},a.a.createElement(r.e,{width:"100%",position:"relative",flex:"grow"},a.a.createElement(o,{isHorizontalDesign:e}),n,a.a.createElement(r.e,{dangerouslySetInlineStyle:c,height:"100%",width:"100%",position:"absolute",top:!0,left:!0})))}}var u=n("FDmi"),m=n("qD10"),p=n("U4JR");function h(e,t){Object(p.b)(101,{view:e,viewParameter:t,component:13406,element:11373})}var f=e=>{const{avatarUrl:t,isVerified:n,isHorizontalDesign:i,url:o,userFullName:s,viewParameter:l,viewType:c}=e,d=i?80:86;return a.a.createElement(r.e,{dangerouslySetInlineStyle:{__style:{border:"2px white solid",marginTop:i?-58:-64,marginLeft:i?-6:0,zIndex:1}},display:"flex",flex:"none",rounding:"circle"},a.a.createElement(r.e,{flex:"none",height:d,width:d},a.a.createElement(m.a,{onClick:h(c,l),to:o,stopPropagation:!0},a.a.createElement(u.a,{name:s,src:t,verified:n}))))},g=n("Zxas");function b({text:e,singleLineMaxCharacters:t,isBold:n,isHorizontalDesign:i,numLines:o}){const s=o*t,l=Object(g.a)(e,s);return n?a.a.createElement(r.V,{align:i?"left":"center",overflow:"normal",size:"md",weight:"bold"},l):a.a.createElement(r.V,{align:i?"left":"center",overflow:"normal",size:"md",weight:"normal",color:i?"darkGray":"gray"},l)}function y({description:e,domainUrl:t,isHorizontalDesign:n,userFullName:i}){const o=e||t,s={placeholder:{__style:{transition:"opacity 200ms",opacity:o?0:1}},subtitle:{__style:{transition:"opacity 200ms",opacity:o?1:0}}};return a.a.createElement(r.e,{position:"relative",width:"100%",marginTop:n?4:3,marginBottom:3,alignItems:n?"start":"center",display:"flex",direction:"column"},a.a.createElement(r.e,{height:18,width:"100%"},a.a.createElement(r.V,{align:n?"left":"center",truncate:!0,size:n?"lg":"md",weight:"bold"},i)),a.a.createElement(r.e,{marginTop:2,overflow:"hidden",position:"relative",width:"100%"},a.a.createElement(r.e,{alignItems:"center",dangerouslySetInlineStyle:s.placeholder,direction:"column",display:"flex",height:"100%",left:!0,position:"absolute",top:!0,width:"100%"},a.a.createElement(r.e,{color:"lightGray",rounding:"pill",width:180,flex:"grow"}),a.a.createElement(r.e,{height:6,flex:"none"}),a.a.createElement(r.e,{color:"lightGray",rounding:"pill",width:140,flex:"grow"})),n&&!!t&&a.a.createElement(r.e,{dangerouslySetInlineStyle:s.subtitle,width:"100%",height:"100%",marginTop:-1},a.a.createElement(b,{numLines:2,isBold:!0,isHorizontalDesign:n,singleLineMaxCharacters:36,text:t})),n&&!!e&&a.a.createElement(r.e,{dangerouslySetInlineStyle:s.subtitle,width:"100%",height:"100%",marginTop:2},a.a.createElement(b,{isHorizontalDesign:n,numLines:2,singleLineMaxCharacters:36,text:e})),!n&&!!o&&a.a.createElement(r.e,{dangerouslySetInlineStyle:s.subtitle,width:"100%",height:"100%"},a.a.createElement(b,{isHorizontalDesign:n,numLines:2,singleLineMaxCharacters:27,text:o}))))}var E=n("/MKj"),w=n("oRao"),_=n("vvax");function v({followText:e,followerCount:t,isHorizontalDesign:n,showFollowers:i,userFollowed:o}){return i?Object(_.b)(s.a._("{{ followCount }} {{ followText }}"),{followCount:a.a.createElement(r.e,{"data-test-id":"followCount",display:"inlineBlock",key:"followCount",marginEnd:1,opacity:o?void 0:.8},a.a.createElement(r.V,{color:o?"gray":"white",size:n?"sm":"md",align:"center",weight:"bold"},a.a.createElement(w.a,{value:t||0,shortform:!0,shortformMaximumFractionDigits:0}))),followText:a.a.createElement(r.e,{"data-test-id":"followText",display:"inlineBlock",key:"followText"},a.a.createElement(r.V,{weight:"bold",color:o?"darkGray":"white",size:n?"sm":"md",overflow:"normal",align:"center"},e))}):a.a.createElement(r.e,{"data-test-id":"followText",key:"followText"},a.a.createElement(r.V,{weight:"bold",color:o?"darkGray":"white",size:n?"sm":"md",overflow:"normal",align:"center"},e))}var S=n("M1Uz"),O=n("nGHF"),T=n("ZVOf");var I=Object(E.connect)((e,{id:t})=>{const n=(e.users||{})[t];return{userFollowed:!!n&&n.explicitly_followed_by_me}},e=>({follow:t=>e(Object(T.a)(t)),unfollow:t=>e(Object(T.b)(t))}))((function({followerCount:e,isHorizontalDesign:t,showFollowerCount:n,userFollowed:i,follow:o,id:l,viewParameter:c,viewType:d,fullName:u,imageUrl:m,profileUrl:h}){const{showOneToast:f}=Object(O.b)(),g=i?s.a._("Following","User follow button","User follow button"):s.a._("Follow","User follow button","User follow button"),b=e=>Object(p.b)(e,{view:d,viewParameter:c,component:13406,element:11372});return a.a.createElement(r.e,{alignItems:"center",dangerouslySetInlineStyle:{__style:{marginTop:t?"-22px":0}},display:"flex",justifyContent:"center",position:"relative"},a.a.createElement(r.U,{onTap:()=>{i?(Object(T.b)(l),b(46)):(o(l),b(45),f(({onHide:e})=>a.a.createElement(S.a,{onHide:e,text:a.a.createElement(a.a.Fragment,null,a.a.createElement(r.V,null,s.a._("Now following","text that comes before a board/user name in toast","text that comes before a board/user name in toast")),a.a.createElement(r.V,{weight:"bold"},u)),href:h,imageUrl:m})))},rounding:"pill"},a.a.createElement(r.e,{alignItems:"center",color:i?"lightGray":"red",direction:"row",display:"flex",justifyContent:"center",paddingX:t?5:6,paddingY:t?3:4,rounding:"pill"},a.a.createElement(v,{followerCount:e,followText:g,isHorizontalDesign:t,showFollowers:n&&0!==e,userFollowed:i}))))}));function C({avatarUrl:e,description:t,domainUrl:n,followerCount:i,id:o,isCreator:s,isHorizontalDesign:l,isVerified:c,userFullName:d,username:u,viewParameter:m,viewType:p}){const h=function(e){return"/"+e}(u);return a.a.createElement(r.e,{alignItems:l?"start":"center",display:"flex",direction:"column",paddingX:l?5:6,paddingY:l?3:4,marginTop:2,width:"100%"},a.a.createElement(f,{avatarUrl:e,isHorizontalDesign:l,isVerified:c,url:h,userFullName:d,viewType:p,viewParameter:m}),l&&a.a.createElement(r.e,{position:"relative",width:"100%"},a.a.createElement(r.e,{display:"flex",marginTop:-2,marginEnd:-2,position:"absolute",right:!0,top:!0},a.a.createElement(I,{fullName:d,followerCount:i,id:o,imageUrl:e,isHorizontalDesign:l,profileUrl:h,showFollowerCount:s})),a.a.createElement(r.e,{width:"100%",display:"flex",left:!0,marginTop:1},a.a.createElement(y,{description:t,domainUrl:n,isHorizontalDesign:l,userFullName:d}))),!l&&a.a.createElement(r.e,{width:"100%"},a.a.createElement(y,{userFullName:d,domainUrl:n,description:t,isHorizontalDesign:l}),a.a.createElement(r.e,{width:"100%",display:"flex",alignItems:"center",justifyContent:"center"},a.a.createElement(I,{followerCount:i,fullName:d,id:o,imageUrl:e,isHorizontalDesign:l,profileUrl:h,showFollowerCount:s}))))}var x=n("TgLd");const P=24;function R({anchor:e,children:t,isHorizontalDesign:n}){if(!e)return null;const i=n?320:236,{left:o,top:s,width:l,height:c}=e.getBoundingClientRect(),d=o+window.pageXOffset,u=s+window.pageYOffset,m=d+l+i+12>window.innerWidth,p={left:m?d:d+l,top:u+c/2},h={borderRadius:21,boxShadow:"0 9px 26px rgba(0, 0, 0, 0.4)",left:m?-12-i:12,top:-i/2-44},f={top:-12,left:-12,fill:"white"},g=m?"M0 0 L12 12 L0 24":"M24 0 L12 12 L24 24";return a.a.createElement(r.e,{position:"absolute",zIndex:x.a,dangerouslySetInlineStyle:{__style:p}},a.a.createElement(r.e,{position:"absolute",color:"white",dangerouslySetInlineStyle:{__style:h},width:i,overflow:"hidden"},t),a.a.createElement(r.e,{position:"absolute",dangerouslySetInlineStyle:{__style:f}},a.a.createElement("svg",{width:P,height:P},a.a.createElement("path",{d:g}))))}var k=n("eOdZ"),j=n("LT60"),A=n("v/Q4"),D=n("pLLR");function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class N extends i.PureComponent{constructor(e){super(e),L(this,"anchorRef",a.a.createRef()),L(this,"loadUser",()=>{const{username:e}=this.props,{isMounted:t}=this.state;e&&(k.a.create("UserResource",{username:e,field_set_key:"profile"}).callGet().then(e=>{t&&this.setState({detailedUser:e.resource_response.data})}),k.a.create("UserPinsResource",{username:e,page_size:3,field_set_key:"grid_item",isPrefetch:!1}).callGet().then(e=>{t&&this.setState({userPins:e.resource_response.data})}),k.a.create("ShowcaseResource",{username:e,page_size:2,isPrefetch:!1}).callGet().then(e=>{t&&this.setState({showcase:e.resource_response.data})}),t&&this.setState({isLoaded:!0}))}),L(this,"handleScroll",()=>{clearTimeout(this.openTimeout),this.state.isMounted&&(this.setState({isVisible:!1}),this.forceUpdate())}),L(this,"timeoutDismiss",()=>{this.dismissTimeout=setTimeout(()=>{this.state.isMounted&&(this.setState({isVisible:!1}),clearTimeout(this.openTimeout))},150)}),L(this,"handleDisplayCard",()=>{const{isDarkPromoter:e,pinId:t,requestContext:n,viewParameter:i}=this.props,{currentPinId:a,isLoaded:r,isMounted:o}=this.state;clearTimeout(this.openTimeout),clearTimeout(this.dismissTimeout),t&&a!==t&&this.forceUpdate(),t&&this.setState({currentPinId:t});const{group:s}=n.experiments.getWithActivation("web_avatar_hover_cards_v2");156!==i&&0!==i||e||!["enabled","enabled2_vertical","enabled2_horizontal"].includes(s)?o&&this.setState({isVisible:!1}):(r||this.loadUser(),this.openTimeout=setTimeout(()=>{o&&this.setState({isVisible:!0})},300))}),L(this,"handleHideCard",()=>{this.timeoutDismiss()}),this.state={currentPinId:e.pinId,detailedUser:null,isMounted:!1,isLoaded:!1,isVisible:!1,showcase:null,user:null,userPins:null}}componentDidMount(){this.setState({isMounted:!0}),window.addEventListener("scroll",this.handleScroll)}componentWillUnmount(){this.setState({isMounted:!1}),clearTimeout(this.openTimeout),clearTimeout(this.dismissTimeout),window.removeEventListener("scroll",this.handleScroll)}static getDerivedStateFromProps(e,t){const{user:n}=e,{detailedUser:i}=t,a={user:{}};return n&&(a.user=n),i&&(a.user={...a.user,...i}),a}render(){const{avatarSize:e,children:t,requestContext:n,username:i,viewer:o,viewParameter:s,viewType:l}=this.props,{isVisible:c,showcase:u,user:m,userPins:p}=this.state,{about:h,domain_url:f,follower_count:g,full_name:b,id:y,image_medium_url:E,show_creator_profile:w,verified_identity:_}=m||{},v=o.isAuth&&o.id===y,S=!!_&&_.verified,{group:O}=n.experiments.getWithoutActivation("web_avatar_hover_cards_v2"),T="enabled2_horizontal"===O;return a.a.createElement(r.e,{onMouseOver:this.handleDisplayCard,onFocus:this.handleDisplayCard,onMouseLeave:this.handleHideCard},a.a.createElement(r.e,{marginStart:-2,marginEnd:-2,paddingX:2,position:"relative"},a.a.createElement(r.e,{height:e,left:!0,marginStart:2,position:"absolute",ref:this.anchorRef,top:!0,width:e}),t),!v&&!!m&&!!i&&c&&a.a.createElement(r.e,null,a.a.createElement(j.a,null,a.a.createElement(r.x,null,a.a.createElement(R,{anchor:this.anchorRef.current,isHorizontalDesign:T},a.a.createElement(r.e,{color:"white",zIndex:x.a,onFocus:this.handleDisplayCard,onMouseOver:this.handleDisplayCard,onMouseLeave:this.handleHideCard,position:"relative",width:"100%"},a.a.createElement(r.e,{width:"100%"},a.a.createElement(d,{isHorizontalDesign:T,userPins:p,showcase:u}),a.a.createElement(C,{avatarUrl:E,description:h,domainUrl:f,followerCount:g,id:y,isCreator:w,isHorizontalDesign:T,isVerified:S,userFullName:b,username:i,viewParameter:s,viewType:l}))))))))}}function M(e){const t=Object(D.d)(),n=Object(A.a)();return a.a.createElement(N,Object.assign({},e,{requestContext:t,viewer:n}))}},bCCX:function(e,t,n){(function(e,i){var a,r=n("SLVX");a="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:i;var o=Object(r.a)(a);t.a=o}).call(this,n("yLpj"),n("3UD+")(e))},c0rk:function(e,t,n){n.d(t,"a",(function(){return d}));var i=n("q1tI"),a=n.n(i),r=n("L2iP"),o=n("n6mq"),s=n("qYux"),l=n("0Rm8"),c=n("pIlY");function d({children:e,className:t,forwardRef:n,offset:d=0,position:u,shouldShowShadow:m=!1,style:p={},top:h}){const{setIsContentHeaderPresent:f}=Object(s.b)();Object(i.useEffect)(()=>(f(!0),function(){f(!1)}),[]);const{currentScrollPosition:g,isScrolled:b,setSubheaderShadow:y}=Object(c.c)();Object(i.useEffect)(()=>(m&&y("contentHeader"),()=>{m&&y(null)}),[m]);let E=!1;"pending"!==h&&(E=null!=h?g>=h:b);const w=Object(l.b)(),_="undefined"!=typeof window&&!!window.MSInputMethodContext&&!!window.document.documentMode,v=a.a.createElement("div",{className:t,ref:n,style:{...p,top:w+d,...E&&m?{...r.f,zIndex:499}:{},...u&&"sticky"!==u?{position:u}:{}}},e);return"sticky"===u?a.a.createElement(o.Q,{top:_?0:w+d},v):v}},d90F:function(e,t,n){n.d(t,"a",(function(){return i.a}));var i=n("ESls");n("q1tI"),n("0rqB"),n("pLLR")},eBDd:function(e,t,n){var i=n("yaUg"),a=n("NBXZ");t.a=(e,t)=>{const n={};return Object.keys(t).forEach(e=>{n[e]=t[e]?Object(a.a)(t[e].toString()):""}),Object(i.a)(e,n)}},"en5+":function(e,t,n){var i=n("uOrA");function a(){}e.exports=function(){function e(e,t,n,a,r,o){if(o!==i){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=a,n.PropTypes=n,n}},eqXv:function(e,t,n){n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return s}));var i=n("eOdZ");const a=()=>{};const r={complaint:function(e,t){i.a.create("PinFeedbackResource",e).callUpdate().then(()=>t())},followBoard:function(e,t){i.a.create("BoardFollowResource",e).callCreate().then(()=>t())},followPinner:function(e,t){i.a.create("UserFollowResource",e).callCreate().then(()=>t())},followTopic:function(e,t){i.a.create("InterestFollowResource",e).callCreate().then(()=>t())},newsHubPinHide:function(e,t){i.a.create("NewsHubPinFeedbackResource",e).callUpdate().then(()=>t())},promotedComplaint:function(e,t){i.a.create("PinFeedbackResource",e).callUpdate().then(()=>t())},relatedPinHide:function(e,t){i.a.create("RelatedPinFeedbackResource",e).callUpdate().then(()=>t())},reportPin:function(e,t){t()},unfollowBoard:function(e,t){i.a.create("BoardFollowResource",e).callDelete().then(()=>t())},unfollowPinner:function(e,t){i.a.create("UserFollowResource",e).callDelete().then(()=>t())},unfollowTopic:function(e,t){i.a.create("InterestFollowResource",e).callDelete().then(()=>t())},unrelatedSearchPin:function(e,t){i.a.create("SearchPinFeedbackResource",e).callUpdate().then(()=>t())}},o=["complaint","relatedPinHide","unrelatedSearchPin","promotedComplaint","newsHubPinHide","unfollowBoard","unfollowPinner","unfollowTopic"];function s(e,t,n=a){const i=r[e];return i?i(t,n):n()}},"fMq/":function(e,t,n){var i=n("q1tI"),a=n.n(i),r=n("Ye/N"),o=n("n6mq");function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const l=16,c=32;class d extends i.Component{constructor(...e){super(...e),s(this,"state",{isHovering:!1}),s(this,"handleMouseEnter",e=>{this.setState({isHovering:!0}),this.props.onMouseEnter&&this.props.onMouseEnter(e)}),s(this,"handleMouseLeave",e=>{this.setState({isHovering:!1}),this.props.onMouseLeave&&this.props.onMouseLeave(e)})}render(){const{forwardedRef:e,icon:t,onClick:n,onMouseDown:i,onMouseUp:s,selected:d,style:u,text:m,x:p,y:h,zIndex:f,backdropDiameter:g=c,dotDiameter:b=l}=this.props,{isHovering:y}=this.state,E=y?g+4:g,w={zIndex:f,position:"absolute",top:h-E/2,left:p-E/2,outline:"none"},_={backgroundColor:"rgba(0, 0, 0, 0.1)",width:E,height:E,border:"none",borderRadius:E,cursor:n?"pointer":"default"},v={backgroundColor:"#fff",boxShadow:d?"0 0 0 3px #e60023":"none",width:b,height:b,border:"none",borderRadius:b,position:"absolute",top:(E-b)/2,left:(E-b)/2,padding:0,display:"flex",alignItems:"center",justifyContent:"center"};return a.a.createElement("div",{"data-test-id":"flashlight-dot",onClick:n,onKeyPress:n,onMouseDown:i,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onMouseUp:s,ref:e,role:"button",style:w,tabIndex:"0"},a.a.createElement("div",{style:{..._,...u}},a.a.createElement("div",{style:v},!!m&&a.a.createElement(o.V,{align:"center",color:"darkGray",inline:!0,size:"sm",weight:"bold"},m),t&&a.a.createElement(o.t,{accessibilityLabel:r.a._("Tag anchor","accessibility label for an anchor for an object in a pin","accessibility label for an anchor for an object in a pin"),color:"red",icon:t,size:b/2,inline:!0}))))}}t.a=a.a.forwardRef((e,t)=>a.a.createElement(d,Object.assign({},e,{forwardedRef:t})))},flQA:function(e,t,n){n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));const i=-1;function a(e){switch(e){case 0:return"shopping-bag";case 1:return"tag";default:return"search"}}},g5OB:function(e,t,n){n.d(t,"a",(function(){return vt}));var i=n("q1tI"),a=n.n(i),r=n("jkxn"),o=n("rYoy"),s=n("gD/Z"),l=n("sztL"),c=n("zwad");function d(e,t){const{carousel_data:n,domain:i}=e;let a=i||"";return n&&n.id&&(a=function(e,t){const n=t||e&&e.index||0,i=e&&e.carousel_slots||[],a=i[n]&&i[n].link||"";return a&&c.a.parse(a).hostname||""}(n,t)),a.replace("www.","")}var u=n("Ye/N"),m=n("qD10"),p=n("kVqD"),h=n("0nTG"),f=n("Y8Sn"),g=n("n6mq");const b={container:{backgroundColor:"rgba(255, 255, 255, 0.9)",borderRadius:18,height:"32px",maxWidth:"132px"},containerHovered:{backgroundColor:"rgba(255, 255, 255, 1.0)"},containerTruncated:{maxWidth:"87px"},text:{color:"#333333"}};function y({pin:e,sourceLinkStyle:t,surface:n,url:r}){const[o,c]=Object(i.useState)(!1),{id:y}=e,E=d(e),w=Object(h.f)(e)||{},{slotIndex:_}=Object(s.b)(),v=Object(p.a)(12,{grid_index:_,objectId:y,...Object(h.f)(e)||{}}),S=Object(p.a)(101,{element:162,objectId:y,...Object(h.f)(e)||{}}),O=Object(p.a)(8948,{click_type:"clickthrough",closeup_navigation_type:"click",grid_index:_,objectId:y,...Object(h.f)(e)||{}}),T=()=>{v(),S(),Object(f.e)()&&O()};return"icon-only"===t?a.a.createElement(m.a,{auxData:w,external:!0,onClick:T,pinId:y,surface:n,to:r},a.a.createElement(g.u,{accessibilityLabel:u.a._("link","Website url link","Website url link"),bgColor:"white",icon:"arrow-up-right",iconColor:"darkGray",size:"sm"})):a.a.createElement(g.e,{dangerouslySetInlineStyle:{__style:{...b.container,...o?b.containerHovered:{},..."truncated-text"===t?b.containerTruncated:{}}},"data-test-id":"pinrep-source-link",onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),position:"relative"},a.a.createElement(l.a,{hovered:o,pin:e,slotIndex:_,viewType:1},a.a.createElement(m.a,{className:"GestaltTouchableFocus",external:!0,onClick:T,pinId:y,surface:n,style:{borderRadius:18,display:"block"},to:r},a.a.createElement(g.e,{alignItems:"baseline",dangerouslySetInlineStyle:{__style:b.text},display:"flex",justifyContent:"between"},a.a.createElement(g.e,{display:"flex",flex:"none",marginTop:3,marginBottom:3,marginStart:3},a.a.createElement(g.t,{accessibilityLabel:u.a._("link","Website url link","Website url link"),color:"darkGray",icon:"arrow-up-right",size:9})),a.a.createElement(g.e,{alignItems:"center",display:"flex",height:18,marginStart:2,marginEnd:3,overflow:"hidden"},a.a.createElement(g.V,{color:"darkGray",size:"md",weight:"bold",truncate:!0},E))))))}const E=Object(i.lazy)(()=>Promise.all([n.e(88),n.e(109),n.e("PinRepEditButtonCommon")]).then(n.bind(null,"jHGc"))),w=Object(i.lazy)(()=>Promise.resolve().then(n.bind(null,"Te6n"))),_=Object(i.lazy)(()=>n.e("PinRepSendShareLinkButtonCommon").then(n.bind(null,"GUPW")));var v=Object(i.memo)((function({actionBarEditBeforeShare:e,feedbackData:t,feedbackType:n,layout:i,onToggleFlyout:l,onToggleModal:c,pin:d,pinTitle:u,setForcePrimary:m,showEditButton:p,showOverflowMenu:h,showShareButton:f,sourceLinkStyle:b,surface:v}){var S;const{viewParameter:O,viewType:T}=Object(s.b)(),{carousel_data:I,id:C,tracked_link:x,link:P}=d,R=null!==(S=null!=x?x:P)&&void 0!==S?S:"",k=!!R&&Object(r.a)(a.a.createElement(y,{pin:d,sourceLinkStyle:b,surface:v,url:R})),j=f&&a.a.createElement(o.a,null,a.a.createElement(g.e,{"data-test-id":"send-share-link"},Object(r.a)(a.a.createElement(_,{pin:d,setForcePrimary:m})))),A=p&&a.a.createElement(o.a,null,a.a.createElement(g.e,{"data-test-id":"edit-button"},Object(r.a)(a.a.createElement(E,{carouselSlotCurrentIndex:I&&I.index,component:0,onToggleModal:l,pinId:C,style:{size:"sm"},view:T,viewParameter:O,useLegoStyles:!0}))));return"equally-spaced"===i?a.a.createElement(g.e,{display:"flex",justifyContent:"between",alignItems:"center",padding:3},a.a.createElement("div",{style:{flexBasis:32}},k),e?A:j,e?j:A):a.a.createElement(g.e,{alignItems:"center",display:"flex",padding:3},a.a.createElement(g.e,{flex:"shrink"},k),a.a.createElement(g.e,{alignItems:"center",display:"flex",flex:"none",marginStart:"auto"},a.a.createElement(g.I,{gap:1,justifyContent:"end"},e?A:j,h&&a.a.createElement(o.a,null,a.a.createElement(g.e,{"data-test-id":"overflow-menu-button"},Object(r.a)(a.a.createElement(w,{feedbackData:t,feedbackType:n,pin:d,pinTitle:u,setForcePrimary:m})))),e?j:A)))})),S=n("/MKj"),O=n("XSD5"),T=n("ZbwW"),I=n("U4JR");function C({direction:e,swipeHandler:t}){const n={left:u.a._("View Previous","Button to advance carousel to the previous image","Button to advance carousel to the previous image"),right:u.a._("View Next","Button to advance carousel to the next image","Button to advance carousel to the next image")};return a.a.createElement(g.e,{position:"absolute",bottom:!0,top:!0,left:"left"===e,right:"right"===e},a.a.createElement(g.U,{fullHeight:!0,fullWidth:!0,onTap:t},a.a.createElement(g.e,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",padding:2,width:"100%","data-test-id":"carousel-slider-"+e},a.a.createElement(g.t,{accessibilityLabel:n[e],color:"white",icon:{left:"arrow-back",right:"arrow-forward"}[e]}))))}var x=Object(S.connect)(null,(function(e){return{changeCarouselSlotIndex:(t,n)=>e(Object(O.a)(t,n))}}))(({pin:e,changeCarouselSlotIndex:t})=>{const{componentType:n,viewParameter:i,viewType:o}=Object(s.b)(),l=Object(T.a)(e);if(!l)return null;const{id:c=""}=e,{carousel_slots:d,index:u,id:m}=l;function p(a){return()=>{const r="left"===a?u-1:u+1;t(c,r),((t,a)=>{Object(I.b)(108,{objectId:c,component:n,view:o,viewParameter:i,eventData:{pinCarouselSlotEventData:{carouselSlotId:d[t]&&Number(d[t].id),carouselDataId:Number(m),carouselSlotIndex:t,toCarouselSlotIndex:a}},...Object(h.f)(e)||{}})})(u,r)}}return a.a.createElement(g.e,{height:"100%",position:"relative",width:"100%"},u>0&&Object(r.a)(a.a.createElement(C,{direction:"left",swipeHandler:p("left")})),u<d.length-1&&Object(r.a)(a.a.createElement(C,{direction:"right",swipeHandler:p("right")})))}),P=n("h9/w"),R=n("clxp"),k=n("FDmi");function j({avatarUrl:e,attributionNameLink:t,name:n="",onClick:i,accessibilityLabel:r}){const o=a.a.createElement(g.e,{height:"32px",width:"32px"},a.a.createElement(k.a,{name:n,src:e,accessibilityLabel:r}));return t?a.a.createElement(m.a,{className:"underlineLink",to:t,onClick:i},o):o}function A({attributionNameLink:e,name:t,onClick:n,regularWeight:i}){const r=a.a.createElement(g.V,{size:"md",truncate:!0,weight:i?"normal":"bold"},t);return a.a.createElement(g.e,null,e?a.a.createElement(m.a,{className:"underlineLink",onClick:n,to:e},r):r)}function D({link:e,onClick:t,title:n,weight:i}){if(!n)return null;const r=a.a.createElement(g.V,{size:"md",truncate:!0,weight:i},n);return e?a.a.createElement(m.a,{className:"underlineLink",onClick:t,to:e},r):r}var L=n("b9Z9"),N=n("ynlw"),M=n("Zxas"),B=n("vvax"),F=n("fc1g");var z=Object(S.connect)(null,(function(e){return{setMostRecentPin:t=>{e(Object(F.a)(t))}}}))((function({attributionNameLink:e,attributionTitle:t,avatarUrl:n,isDarkPromoter:i,pin:r,name:o,setMostRecentPin:l,sponsorUrl:c,url:d}){const{viewParameter:h,viewType:f}=Object(s.b)(),{id:b,pinner:y,sponsorship:E}=r,{isPromoted:w}=Object(N.a)(r),_=y||r.promoter,{creator:{id:v}={},sponsor:{id:S}={}}=E||{},O=Object(p.a)(101,{view:3,element:w?283:27,objectId:b,...v?{creator_id:v,pin_id:b}:{}}),T=Object(p.a)(101,{view:3,element:27,pin_id:b,...v&&S?{creator_id:v,sponsor_id:S}:{}}),I=d&&!e,C=a.a.createElement(g.e,{alignItems:"center",display:"flex",dangerouslySetInlineStyle:{__style:{marginLeft:"-3px",marginRight:"-3px"}}},a.a.createElement(g.e,{flex:"none",dangerouslySetInlineStyle:{__style:{marginLeft:"3px",marginRight:"3px"}}},a.a.createElement(L.a,{avatarSize:32,isDarkPromoter:i,pinId:b,user:_,username:_&&_.username,viewParameter:h,viewType:f},a.a.createElement(j,{attributionNameLink:e,avatarUrl:n,name:o,onClick:O,accessibilityLabel:""}))),a.a.createElement(g.e,{dangerouslySetInlineStyle:{__style:{marginLeft:"3px",marginRight:"3px"}},flex:"grow",overflow:"hidden"},a.a.createElement(g.e,{dangerouslySetInlineStyle:{__style:{marginBottom:"2px"}}},a.a.createElement(A,{attributionNameLink:e,name:o,onClick:O,regularWeight:!t})),c?a.a.createElement(g.V,{size:"md",weight:"bold"},Object(B.b)(u.a._("Paid partnership with {{ name }}","pinrep.attribution.sponsoredPinTitle","Subtext of pinrep attribution when sponsored by a brand"),{name:a.a.createElement(D,{link:c,onClick:T,title:Object(M.a)(t,20),weight:"bold"})})):a.a.createElement(D,{title:t})));return I?a.a.createElement(m.a,{className:"underlineLink",onClick:()=>{l(b),O()},to:d},C):C})),H=n("Gx6I"),V=n("GsvW");var U=Object(S.connect)((e,t)=>({replyActivityItem:t.replyActivityId?e.activityItems[t.replyActivityId]:null}),e=>({toggleLike:(t,n,i)=>e(Object(H.a)(t,1,n,i))}))((function({replyActivityId:e,replyActivityItem:t,toggleLike:n}){const{content:r,created_at:o,reaction_by_me:s,type:l,user:c}=t||{},{text:d}=r||{},[m,p]=Object(i.useState)(!1);return e&&t?a.a.createElement(g.e,{marginTop:2,display:"flex",direction:"row",width:"100%"},a.a.createElement(g.e,{marginEnd:2,dangerouslySetInlineStyle:{__style:{borderLeftWidth:"2px",borderLeftStyle:"solid",borderLeftColor:"#efefef"}}}),a.a.createElement(g.e,{display:"flex",direction:"column",width:"100%"},a.a.createElement(g.U,{onMouseEnter:()=>{p(!0)},onMouseLeave:()=>{p(!1)},onTap:()=>{n(e,l,!!s)}},a.a.createElement(g.e,{display:"flex",direction:"row"},a.a.createElement(g.e,{maxWidth:124},a.a.createElement(g.V,{size:"md",weight:"bold"},Object(V.e)(c))),a.a.createElement(g.e,{marginStart:1},a.a.createElement(g.V,{size:"md",color:"gray"},Object(V.f)(o)))),a.a.createElement(g.e,{display:"flex",direction:"row"},a.a.createElement(g.e,{width:"100%"},a.a.createElement(g.e,{marginEnd:5,width:"100%"},a.a.createElement(g.V,{size:"md"},d))),a.a.createElement(g.e,{marginTop:-2,marginEnd:1,marginStart:2,minWidth:12},!!s&&a.a.createElement(g.t,{icon:"heart",accessibilityLabel:u.a._("Liked","Accessibility lable for like sent reaction icon to comments and replies under pin rep","Accessibility lable for like sent reaction icon to comments and replies under pin rep"),color:"red",size:12}),!s&&m&&a.a.createElement(g.t,{icon:"heart-outline",accessibilityLabel:u.a._("Like","Accessibility lable for send like reaction icon to comments and replies under pin rep","Accessibility lable for send like reaction icon to comments and replies under pin rep"),color:"darkGray",size:12})))))):null})),G=n("w70y");function q({commentActivityId:e,parentActivity:t,showReplies:n}){const r=Object(S.useSelector)(({activityItems:t})=>e?t[e]:null),{comment_count:o,content:{text:s},created_at:l,reaction_by_me:c,type:d,user:p}=r||{},[h,f]=Object(i.useState)(!1),b=Object(G.a)({name:"BoardActivityCommentFeedResource",options:{page_size:1,activityId:r&&r.id,parentType:r&&r.type,redux_normalize_feed:!0},allowStale:!1}),y=Object(S.useDispatch)(),E=n&&o?o-1:0,w=!b.isLoaded,_=!!b.isLoaded&&!!b.data&&b.data.length>0&&b.data[0].id,v=a.a.createElement(g.V,{size:"sm",weight:"bold"},Object(B.b)(u.a.ngettext("{{ moreRepliesCount }} more comment","{{ moreRepliesCount }} more comments",E,"Number of more comments indicator for board comments under pin cards","Number of more comments indicator for board comments under pin cards"),{moreRepliesCount:E}));return a.a.createElement(g.e,{display:"flex",direction:"row",marginTop:2,marginBottom:1},a.a.createElement(g.e,{minWidth:32,minHeight:32},a.a.createElement(k.a,{src:p.image_medium_url,name:p.username})),a.a.createElement(g.e,{display:"flex",direction:"column",marginStart:2,width:"100%"},a.a.createElement(g.U,{onMouseEnter:()=>{f(!0)},onMouseLeave:()=>{f(!1)},onTap:()=>{var t,n,i;e&&(t=e,n=d,i=!!c,y(Object(H.a)(t,1,n,i)))}},a.a.createElement(g.e,{display:"flex",direction:"row"},a.a.createElement(g.e,{maxWidth:130},a.a.createElement(g.V,{size:"md",weight:"bold"},Object(V.e)(p))),a.a.createElement(g.e,{marginStart:1},a.a.createElement(g.V,{size:"md",color:"gray"},Object(V.f)(l)))),a.a.createElement(g.e,{display:"flex",direction:"row"},a.a.createElement(g.e,{width:"100%",maxWidth:160},a.a.createElement(g.V,{size:"md"},s)),a.a.createElement(g.e,{marginTop:-2,marginEnd:1,marginStart:2,minWidth:12},!!c&&a.a.createElement(g.t,{icon:"heart",accessibilityLabel:u.a._("Liked","Accessibility lable for like sent reaction icon to comments and replies under pin rep","Accessibility lable for like sent reaction icon to comments and replies under pin rep"),color:"red",size:12}),!c&&h&&a.a.createElement(g.t,{icon:"heart-outline",accessibilityLabel:u.a._("Like","Accessibility lable for send like reaction icon to comments and replies under pin rep","Accessibility lable for send like reaction icon to comments and replies under pin rep"),color:"darkGray",size:12})))),E>0&&a.a.createElement(g.e,{marginTop:2,marginBottom:1},t&&t.pin?a.a.createElement(m.a,{to:`/pin/${t.pin.id}/`},v):v),n&&(w?a.a.createElement(g.e,{paddingX:1,marginTop:2,width:"100%",dangerouslySetInlineStyle:{__style:{borderLeft:"2px solid #efefef"}}},a.a.createElement(g.e,{color:"lightGray",width:"100%",height:48})):a.a.createElement(U,{replyActivityId:_||null}))))}var W=n("ExRq"),Y=n("ANjH");const $={background:"transparent",border:"0",display:"inline-block",fontSize:"14px",lineHeight:"17px",maxHeight:"34px",outline:"0",overflowX:"hidden",resize:"none",whiteSpace:"pre-wrap",width:"100%"},K=0,J=1,X=2;function Q(e,t){switch(t.type){case K:return{...e,commentValue:t.commentValue||""};case J:return{...e,inputRowsValue:t.inputRowsValue||1};case X:return{...e,commentValue:"",commentAdded:!0,inputRowsValue:1};default:return e}}var Z=Object(S.connect)(({activityItems:e,groupBoardGridComments:t,viewer:n},{pin:{board_activity:i}})=>{const a=i&&i.id,r=a?e[a]:null;return{boardActivityComments:(a&&t[a]||[]).map(t=>e[t]),parentActivity:r,viewer:n}},e=>({createActivityItem:Object(Y.bindActionCreators)(W.a,e)}))((function({boardActivityComments:e,createActivityItem:t,parentActivity:n,viewer:r}){const[o,s]=Object(i.useReducer)(Q,{commentValue:"",commentAdded:false,inputRowsValue:1,showMoreComment:!!n&&n.comment_count>3});if(!r.isAuth||!e||0===e.length)return null;const l=o.commentValue.trim().length>0,c={color:l?"black":"#767676",...$},d=e.length>0?e[0].id:null,p=e.length>1?e[1].id:null,h=e.length>2?e[2].id:null,f=e[0].comment_count>0,b=p&&e[1].comment_count>0&&!f,y=h&&!f&&!b,E=y?3:2,w=e.length<3?e.length:E,_=n?n.comment_count-w:0,v=a.a.createElement(g.V,{size:"sm",weight:"bold"},Object(B.b)(u.a.ngettext("{{ moreCommentsCount }} more comment","{{ moreCommentsCount }} more comments",_,"Number of more comments indicator for board comments under pin cards","Number of more comments indicator for board comments under pin cards"),{moreCommentsCount:_})),S=a.a.createElement(g.e,{marginStart:2},a.a.createElement(g.V,{size:"md",weight:"bold"},u.a._("View your comment","Text after user added comments under group board pin grid","Text after user added comments under group board pin grid"))),O=a.a.createElement(g.e,{display:"flex",direction:"column",width:"100%"},o.showMoreComment&&!!_&&a.a.createElement(g.e,{marginTop:2,marginBottom:1},n&&n.pin?a.a.createElement(m.a,{to:`/pin/${n.pin.id}/`},v):v),y&&a.a.createElement(q,{commentActivityId:h,parentActivity:n}),p&&a.a.createElement(q,{commentActivityId:p,parentActivity:n,showReplies:!!b}),a.a.createElement(q,{commentActivityId:d,parentActivity:n,showReplies:f}));return a.a.createElement(g.e,{display:"flex",direction:"column"},e.length>0&&O,a.a.createElement(g.e,{alignItems:"center",display:"flex",direction:"row",marginTop:2},a.a.createElement(g.e,{height:32,minWidth:32},a.a.createElement(k.a,{src:r.imageMediumUrl,name:r.username})),o.commentAdded&&(n&&n.pin?a.a.createElement(m.a,{to:`/pin/${n.pin.id}/`},S):S),!o.commentAdded&&a.a.createElement(i.Fragment,null,a.a.createElement(g.e,{color:"lightGray",width:"100%",alignItems:"center",display:"flex",marginStart:2,marginEnd:2,paddingX:2,paddingY:1,rounding:4},a.a.createElement("textarea",{maxLength:2e3,name:"commentTextBox",placeholder:u.a._("Add comment","Placeholder for comment text field under pin rep","Placeholder for comment text field under pin rep"),style:c,rows:o.inputRowsValue,value:o.commentValue,onChange:e=>{if(s({type:K,commentValue:String(e.target.value)}),e&&e.target){const t=e.target.rows;e.target.rows=1;const n=Math.floor(e.target.scrollHeight/17);n===t&&(e.target.rows=n),n>=2&&(e.target.rows=2,e.target.scrollTop=e.target.scrollHeight),s({type:J,inputRowsValue:n<2?n:2})}}})),l&&a.a.createElement(g.e,{width:32,height:32,rounding:"circle",color:"red"},a.a.createElement(g.u,{accessibilityLabel:u.a._("send","Accessibility label for send comment under pin rep","Accessibility label for send comment under pin rep"),bgColor:"transparent",icon:"send",iconColor:"white",size:"sm",onClick:()=>{if(!n)return;const e=JSON.stringify([]);t({imageSignatures:"",objectIds:[],parentId:n.id,parentType:n.type,text:o.commentValue,tags:e}),s({type:X})}})))))})),ee=n("rSLd");var te=n("oRao"),ne=n("T5j3"),ie=n("obIb"),ae=n.n(ie),re=n("X/CP"),oe=n.n(re),se=n("x/xQ"),le=n.n(se),ce=n("jOPH"),de=n.n(ce),ue=n("U5D8"),me=n.n(ue);const pe={goodIdea:ae.a,love:le.a,thanks:de.a,wow:me.a,haha:oe.a},he={7:"goodIdea",1:"love",13:"thanks",11:"wow",5:"haha"};var fe=function({pinId:e,reactionCounts:t}){const n=t?Object(ne.a)(t):null,i=t?Object(ne.b)(t):0,r=!!n&&n.length>0&&n.map((e,t)=>{const n=pe[he[e]];return a.a.createElement(g.e,{key:t,dangerouslySetInlineStyle:{__style:{marginRight:2}}},a.a.createElement(g.e,{width:17,height:17,dangerouslySetInlineStyle:{__style:{backgroundImage:`url(${n})`,backgroundPosiiton:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover"}}}))});return!!r&&a.a.createElement(m.a,{to:`/pin/${e}/`},a.a.createElement(g.e,{display:"flex",direction:"row",alignItems:"center",height:19,paddingY:3},a.a.createElement(g.e,{display:"flex",direction:"row"},r),a.a.createElement(g.e,{paddingX:1},a.a.createElement(g.V,{size:"md"},a.a.createElement(te.a,{value:i,shortform:!0,shortformMaximumFractionDigits:1})))))},ge=n("4Utz"),be=n("Rfw2");function ye({feedbackType:e,pin:t}){const{pinner:n,source_interest:i}=t,{full_name:r,username:o}=n||{},{name:s}=i||{},l="topic"===e,c=!l&&"followed"===e,d=`/${o}/`,p=Object(be.e)(s),h=`/search/pins/?q=${encodeURIComponent(p)}&rs=image_only_attribution`,f=l?h:d,b={topic:u.a._("From {topic}","attribution on pin rep","attribution on pin rep"),followed:u.a._("From {pinnerName}","attribution on pin rep","attribution on pin rep"),pfyBoard:u.a._("Picked for you","attribution on pin rep","attribution on pin rep"),pfy:u.a._("Picked for you","attribution on pin rep","attribution on pin rep")}[e];if(!b)return null;if(c||l){const e=0===b.indexOf("{"),t=l?s:r,n=e?b.slice(b.indexOf("}")+1):b.slice(0,b.indexOf("{"));return e?a.a.createElement(g.e,null,a.a.createElement(m.a,{to:f},a.a.createElement(g.V,{weight:"bold",inline:!0,size:"md",truncate:!0},t)),a.a.createElement(g.V,{inline:!0,size:"md"},n)):a.a.createElement(g.e,null,a.a.createElement(g.V,{inline:!0,size:"md"},n),a.a.createElement(m.a,{to:f},a.a.createElement(g.V,{color:"darkGray",weight:"bold",inline:!0,size:"md",truncate:!0},t)))}return a.a.createElement(g.e,null,a.a.createElement(ge.a,{pin:t},a.a.createElement(g.V,{color:"darkGray",overflow:"normal",size:"md",weight:"bold"},b)))}var Ee=n("Te6n"),we=n("h4v/");function _e(e){if(!window||!window.prefetchCompletion||!window.prefetchCompletion[e])return"0";const{downloadedAssets:t,totalAssets:n}=window.prefetchCompletion[e];return n?(t/n*100).toFixed(3).toString():"-1"}var ve=n("4cpq");function Se({children:e,componentType:t,contextLogData:n,elementType:i,pin:r,surface:o,viewParameter:l,viewType:c}){const d=Object(s.b)(),{carousel_data:u,id:p,link:h,tracked_link:b}=r;let y,E=b||h,w="one-tap-desktop";if(u){const{carousel_slots:e=[],id:t,index:n}=u;e[n]&&e[n].link&&(E=e[n].link),y={carousel_slot_id:e[n]&&e[n].id,carousel_data_id:t,carousel_slot_index:n},w+="-carousel"}return a.a.createElement(g.e,{"data-test-id":"otpp"},a.a.createElement(ve.a,{id:w},a.a.createElement(m.a,{auxData:y,external:!0,onClick:()=>{const e=we.a.getInstance(),i=e.getViewFromContext();Object(I.b)(12,{...n,view:c||d.viewType,viewParameter:l||d.viewParameter,component:t||d.componentType,objectId:p,grid_index:d.slotIndex,pin_id:p,prefetch_percentage_complete:_e(h||"")}),Object(f.e)()&&Object(I.b)(8948,{click_type:"clickthrough",closeup_navigation_type:"click",view:c||d.viewType,viewParameter:l||d.viewParameter,...n,component:t||d.componentType,objectId:p,grid_index:d.slotIndex,pin_id:p,prefetch_percentage_complete:_e(h||"")}),Object(I.b)(13,{closeup_navigation_type:"web_closeup",objectId:p,component:t||d.componentType,view:3,...d.contextLogData,...n}),e.addViewToContext(i)},pinId:p,style:{cursor:"pointer",display:"block"},surface:o,to:E||""},e)))}var Oe=n("gC5q"),Te=n("QAzJ");function Ie(e){const{pin:t,surface:n}=e,{isOneTap:i,isVideo:r,isPromoted:o}=Object(N.a)(t),{anyEnabled:s,customActivate:l}=Object(Te.b)("web_no_tap_tap");!i&&r&&o&&l();const c=i||r&&o&&s?Se:ge.a;return a.a.createElement(c,Object.assign({surface:i?n:void 0},Object(Oe.b)(e,["surface"])))}function Ce({pin:e,pinNoteText:t,singleLineMaxLength:n}){const i=Object(M.a)(t,n);return a.a.createElement(Ie,{pin:e},a.a.createElement(g.V,{overflow:"normal",size:"md"},i))}var xe=n("EPem"),Pe=n("TOi3");function Re({pin:e}){const{isStoryPin:t,isVideo:n}=Object(N.a)(e),i=function(e){const{aggregated_pin_data:t,creator_analytics:n}=e,{creator_analytics:i}=t||{},{isStoryPin:a}=Object(N.a)(e);return!n||!a&&i?i:n}(e),r=Object(xe.a)(n,t),o=n||t?null==i?void 0:i.all_time_realtime:null==i?void 0:i["30d_realtime"];return a.a.createElement(g.e,{display:"flex"},r.map(({align:e,displayText:t,field:n,iconType:i,iconSize:r=12,valueFormat:s})=>a.a.createElement(g.e,{alignItems:"center",column:4,display:"flex",justifyContent:e,key:n},a.a.createElement(g.e,{display:"inlineBlock",marginEnd:1},a.a.createElement(g.t,{accessibilityLabel:t,color:"darkGray",icon:i,size:r})),a.a.createElement(g.V,{inline:!0,size:"md"},a.a.createElement(Pe.a,{value:null==o?void 0:o[n],valueFormat:s})))))}function ke({currentPrice:e,originalPrice:t,pin:n,surface:i}){const r=t&&t!==e;return a.a.createElement(Ie,{pin:n,surface:i},a.a.createElement(g.e,{display:"flex",direction:"row"},e&&a.a.createElement(g.V,{color:r?"blue":"darkGray",size:"md",weight:"bold"},e),r&&a.a.createElement(g.e,{dangerouslySetInlineStyle:{__style:{textDecoration:"line-through",textDecorationColor:"#767676"}},marginStart:1},a.a.createElement(g.V,{color:"gray",size:"md",weight:"bold"},t))))}var je=n("N89m");function Ae({pin:e,singleLineMaxLength:t,surface:n}){const i=Object(je.a)(e),r=Object(M.a)(i,t);return a.a.createElement(Ie,{pin:e,surface:n},a.a.createElement(g.e,{display:"flex",direction:"row"},a.a.createElement(g.V,{color:"darkGray",overflow:"normal",size:"md",weight:"normal"},r)))}function De({numberOfLines:e=2,pin:t,pinTitle:n,singleLineMaxLength:i,surface:r}){const o=e*i,s=Object(M.a)(n,o);return a.a.createElement(Ie,{pin:t,surface:r},a.a.createElement(g.V,{color:"darkGray",overflow:"normal",size:"md",weight:"bold"},s))}var Le=n("+tKw");function Ne({pin:e,showGroupBoardAvatar:t,singleLineMaxLength:n,userNote:i}){const{pinner:r}=e;if(!r)return null;const{full_name:o,image_small_url:s}=r,l=1.8*n,c=Object(M.a)(i,l);return a.a.createElement(Ie,{pin:e},a.a.createElement(g.e,{alignItems:"center",display:"flex"},!t&&a.a.createElement(g.e,{flex:"none",marginEnd:2},a.a.createElement(k.a,{name:o,size:"xs",src:s})),a.a.createElement(g.e,{"data-test-id":"PinRep-UserNote"},a.a.createElement(g.V,{overflow:"normal",size:"md"},a.a.createElement(Le.a,{text:c,options:{hashtags:{source:"hashtag_closeup"}}})))))}var Me=n("XLg/");const Be=Object(i.lazy)(()=>n.e("BoardActivityPinRepReactionsCommon").then(n.bind(null,"TbX8"))),Fe={container:{padding:"8px 6px 16px"},groupBoardContainer:{padding:"8px 6px 8px"},productContainer:{padding:"12px 6px 16px"},imageOnlyAttribution:{hidden:{opacity:0,transition:`opacity ${Me.a}ms ease`},visible:{opacity:1}}};var ze=Object(i.memo)((function({attributionType:e,blockClickEvents:t,contentType:n,feedbackData:s,feedbackType:l,hoverTransitionState:c,isDarkPromoter:d,pin:m,board:p,pinNoteText:h,pinTitle:f,productOriginalPrice:b,productCurrentPrice:y,setForcePrimary:E,showBoardActivityComments:w,showBoardActivityReply:_,showCarouselEllipsis:v,showGroupBoardAvatar:S,showOverflowMenu:O,showNativeReactions:T,showPinStats:I,showSource:C,showTextContent:x,singleLineMaxLength:P,surface:R,titleLines:k,useLegoPadding:A,userNote:D}){const{board_activity:L,id:M,sponsorship:B}=m,F=f||C,H=F||D,{anyEnabled:V,customActivate:U}=Object(Te.b)("web_today_article_claimed_content_attribution","TodayArticleFeed"===R),{anyEnabled:G}=Object(Te.a)("mweb_web_sponsored_pins",!!B),{anyEnabled:q}=Object(Te.c)("web_pin_notes"),W=function(e,t,n={isEnabledTodayArticleClaimedContentAttrExperiment:!1,activateEnabledTodayArticleClaimedContentAttrExperiment:()=>{},isEnabledSponsoredPinExperiment:!1}){const{board:i,link_domain:a={},promoter:r,sponsorship:o,native_creator:s}=e,{isEnabledTodayArticleClaimedContentAttrExperiment:l,activateEnabledTodayArticleClaimedContentAttrExperiment:c,isEnabledSponsoredPinExperiment:d}=n,{isPromoted:m}=Object(N.a)(e),{official_user:p}=a||{},h=e.pinner||{};let f="",g="",b="",y="",E="",w="";if(m&&r)f=r.image_medium_url||r.image_small_url,b=r.full_name,y=u.a._("Promoted by","indicating the username of the person who promoted the pin","indicating the username of the person who promoted the pin"),w=`/${r.username}/`;else if(d&&o){const{creator:e,sponsor:t}=o;f=e.image_medium_url||e.image_small_url,g=`/${e.username}/`,b=t.full_name,y=e.full_name,w=`/${e.username}/`,E=`/${t.username}/`}else s?(f=s.image_medium_url||s.image_small_url,y=s.full_name,w=`/${s.username}/`):"show-for-claimed-content"===t?(c(),(null==p?void 0:p.is_primary_website_verified)&&l&&(f=p.image_medium_url||p.image_small_url,y=p.full_name,w=`/${p.username}/`)):(f=h.image_medium_url||h.image_small_url,g=`/${h.username}/`,y=h.full_name,w=i?i.url:"");return{avatarUrl:f,attributionNameLink:g,attributionTitle:b,name:y,sponsorUrl:E,url:w}}(m,e,{isEnabledTodayArticleClaimedContentAttrExperiment:V,activateEnabledTodayArticleClaimedContentAttrExperiment:U,isEnabledSponsoredPinExperiment:G}),{avatarUrl:Y,attributionNameLink:$,attributionTitle:K,name:J,sponsorUrl:X,url:Q}=W,te=a.a.createElement(g.e,{dangerouslySetInlineStyle:{__style:p&&p.is_collaborative&&A?Fe.groupBoardContainer:Fe.container}},v&&a.a.createElement(g.e,{dangerouslySetInlineStyle:{__style:F||S||"none"!==e?{marginBottom:"6px"}:{}},display:"flex",justifyContent:"center"},a.a.createElement(ee.default,{pinId:M})),I&&a.a.createElement(g.e,{dangerouslySetInlineStyle:{__style:{marginBottom:"6px"}},flex:"grow",width:"100%"},a.a.createElement(Re,{pin:m})),a.a.createElement(g.e,{display:"flex"},a.a.createElement(g.e,{flex:"grow"},x&&H&&a.a.createElement(g.e,{dangerouslySetInlineStyle:{__style:"none"!==e||S?{marginBottom:"6px"}:{}}},(b||y)&&a.a.createElement(g.e,{marginBottom:1},a.a.createElement(ke,{currentPrice:y,originalPrice:b,pin:m,surface:R})),a.a.createElement(De,{numberOfLines:k,pin:m,pinTitle:f,singleLineMaxLength:P,surface:R}),C&&a.a.createElement(Ae,{pin:m,singleLineMaxLength:P,surface:R}),!q&&D&&a.a.createElement(g.e,{marginTop:F?1:0},a.a.createElement(Ne,{pin:m,showGroupBoardAvatar:S,singleLineMaxLength:P,userNote:D}))),a.a.createElement(g.e,{alignItems:"center",display:"flex"},a.a.createElement(g.e,{flex:"grow"},(()=>{switch(e){case"none":return null;case"image-only-credit":return a.a.createElement(g.e,{dangerouslySetInlineStyle:{__style:Fe.imageOnlyAttribution["active"===c?"visible":"hidden"]}},a.a.createElement(ye,{pin:m,feedbackType:l}));default:return Object.values(W).some(e=>Boolean(e))?a.a.createElement(z,{attributionNameLink:$,attributionTitle:K,avatarUrl:Y,isDarkPromoter:d,name:J,pin:m,sponsorUrl:X,url:Q}):null}})()),O&&a.a.createElement(g.e,{flex:"none"},a.a.createElement(Ee.default,{feedbackData:s,feedbackType:l,pin:m,pinTitle:f,setForcePrimary:E,transparentBackground:!0}))),T&&!!m.reaction_counts&&a.a.createElement(g.e,null,a.a.createElement(fe,{pinId:m.id,reactionCounts:m.reaction_counts})),q&&h&&a.a.createElement(g.e,{marginBottom:1},a.a.createElement(Ce,{pin:m,pinNoteText:h,singleLineMaxLength:P})),S&&a.a.createElement(g.e,{alignItems:"center",display:"flex",marginTop:1,marginBottom:1},a.a.createElement(j,{attributionNameLink:$,avatarUrl:Y,name:J}),a.a.createElement(g.e,{marginStart:2,flex:"grow"},a.a.createElement(g.V,{size:"md"},J)),a.a.createElement(g.e,null,a.a.createElement(o.a,null,a.a.createElement(Be,{pinId:m.id,board:p,activityId:L&&L.id||m.id,showReply:_,canShowComments:!w})))))),w&&a.a.createElement(Z,{pin:m})),ne=a.a.createElement(g.e,{dangerouslySetInlineStyle:{__style:Fe.productContainer}},a.a.createElement(g.e,{display:"flex"},a.a.createElement(g.e,{flex:"grow"},H&&a.a.createElement(i.Fragment,null,(b||y)&&a.a.createElement(g.e,{marginBottom:1},a.a.createElement(ke,{currentPrice:y,originalPrice:b,pin:m,surface:R})),a.a.createElement(g.e,{marginBottom:1},a.a.createElement(De,{numberOfLines:k,pin:m,pinTitle:f,singleLineMaxLength:P,surface:R})),C&&a.a.createElement(Ae,{pin:m,singleLineMaxLength:P,surface:R}))))),ie="shopping"===n?ne:te;return t?a.a.createElement("div",{style:{pointerEvents:"none"}},ie):Object(r.a)(ie)})),He=n("4+TC"),Ve=n("AAEI"),Ue=n("d90F"),Ge=n("0S8y");const qe=Object(i.lazy)(()=>Promise.all([n.e(88),n.e(109),n.e("PinRepEditButtonCommon")]).then(n.bind(null,"jHGc"))),We=Object(i.lazy)(()=>Promise.all([n.e(88),n.e(109),n.e("PinPersistentOneClickSaveCommon")]).then(n.bind(null,"f6y4"))),Ye=Object(i.lazy)(()=>Promise.all([n.e(88),n.e(109),n.e(209),n.e("PinSaveButtonCommon")]).then(n.bind(null,"rO08"))),$e=Object(i.lazy)(()=>Promise.all([n.e(88),n.e(109),n.e(209),n.e(284),n.e("PinBetterSaveCommon")]).then(n.bind(null,"fEA9"))),Ke=Object(i.lazy)(()=>n.e("QuickSaveButtonCommon").then(n.bind(null,"iTUf"))),Je=Object(i.lazy)(()=>n.e("BoardActivityPinRepLikeButtonCommon").then(n.bind(null,"nGh2"))),Xe=Object(i.lazy)(()=>n.e("PinPromoteButtonCommon").then(n.bind(null,"ATEG")));function Qe({board:e,derivedSaveButtonOptions:t,forcePrimaryContent:n,onToggleFlyout:l,onToggleModal:c,pin:d,showEditButton:u,showLikeButton:m,supportsReactionBar:h,shouldUseLegoStyles:f}){const b=Object(Ve.a)(),[y,E]=Object(i.useState)(!1),{carousel_data:w,id:_,savedInfo:v}=d,O=Object(i.useRef)(!!v),T=Object(S.useSelector)(({experiences:e})=>Object(Ge.d)(e.eligibleExperiences)),{viewParameter:I,viewType:C}=Object(s.b)(),x=Object(p.a)(101,{element:0,objectId:_});let P=null;const k={onToggleModal:l,view:C,viewParameter:I,useLegoStyles:!0};if(!y)if(!t.hidePinBetterSaveDropdown&&T&&["classic","controlled","inline"].includes(t.type)){const{renderPinSaveTooltip:e}=t,i=()=>{b.viewExperience(1000294,502450)},s=()=>{b.completeExperience(1000294,502450,!0)};P=a.a.createElement(o.a,null,Object(r.a)(a.a.createElement(Ke,{forcePrimaryContent:n,onComplete:s,onMount:i,pin:d,renderPinSaveTooltip:e,viewParameter:I})))}else if("classic"===t.type||"controlled"===t.type){const{renderPinSaveTooltip:e}=t;P=a.a.createElement(o.a,null,a.a.createElement(g.e,{"data-test-id":"pin-save-button",maxWidth:"100%"},Object(r.a)(a.a.createElement(Ye,{onClickCallback:x,onToggleModal:c,oneTapSave:"controlled"===t.type?t:void 0,pin:d,renderPinSaveTooltip:e,renderSavedStatus:()=>!!v&&Object(r.a)(a.a.createElement(He.a,{isNewlySaved:!O.current,name:v.title,url:v.url})),variant:"lego",viewParameter:I}))))}else if("inline"===t.type){const e=d,{initialSelection:n,onSave:i,renderPinSaveTooltip:s,hidePinBetterSaveDropdown:u}=t;P=a.a.createElement(o.a,null,a.a.createElement(g.e,{"data-test-id":"better-save"},Object(r.a)(a.a.createElement($e,{initialSelection:n,onSave:i,onToggleFlyout:l,onToggleModal:c,pin:e,renderPinSaveTooltip:s,shouldUseLegoStyles:f,renderSavedStatus:({savedInfo:e})=>e&&Object(r.a)(a.a.createElement(He.a,{isNewlySaved:!O.current,name:e.title,url:e.url,shouldUseLegoStyles:f})),useMasonryFlyout:!0,variant:"pin",viewParameter:I,hideDropdown:u}))))}else"persistentOneClickSave"===t.type?P=a.a.createElement(o.a,null,a.a.createElement(g.e,{"data-test-id":"persistent-one-click-save"},Object(r.a)(a.a.createElement(We,Object.assign({},k,{saveOptions:t,pin:d}))))):"promote"===t.type&&(P=a.a.createElement(g.e,{display:"flex",justifyContent:"end"},a.a.createElement(o.a,null,a.a.createElement(g.e,{"data-test-id":"pin-promote-button"},Object(r.a)(a.a.createElement(Xe,{pin:d}))))));let j=null;return u?j=a.a.createElement(o.a,null,Object(r.a)(a.a.createElement(g.e,{"data-test-id":"edit-button",display:"inlineBlock"},a.a.createElement(qe,Object.assign({},k,{carouselSlotCurrentIndex:w&&w.index,component:0,pinId:_,style:{size:"sm"}}))))):m&&(j=a.a.createElement(o.a,null,a.a.createElement(g.e,{"data-test-id":"like-button"},a.a.createElement(Ue.a,{name:"group_boards_reactions",activate:!1},({anyEnabled:t,customActivate:n})=>Object(r.a)(a.a.createElement(Je,{pin:d,board:e,activateReactionsExperiment:n,inReactionsExperiment:t,onShowReactionsBar:()=>E(!0),onHideReactionsBar:()=>E(!1),supportsReactionBar:h,useLegoStyles:!0})))))),a.a.createElement(R.a,{name:"PinRepPrimaryContent"},a.a.createElement(g.e,{display:"flex",margin:3},j&&a.a.createElement(g.e,{flex:"grow",marginEnd:"auto"},j),P&&a.a.createElement(g.e,{marginStart:"auto",flex:"grow"},P)))}var Ze=n("7wXf"),et=n("VJm5"),tt=n("3qdF"),nt=n("qhFy"),it=n("HOY+");const at={__style:{boxShadow:"inset 0 0 0 2px black,  inset 0 0 0 4px white",transition:"all 300ms ease"}};function rt({isSelected:e}){return a.a.createElement(g.e,{bottom:!0,left:!0,position:"absolute",right:!0,rounding:4,top:!0,dangerouslySetInlineStyle:e?at:{}},a.a.createElement(g.e,{position:"absolute",bottom:!0,right:!0,padding:3},a.a.createElement(g.e,{alignItems:"center",color:e?"darkGray":"white",display:"flex",height:"24px",justifyContent:"center",rounding:2,width:"24px",dangerouslySetInlineStyle:{__style:{transition:"all 300ms ease"}}},a.a.createElement(g.t,{accessibilityLabel:u.a._("Pin is selected to be saved","SectionSuggestionPin.iconOnPin.selectedPin","accessibility label on an icon"),color:"white",icon:"check",size:12}))))}function ot({autoplaySettingOff:e,blockClickEvents:t,fallbackColor:n,imageFit:r,isDenseView:o,isHovering:c,isSocialSeasonalBoard:d=!1,onError:u,onLoad:m,pin:p,pinImageCrop:h,resolution:f="default",rootMargin:b,selectionState:y,showCarousel:E,showPromotedVideos:w,surface:_}){const{contextLogData:v,slotIndex:S,viewParameter:O,viewType:T}=Object(s.b)(),{anyEnabled:I}=Object(Te.c)("web_flashlight_shop_tab"),{id:C="",aggregated_pin_data:x,image_signature:P}=p,{pin_tags_chips:R}=x||{},{isVideo:k,isPromoted:j,isGif:A}=Object(N.a)(p),{cropHeight:D,cropWidth:L}=(e=>"string"==typeof e?{cropHeight:0,cropWidth:0}:{cropHeight:e.height,cropWidth:e.width})(h);let M=null;if(e||!k||!w&&j)if(E)M=a.a.createElement(g.e,{"data-test-id":"pinrep-carousel"},a.a.createElement(et.a,{cropHeight:D,cropWidth:L,onError:u,onLoad:m,highResOnly:"high-res"===f,lowResOnly:"low-res"===f,pinId:C,showCarouselBadge:!1,isDenseView:o}));else{const e="backend"===h?function({images:e,image_crop:t}){const n=e&&e["236x"].height;if(t&&(0!==t.min_y||1!==t.max_y)){const{min_y:e,max_y:i}=t;return{marginTop:(e>0?-1*e*n:0)+"px",marginBottom:(i<1?Math.round(-1*(1-i)*n):0)+"px"}}return{}}(p):{};M=a.a.createElement(g.e,{dangerouslySetInlineStyle:{__style:e},"data-test-id":"pinrep-image",minHeight:55},a.a.createElement(nt.b,{animateGif:A&&d,cropHeight:D,cropWidth:L,fallbackColor:n,imageFit:r,highResOnly:"high-res"===f,lowResOnly:"low-res"===f,mediumResOnly:"medium-res"===f,onLoad:m,onError:u,pin:p}))}else M=a.a.createElement(g.e,{"data-test-id":"pinrep-video",height:D||void 0},a.a.createElement(it.a,{cropHeight:D,rootMargin:b,inAdsDesktopVideoExperiment:k&&w,pin:p,surface:_,onLoad:m,viewType:T,viewParameter:O,highResOnly:"high-res"===f,lowResOnly:"low-res"===f,onError:u,isExperimentalPinRep:!0}));const B=a.a.createElement(g.A,{wash:!0},a.a.createElement(l.a,{hovered:c,pin:p,slotIndex:S,viewType:1},M)),F=["selected-image-only","deselected-image-only"].includes(y),z="selected-image-only"===y;if(t)return a.a.createElement(i.Fragment,null,B,F&&a.a.createElement(rt,{isSelected:z}),R&&a.a.createElement(g.e,{dangerouslySetInlineStyle:{__style:{marginTop:1}}},a.a.createElement(tt.a,{pin:p,enableCloseupLink:!0})));const{commerce_data:H}=v||{},V=I||["RelatedProductsExploreTab","RelatedProductsFeed"].includes(_);return a.a.createElement(Ie,{contextLogData:{grid_index:S,image_signature:P,commerce_data:V?H:void 0},elementType:35,pin:p,surface:_},B,R&&a.a.createElement(g.e,{dangerouslySetInlineStyle:{__style:{marginTop:1}}},a.a.createElement(tt.a,{pin:p,enableCloseupLink:!1})))}var st=n("CgR/"),lt=n("Sp3T");var ct=st.a.makeSendShareButton(({handleSendShareFlyoutButtonClick:e,viewType:t})=>{const n=Object(lt.a)();return a.a.createElement(g.f,{onClick:({event:t})=>{t&&t.stopPropagation&&t.stopPropagation(),n(()=>{e()})},text:u.a._("Send","Send a pin","Send a pin"),color:"gray",accessibilityLabel:u.a._("Send","Accessible label to send a pin","Accessible label to send a pin")})});function dt(e){return e<160?"header-only":"none"}function ut(e){const[t,n]=Object(i.useState)(e.current?dt(e.current.clientHeight||0):"none");return function(e,t){const n=Object(i.useRef)();Object(i.useEffect)(()=>{const i=e.current;if(!i)return;const a=n.current;a&&a.width===i.offsetWidth&&a.height===i.offsetHeight||(n.current={width:i.offsetWidth||0,height:i.offsetHeight||0},t&&t(n.current))}),n.current}(e,({height:e})=>{const i=dt(e);i!==t&&n(i)}),t}var mt=n("W5T3"),pt=n("I7CA"),ht=n("eqXv"),ft=n("tMjw");const gt={background:{base:{transition:"all 250ms",opacity:0},blurred:{backgroundPosition:"50% 50%",backgroundSize:"cover",borderRadius:ft.a,filter:"blur(10px)",opacity:1}},backdrop:{base:{transition:"all 250ms"},blurred:{backgroundColor:"rgba(0,0,0,0.6)"}},feedbackOverlayContainer:{base:{opacity:0,transition:"all 250ms"},visible:{opacity:1}},navigateLinkStyle:{color:"white",textDecorationColor:"white",cursor:"pointer"}},bt=["followed","related","search"],yt=["pfy","pfyBoard"];function Et({feedbackType:e,isHomefeedTunerVariantExp:t,pin:n}){const[r,o]=Object(i.useState)(!1),[s,l]=Object(i.useState)(!1);Object(i.useEffect)(()=>o(!0),[]);const c=()=>l(!0),{feedbackText:d,images:p,showFeedbackOverlay:h,undoAction:f,undoText:b}=n,y=p&&p["236x"].url,{image:E,subTitle:w,title:_,unfollow:v}=d,S=!bt.includes(e),O=yt.includes(e),T=()=>{Object(I.b)(101,{view:1,viewParameter:92,element:11347})};return a.a.createElement(g.e,{color:"transparent",dangerouslySetInlineStyle:{__style:{borderRadius:ft.a}},"data-test-id":"obscured-overlay",overflow:"hidden",position:"absolute",top:!0,left:!0,bottom:!0,right:!0},a.a.createElement(g.e,{dangerouslySetInlineStyle:{__style:{borderRadius:ft.a}},margin:-4,overflow:"hidden",position:"absolute",top:!0,left:!0,bottom:!0,right:!0},y&&a.a.createElement(pt.a,{additionalStyles:{...gt.background.base,...r?gt.background.blurred:{},backgroundImage:`url("${y}")`}}),a.a.createElement(pt.a,{additionalStyles:{...gt.backdrop.base,...gt.backdrop.blurred}})),a.a.createElement(g.e,{dangerouslySetInlineStyle:{__style:{...gt.feedbackOverlayContainer.base,...!h&&r?gt.feedbackOverlayContainer.visible:{}}},height:"100%",padding:4,position:"relative",width:"100%"},a.a.createElement(g.e,{height:"100%"},a.a.createElement(g.e,{"data-test-id":"PinFeedbackConfirmation",display:"flex",direction:"column",height:"100%",maxWidth:216},a.a.createElement(g.e,{marginBottom:2},a.a.createElement(g.s,{color:"white",size:"sm"},_)),a.a.createElement(g.e,{display:"flex",marginBottom:1},E&&a.a.createElement(g.e,{marginEnd:3},a.a.createElement(g.A,{width:E.width,height:E.height,rounding:2,wash:!0},a.a.createElement(g.v,{alt:w||"",fit:"cover",naturalHeight:1,naturalWidth:1,src:E.url||""}))),a.a.createElement(g.V,{color:"white",overflow:"normal"},w)),t?a.a.createElement(a.a.Fragment,null,a.a.createElement(g.e,null,a.a.createElement(g.U,{onTap:f},a.a.createElement(g.V,{color:"white",weight:"bold",overflow:"normal"},u.a._("Undo","Text on the button to navigate to undo hiding a pin","Text on the button to navigate to undo hiding a pin")))),a.a.createElement(g.e,{marginTop:"auto"},!f&&!s&&v&&!O&&a.a.createElement(g.f,{color:"white",onClick:()=>Object(ht.a)(v.action,v.actionOptions,c),text:u.a._("Unfollow","Text on the button to unfollow a specific board / user","Text on the button to unfollow a specific board / user")}),S&&a.a.createElement(m.a,{to:"/edit",onClick:T},a.a.createElement(g.f,{color:"white",text:u.a._("Tune your feed","Text on the button to navigate to homefeed control","Text on the button to navigate to homefeed control")})))):a.a.createElement(a.a.Fragment,null,a.a.createElement(g.e,null,S&&a.a.createElement(m.a,{className:"underlineLink",to:"/edit",onClick:T,style:gt.navigateLinkStyle},a.a.createElement(g.V,{color:"white",weight:"bold",overflow:"normal"},u.a._(" Tune your home feed","Text on the link to navigate to homefeed control","Text on the link to navigate to homefeed control")))),a.a.createElement(g.e,{marginTop:"auto"},!f&&!s&&v&&!O&&a.a.createElement(g.f,{color:"white",onClick:()=>Object(ht.a)(v.action,v.actionOptions,c),text:u.a._("Unfollow","Text on the button to unfollow a specific board / user","Text on the button to unfollow a specific board / user")}),f&&a.a.createElement(g.f,{color:"white",onClick:f,text:b||u.a._("Undo","Text on the button to undo hiding a pin","Text on the button to undo hiding a pin")})))))))}function wt(e){return"active"===e?"visible":"inactive"===e?"none":"hidden"}function _t(...e){return e.includes("visible")?"visible":e.includes("hidden")?"hidden":"none"}const vt=228;t.b=Object(i.memo)((function({actionBarProps:e,blockClickEvents:t,currentlyPlayingVideo:n,disableHover:r=!1,footerProps:o,forcePrimaryContentVisibility:l,impressionsDebuggerProps:c,onError:d,onLoad:u,obscuredPinOverlayProps:m,pin:p,pinVisualProps:h,presentationProps:f,primaryContentProps:b,selectionState:y,secondaryContentProps:E,showAccessoryContent:w,showActionBar:_,showFooter:S,showImpressionsDebugger:O,showSignalDebugger:T,showObscuredPinOverlay:I,showPrimaryAndSecondaryContent:C,surface:k}){const{savedInfo:j}=p,{viewType:A}=Object(s.b)(),[D,L]=Object(i.useState)(!1),N=Object(Me.b)(D);let{isHovering:M,hoverTransitionState:B,handleMouseOver:F,handleMouseLeave:z}=function(){const[e,t]=Object(i.useState)(!1);return{isHovering:e,hoverTransitionState:Object(Me.b)(e,0,Me.a),handleMouseOver:Object(i.useCallback)(()=>t(!0),[t]),handleMouseLeave:Object(i.useCallback)(()=>t(!1),[t])}}();r&&(M=!1,B="inactive");const H=Object(Me.b)(!!j),V=wt(H),U=wt(B),G=wt(B),q=wt(N),W=wt(H),Y={primaryContentVisibility:_t(G,q,W),secondaryContentVisibility:($=_t(G,q,W),"none"===$?"visible":"visible"===$?"none":"hidden"),actionBarVisibility:_t(G,q),accessoryContentVisibility:"none",signalDebuggerV2ContentVisibility:"visible"};var $;const K=e=>L(e),J=e=>L(e),X=e=>{L(e),e||z()};let Q=null;l&&(Y.primaryContentVisibility="visible"),"none"!==Y.primaryContentVisibility&&C&&(Q=a.a.createElement(Qe,Object.assign({pin:p,forcePrimaryContent:K,onToggleFlyout:J,onToggleModal:X},b)));let Z=null;const ee=Object(i.useRef)(!0),te=ee.current;ee.current=!1;const ne=function(e,t){const{carousel_data:n}=e,{index:a}=n||{},[r,o]=Object(i.useState)(!n||t),s=Object(i.useRef)(a),l=Object(i.useRef)(null);if(n){const e=s.current;s.current=a,(a!==e||t)&&(l.current&&clearTimeout(l.current),o(!0),l.current=setTimeout(()=>{o(!1),l.current=null},4e3))}return Object(i.useEffect)(()=>()=>{l.current&&clearTimeout(l.current)},[]),r}(p,te),ie=wt(Object(Me.b)(ne));Y.secondaryContentVisibility=function(...e){return e.includes("none")?"none":e.includes("hidden")?"hidden":"visible"}(Y.secondaryContentVisibility,ie),Z=(E.allowShoppingPriceIndicator||E.shoppingLabelColor||"none"!==Y.secondaryContentVisibility)&&C&&!n&&a.a.createElement(g.e,{margin:2},a.a.createElement(Ze.a,Object.assign({pin:p},E)));let ae=null;w&&(ae=a.a.createElement(x,{pin:p}),Y.accessoryContentVisibility=wt(B)),h.isSocialSeasonalBoard&&(e.showShareButton=!1);const re=_?a.a.createElement(v,Object.assign({onToggleFlyout:J,onToggleModal:X,pin:p,setForcePrimary:L,surface:k},e)):null;let oe=null;S&&(oe=a.a.createElement(ze,Object.assign({blockClickEvents:t,hoverTransitionState:"image-only-credit"===o.attributionType?B:null,pin:p,setForcePrimary:L,surface:k},o))),h.isSocialSeasonalBoard&&(oe=a.a.createElement(g.e,{"data-test-id":"social-seasonal-footer",marginTop:2,marginBottom:3,width:"100%"},a.a.createElement(g.e,{margin:"auto",width:vt},a.a.createElement(ct,{isFlyoutOpen:D,onFlyoutDismiss:()=>J(!D),onToggleFlyout:()=>J(!D),pinId:p.id,sendType:"pin",shownWithinMasonry:!0,viewType:A}))));const se=O&&a.a.createElement(mt.b,c),le=T&&p.debug_info_html&&a.a.createElement(g.e,{paddingY:1},a.a.createElement("pre",null,p.debug_info_html)),ce=a.a.createElement(P.a,{pin:p}),de=Object(i.useRef)();"header-only"===ut(de)&&(Y.actionBarVisibility="none",Y.accessoryContentVisibility="none");const ue=I?a.a.createElement(Et,Object.assign({pin:p},m)):null;return a.a.createElement(R.a,{name:"PinRepContainer"},a.a.createElement("div",{onMouseOver:F,onMouseLeave:z,"data-test-id":"pin","data-test-pin-id":p.id},a.a.createElement(ft.b,Object.assign({visualOverlayVisibility:U,savedOverlayVisibility:V,primaryContent:Q,primaryContentVisibility:Y.primaryContentVisibility,secondaryContent:Z,secondaryContentVisibility:Y.secondaryContentVisibility,accessoryContent:ae,accessoryContentVisibility:Y.accessoryContentVisibility,actionBar:re,actionBarVisibility:Y.actionBarVisibility,footer:oe,selectionState:y,debugContent:se,signalDebuggerV2Content:ce,signalDebuggerV2ContentVisibility:Y.signalDebuggerV2ContentVisibility,signalDebuggerContent:le,obscuredPinOverlay:ue},f),a.a.createElement(g.e,{ref:de},a.a.createElement(ot,Object.assign({blockClickEvents:t,isHovering:M,onError:d,onLoad:u,pin:p,surface:k,selectionState:y},h))))))}))},gC5q:function(e,t,n){n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s}));var i=n("YO3V"),a=n.n(i);function r(e,t=!1){return n=>{if(!a()(n))return t&&Array.isArray(n)?n.map(r(e,t)):n;const i={};return Object.keys(n).forEach(o=>{const s=e(n[o],o);a()(n[o])||t&&Array.isArray(n[o])?i[s]=r(e,t)(n[o]):i[s]=n[o]}),i}}function o(e,t=!1){const n=(t,n)=>e(n);return e=>r(n,t)(e)}function s(e={},t=[]){return Object.keys(e).reduce((n,i)=>t.includes(i)?n:{...n,[i]:e[i]},{})}},"gD/Z":function(e,t,n){n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o}));var i=n("1dBE");const{Provider:a,Consumer:r,useHook:o}=Object(i.c)("trackingParametersContext")},gYog:function(e,t,n){var i=n("q1tI"),a=n("i8i4"),r=n("/MKj"),o=n("ZbwW"),s=n("D2p8"),l=n("U4JR");function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const d={Article:{impressionType:"articleImpressions",idType:"articleIdStr",eventType:3829},Pin:{impressionType:"pinImpressions",idType:"pinIdStr",eventType:18},Board:{impressionType:"boardImpressions",idType:"boardIdStr",eventType:3700},Interest:{impressionType:"topicImpressions",idType:"topicIdStr",eventType:3703},Search:{impressionType:"searchImpressions",idType:"term",eventType:3803},Story:{impressionType:"storyImpressions",idType:"storyIdStr",eventType:170},ActivationCard:{impressionType:"activationCardImpressions",idType:"experienceIdStr",eventType:8547},User:{impressionType:"userImpressions",idType:"userIdStr",eventType:3704},News:{impressionType:"newsHubData",idType:"newsIdStr",eventType:4110},Guide:{impressionType:"guideImpressions",idType:"term",eventType:7573},TodayArticle:{impressionType:"todayArticleImpressions",idType:"todayArticleIdStr",eventType:8569},Banner:{impressionType:"bannerImpressions",idType:"userIdStr",eventType:9061}};class u extends i.Component{constructor(e){super(e),c(this,"trackImpression",()=>{try{this.node=Object(a.findDOMNode)(this),this.node instanceof HTMLElement&&this.impressionsFramework.start(this.node).onExitViewport(this.logImpression).setDebugId(this.props.loggingId||"unknown")}catch(e){window.console.error('Can only track impressions for type "HTMLElement"')}}),c(this,"logImpression",e=>{const{carousel_data:t,closeupImpressionType:n,closeupNavigationType:i,componentType:a,contextLogData:r,elementType:o,impressionAuxFields:s,impressionType:c,loggingId:u,objectIdStr:m,slotIndex:p,trackCarousel:h,viewData:f,viewParameter:g,viewType:b}=this.props,y=d[c],E=y.idType,w=e.forcedExit&&"removed"===e.forcedExit?0:void 0,_={endTime:e.endTime,[E]:u,slotIndex:p,time:e.startTime,renderDuration:e.endTime-e.startTime,type:n,...s,forcedExit:w};if(h||Object(l.b)(y.eventType,{closeup_navigation_type:i,component:a,element:o,eventData:{[y.impressionType]:[_]},objectIdStr:m,view:b,viewData:f||{},viewParameter:g,...r}),t&&h){const{carousel_slots:e,index:n,id:i}=t;Object(l.b)(7352,{component:a,eventData:{pinCarouselSlotImpressions:[{..._,carouselDataId:Number(i),carouselSlotId:e[n]&&Number(e[n].id),slotIndex:n}]},objectIdStr:m,view:b,viewData:f||{},viewParameter:g,...r})}}),this.impressionsFramework=e.impressionsFramework||s.c}componentDidMount(){this.props.inImpressionExp&&!this.impressionsFramework.inExperiment&&this.impressionsFramework.setExperimentStatus(!0),this.props.isPaused||this.trackImpression()}componentDidUpdate(e){e.isPaused&&!this.props.isPaused&&this.trackImpression()}componentWillUnmount(){this.node instanceof HTMLElement&&this.impressionsFramework.stop(this.node)}render(){return i.Children.only(this.props.children)}}t.a=Object(r.connect)((function({pins:e},{loggingId:t}){const n=e[t||""]||{};return{carousel_data:Object(o.a)(n)}}),()=>({}))(u)},"h9/w":function(e,t,n){n.d(t,"a",(function(){return b}));var i=n("q1tI"),a=n.n(i),r=n("Ye/N"),o=n("M1Uz"),s=n("n6mq");function l(e){const{onHide:t}=e,n=a.a.createElement(s.V,null,r.a._("Thank you for helping improve signal detection on Pinterest!","pinRep.actionBar.signalDetector.toast","Toast text displayed when a user submits a signal for review"));return a.a.createElement(o.a,{onHide:t,text:n})}var c=n("eOdZ"),d=n("v/Q4"),u=n("nGHF");var m=function({anchor:e,onDismiss:t,pinId:n,signals:o}){const[m,p]=Object(i.useState)(0),h=Object(d.a)(),{showOneToast:f}=Object(u.b)();if(!h.isEmployee)return null;const g=o.map(({signal_message:e})=>({href:"#",text:e})),{background_color:b,icon_url:y,signal_id:E,signal_message:w}=o[m];return a.a.createElement(s.x,null,a.a.createElement(s.q,{anchor:e,idealDirection:"right",onDismiss:t,positionRelativeToAnchor:!1,size:"lg"},a.a.createElement(s.e,{padding:4,width:"100%"},o.length>1&&a.a.createElement(s.e,{overflow:"scrollX",padding:1,marginBottom:4},a.a.createElement(s.T,{activeTabIndex:m,onChange:({activeTabIndex:e,event:t})=>{t.preventDefault(),p(e)},size:"lg",tabs:g})),a.a.createElement(s.e,{display:"flex",alignItems:"center"},a.a.createElement(s.s,{size:"sm"},r.a._("Signal detected:","pinRep.actionBar.signalDetector.header","Header for signal detector flyout"))),a.a.createElement(s.e,{paddingY:3},a.a.createElement(s.I,{justifyContent:"center",alignItems:"center",gap:1},a.a.createElement(s.e,{height:40,overflow:"hidden",rounding:"circle",width:40},y?a.a.createElement(s.v,{alt:r.a._("Signal display","pinRep.actionBar.signalDetector.signalAsset","Asset to represent the signal detected"),color:"white",naturalHeight:1,naturalWidth:1,src:y}):a.a.createElement(s.e,{dangerouslySetInlineStyle:{__style:{backgroundColor:b}},height:40,width:40})),a.a.createElement(s.V,{size:"md"},w))),a.a.createElement(s.e,{marginBottom:3},a.a.createElement(s.V,{size:"md"},r.a._("If you think this detection is inaccurate, please send this Pin for review. It will help improve Pinterest.","pinRep.actionBar.signalDetector.instructions","Instructions to the user for how to handle inaccurate detection"))),a.a.createElement(s.I,{alignItems:"center",gap:1},a.a.createElement(s.f,{color:"red",size:"md",text:r.a._("Send for review","pinRep.actionBar.signalDetector.button.review","Button label for users to send the pin for review"),onClick:()=>{const e={pin_id:n,signal_id:E,user:h.id};c.a.create("SignalReviewRequestResource",e).callCreate(),t(),f(({onHide:e})=>a.a.createElement(l,{onHide:e}))}}),a.a.createElement(s.f,{color:"gray",size:"md",text:r.a._("Cancel","pinRep.actionBar.signalDetector.button.cancel","Button label for users to cancel"),onClick:t})))))},p=n("7pfs"),h=n("jkxn"),f=n("rYoy");function g({signals:e,pinId:t}){const{background_color:n,icon_url:r,signal_message:o}=e[0],[l,c]=Object(i.useState)(!1),d=Object(i.useRef)();return a.a.createElement(i.Fragment,null,a.a.createElement(f.a,null,a.a.createElement(s.e,{"data-test-id":"debug-signals-feedback-button"},Object(h.a)(a.a.createElement(p.a,null,({hovered:e,onMouseEnter:t,onMouseLeave:i})=>a.a.createElement(s.U,{onTap:()=>c(e=>!e),rounding:"pill",onMouseEnter:t,onMouseLeave:i},a.a.createElement(s.e,{color:e?"darkGray":"transparentDarkGray",rounding:"pill",display:"flex",alignItems:"center",padding:3,ref:d},a.a.createElement(s.e,{display:"flex",width:24,height:24,rounding:"circle",color:"white",marginEnd:1,justifyContent:"center",alignItems:"center"},a.a.createElement(s.e,{width:20,height:20,rounding:"circle",overflow:"hidden"},a.a.createElement(s.v,{alt:"",color:n,src:r,naturalHeight:1,naturalWidth:1}))),a.a.createElement(s.V,{color:"white",size:"md",weight:"bold"},o))))))),l&&d&&d.current&&a.a.createElement(m,{anchor:d.current,onDismiss:()=>c(!1),pinId:t,signals:e}))}function b({pin:e}){if(!Object(d.a)().isEmployee)return null;const{id:t,deb_ads:n,deb_content_quality:i,deb_inclusive_product:r,deb_shopping:o,deb_trust_and_safety:s}=e;return n?a.a.createElement(g,{pinId:t,signals:n}):i?a.a.createElement(g,{pinId:t,signals:i}):r?a.a.createElement(g,{pinId:t,signals:r}):o?a.a.createElement(g,{pinId:t,signals:o}):s?a.a.createElement(g,{pinId:t,signals:s}):null}},hlDC:function(e,t,n){n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o}));var i=n("1dBE");const{Provider:a,Consumer:r,useHook:o}=Object(i.c)("ExperimentContext")},i9se:function(e,t,n){n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return d}));var i=n("Y+p1"),a=n.n(i),r=n("QkVN"),o=n.n(r),s=n("KFEb");const l={boardactivity:"BoardActivityResource",boardactivitycomment:"BoardActivityCommentResource"},c={BOARD:"board",BOARD_ACTIVITY:"boardactivity",BOARD_ACTIVITY_COMMENT:"boardactivitycomment"},d={[c.BOARD]:s.a.BOARD_ACTIVITYITEMS,[c.BOARD_ACTIVITY]:s.a.BOARD_ACTIVITYCOMMENTS,[c.BOARD_ACTIVITY_COMMENT]:s.a.BOARD_ACTIVITYCOMMENTS},u={},m=(e,t)=>{const n={...o()({},e,t),...t.content?{content:t.content}:{},...t.reaction_counts?{reaction_counts:t.reaction_counts}:{}};return a()(e,n)?e:n},p=e=>e.reduce((e,t)=>{if(11===t.activity_type&&t.comment&&t.ref_board_activity){const n=t.comment,i=t.ref_board_activity;n&&i&&(e.push({...n,user:t.user}),e.push(i),e.push({...t,comment:{id:n.id},ref_board_activity:{id:i.id}}))}else e.push(t);return e},[]);t.d=(e=u,t)=>{if("RESOURCE_FETCH_COMPLETE"===t.type||"RESOURCE_FETCH_MORE_COMPLETE"===t.type){const{payload:{data:n,name:i,options:a}}=t;if("BoardActivityCommentFeedResource"===i){const t=(n||[]).reduce((t,n)=>(t[n.id]=m(e[n.id],n),t),{});return{...e,...t}}if("BoardActivityFeedResource"===i){const t=p(n||[]).reduce((t,n)=>(t[n.id]=m(e[n.id],n),t),{});return{...e,...t}}if("BoardActivityResource"===i&&n){const t=n;return{...e,[t.id]:m(e[t.id],t)}}if("BoardActivityPinsGridCommentsResource"===i){const t=Object.values(n||{}).reduce((e,t)=>e.concat(t||[]),[]).reduce((t,n)=>Object.prototype.hasOwnProperty.call(n,"id")?{...t,[n.id]:m(e[n.id],n)}:t,{});return{...e,...t}}if("BoardActivityCommentResource"===i&&n){const t=n,i={[t.id]:m(e[t.id],t)};if(t.root_board_activity){const n=t.root_board_activity.id;i[n]=m(e[n],t.root_board_activity)}return{...e,...i}}if("NewsHubDetailsResource"===i&&n&&n.length>0&&n[0].content_items){const t={};return n.forEach(e=>{e.content_items.forEach(e=>{const n=e.content_object&&e.content_object.type;if(n===c.BOARD_ACTIVITY_COMMENT||n===c.BOARD_ACTIVITY){const n=e.content_object;p([n]).forEach(e=>t[e.id]=e)}})}),{...e,...t}}if(["PinResource","PinPageResource"].includes(i)&&n&&n.board_activity){const t=n.board_activity;return t.board=n.board,{...e,[t.id]:m(e[t.id],t)}}if(("BoardFeedResource"===i||"BoardSectionPinsResource"===i)&&("react_grid_pin_with_board_activity"===a.field_set_key||"partner_react_grid_pin_with_board_activity"===a.field_set_key)||"BoardActivityPinsFeedResource"===i){const t=(n||[]).reduce((t,n)=>{const i=n.board_activity;return i&&i.id&&(t[i.id]=m(e[i.id],i)),t},{});return{...e,...t}}}else{if("ACTIVITY_ITEM_CREATED"===t.type){const{payload:{activityItem:n}}=t;return{...e,[n.id]:n}}if("ACTIVITY_ITEM_DELETED"===t.type){const{payload:{activityId:n,activityType:i}}=t;if(i===c.BOARD_ACTIVITY_COMMENT||i===c.BOARD_ACTIVITY){const t={...e};return delete t[n],t}}else{if("ACTIVITY_ITEM_UPDATED"===t.type){const{payload:{data:n}}=t;return{...e,[n.id]:m(e[n.id],n)}}if("UPDATE_ACTIVITY_ITEM_COMMENT_COUNT"===t.type){const{payload:{increment:n,id:i}}=t,a=e[i];if(a&&[c.BOARD_ACTIVITY_COMMENT,c.BOARD_ACTIVITY].includes(a.type)){const t={...a,comment_count:n?a.comment_count+1:a.comment_count-1};return{...e,[i]:t}}}else if("ACTIVITY_ITEM_UPDATE_REACTION_COUNT"===t.type){const{payload:{increment:n,id:i,reactionType:a}}=t,r=e[i]||{},{reaction_counts:o={}}=r,s=o[a]||0,l=n?s+1:Math.max(s-1,0),c=n?a:0,d={...r,reaction_counts:{...o,[a]:l},reaction_by_me:c};return{...e,[i]:d}}}}return e}},ihsa:function(e,t,n){n.d(t,"a",(function(){return o}));var i=n("q1tI"),a=n.n(i);n("QLaP"),n("17x9");class r{static factory(e){return e instanceof r?e:new r(String(e))}constructor(e){this._private_safe_value=e.trim().replace(">",">").replace("<","<").replace("&","&").replace('"','"').replace("'","'")}toString(){return this._private_safe_value}}function o(e){const{css:t,unsafeCSS:n,...i}=e,o=String(t||"")||n||"";return!!o?a.a.createElement("style",Object.assign({},i,{dangerouslySetInnerHTML:{__html:String(r.factory(o))}})):null}},jCsw:function(e,t,n){function i(e,t){return e&&e[t]&&e[t].url}n.d(t,"a",(function(){return i}))},jOPH:function(e,t){e.exports="https://s.pinimg.com/webapp/style/images/thanks-62775475.svg"},jkxn:function(e,t,n){n.d(t,"a",(function(){return r}));var i=n("q1tI"),a=n.n(i);function r(e){return a.a.createElement("div",{"data-test-id":"pointer-events-wrapper",style:{pointerEvents:"auto"}},e)}},kVqD:function(e,t,n){n.d(t,"a",(function(){return o}));var i=n("q1tI"),a=n("U4JR"),r=n("gD/Z");function o(e,t){const{componentType:n,contextLogData:o,viewParameter:s,viewType:l}=Object(r.b)();return Object(i.useCallback)(()=>{Object(a.b)(e,{component:n,view:l,viewParameter:s,...o,...t||{}})},[t,n,o,e,s,l])}},lSCD:function(e,t,n){var i=n("NykK"),a=n("GoyQ");e.exports=function(e){if(!a(e))return!1;var t=i(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},mlX6:function(e,t,n){n.d(t,"a",(function(){return c}));var i=n("q1tI"),a=n.n(i),r=n("zJ39"),o=n("ihsa"),s=n("U4JR"),l=n("qLDv");function c({alwaysShow:e,contextLogData:t,imageSignature:n,isSelected:c,onStelaDotAnimationComplete:d,stelaDotAnimationType:u}){const[m,p]=Object(i.useState)(!1);Object(i.useEffect)(()=>{m||p(!0)},[]);let h;Object(i.useEffect)(()=>{Object(s.b)(120,{view:3,...t})},[]),"in"===u?h="stelaSlideIn .3s ease-in-out forwards":"out"===u?h="stelaSlideOut .3s ease-in-out forwards":"inOut"===u?h="stelaSlideInThenOut 3s ease-in-out forwards":"none"===u&&(h="none");const f=e?"black":"white",g=e?{opacity:1}:{animation:h,opacity:"none"===h?0:void 0};return a.a.createElement(i.Fragment,null,a.a.createElement(o.a,{unsafeCSS:Object(r.a)()}),a.a.createElement("div",{style:g,height:l.c,width:l.c,onAnimationEnd:()=>{d&&"inOut"===u&&d()}},a.a.createElement("svg",{fill:"none",height:"36",viewBox:"0 0 36 36",width:"36",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("g",{filter:"url(#filter0_d)"},a.a.createElement("circle",{cx:"18",cy:"18",fill:c?f:"white",r:"8"})),a.a.createElement("defs",null,a.a.createElement("filter",{colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",height:"36",id:"filter0_d",width:"36",x:"0",y:"0"},a.a.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),a.a.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),a.a.createElement("feOffset",null),a.a.createElement("feGaussianBlur",{stdDeviation:"5"}),a.a.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),a.a.createElement("feBlend",{in2:"BackgroundImageFix",mode:"normal",result:"effect1_dropShadow"}),a.a.createElement("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow",mode:"normal",result:"shape"}))))))}},nRAE:function(e,t,n){n.d(t,"a",(function(){return d}));var i=n("q1tI"),a=n.n(i),r=n("Ye/N"),o=n("EC51"),s=n("kmwA"),l=n("n6mq");const c={xs:12,sm:16,md:20,lg:24};function d({hasVerifiedIdentity:e,iconOnly:t,isVerifiedMerchant:n,showText:d,size:u}){const m=a.a.createElement(l.e,{alignItems:"center",display:"flex"},a.a.createElement(l.t,{accessibilityLabel:r.a._("Merchant verification badge icon","merchantVerification.badge.icon","Badge indicating that a merchant or user is verified"),color:"blue",icon:"workflow-status-ok",inline:!0,size:c[u]}),d&&a.a.createElement(l.e,{marginStart:2},a.a.createElement(l.V,{color:"blue",inline:!0,weight:"bold"},r.a._("Verified merchant","creator.header.verifiedMerchant","this merchant is a verified merchant"))));return a.a.createElement(i.Fragment,null,n&&!t&&a.a.createElement(l.Z,{link:a.a.createElement(o.a,{href:s.a.settings.HELP_SHOPPING_WITH_PINTEREST,target:"blank"},a.a.createElement(l.V,{color:"white",size:"sm",weight:"bold"},r.a._("Learn more","verifiedBadge.tooltip.link","Learn more about Pinterest's Merchant Guidelines"))),text:r.a._("This retailer meets Pinterest's Merchant Guidelines","merchantVerification.badge.tooltip","Badge indicating that a merchant or user is verified")},m),n&&t&&m,e&&!n&&a.a.createElement(l.t,{accessibilityLabel:r.a._("Domain verification icon","domainVerification.badge.icon","Badge indicating that a merchant or user is verified"),color:"red",icon:"check-circle",size:c[u]}))}},nmnc:function(e,t,n){var i=n("Kz5y").Symbol;e.exports=i},obIb:function(e,t){e.exports="https://s.pinimg.com/webapp/style/images/goodIdea-b770896d.svg"},oqCl:function(e,t,n){function i(e=236,t=16,n=2){let i="\n.gridCentered {\n  margin-left: auto;\n  margin-right: auto;\n}\n.gridCentered .static,\n.gridCentered .Masonry-Premount .Collection-Item {\n  position: absolute;\n  visibility: hidden;\n}\n.gridCentered .Masonry-Premount,\n.gridCentered .Masonry-Premount .AutoSizer,\n.gridCentered .Masonry-Premount .Collection {\n  width: auto !important;\n}\n";for(let a=n;a<t+1;a+=1){i+=`\n@media (min-width: ${a===n?0:a*e}px) and (max-width: ${(a+1)*e-1}px) {\n  .gridCentered {\n    width: ${a*e}px;\n  }\n  .gridCentered .Masonry-Premount .Collection-Item:nth-child(-n+${a}),\n  .gridCentered .static:nth-child(-n+${a}) {\n    position: static !important;\n    visibility: visible !important;\n    float: left;\n    display: block;\n  }\n}\n`}return i}n.d(t,"a",(function(){return i}))},ou9u:function(e,t,n){function i(e){const t=e.videos&&e.videos.video_list&&Object.keys(e.videos.video_list).length>0?e.videos.video_list:null;return t?t.V_HLSV3_MOBILE||t.V_HLSV4||t.V_720P:null}n.d(t,"a",(function(){return i}))},pIlY:function(e,t,n){n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return d}));var i=n("q1tI"),a=n.n(i),r=n("1dBE"),o=n("DzJC"),s=n.n(o);const{Provider:l,Consumer:c,useHook:d}=Object(r.c)("HeaderShadow");function u({children:e}){const[t,n]=Object(i.useState)(!1),[r,o]=Object(i.useState)(!1),[c,d]=Object(i.useState)(0),[u,m]=Object(i.useState)(null),p=s()(()=>{t&&(o(window.scrollY>0),d(window.scrollY))},50);return Object(i.useEffect)(()=>(n(!0),()=>{n(!1)}),[]),Object(i.useEffect)(()=>(window.addEventListener("scroll",p),()=>{window.removeEventListener("scroll",p)}),[t]),a.a.createElement(l,{value:{currentScrollPosition:c,isScrolled:r,setSubheaderShadow:m,subheaderShadow:u}},e)}},pIz0:function(e,t,n){n.d(t,"a",(function(){return i}));const i=200;t.b=(e,t)=>({marginTop:10,opacity:0,position:"relative",transform:"translateY(200px)",transition:"opacity 0.1s ease-in-out",visibility:"hidden",width:430,...e?{opacity:1,transform:"translateY(0)",transition:"all 0.7s cubic-bezier(.19, 1.15, .48, 1)",visibility:"visible"}:{},...e&&t?{opacity:0,transform:"scale(1.1)",transition:"opacity transform 0.2s"}:{}})},pLLR:function(e,t,n){n.d(t,"c",(function(){return o})),n.d(t,"e",(function(){return s})),n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return d}));var i=n("q1tI"),a=n.n(i);const r=Object(i.createContext)(),o=r.Provider;function s(e){function t(t){const n=Object(i.useContext)(r);if(!n)throw new Error("withRequestContext must be used within a RequestContextProvider");return a.a.createElement(e,Object.assign({},t,{requestContext:n}))}return t.displayName=`withRequestContext(${String(e.displayName||e.name)})`,t}const l=({children:e})=>{const t=Object(i.useContext)(r);if(!t)throw new Error("RequestContextConsumer must be used within a RequestContextProvider");return e(t)},c=({children:e})=>{const t=Object(i.useContext)(r);if(!t)throw new Error("RequestContextConsumer must be used within a RequestContextProvider");return e(t)};function d(){const e=a.a.useContext(r);if(!e)throw new Error("useRequestContext must be used within a RequestContextProvider");return e}},pQ8y:function(e,t,n){var i=n("PFNz"),a=n("JwAW"),r=n("RPF1");n("ZTTo");function o(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var s=n("q1tI"),l=n.n(s),c=n("i8i4"),d=n.n(c),u=!1,m=n("0PSK"),p="unmounted",h="exited",f="entering",g="entered",b="exiting",y=function(e){function t(t,n){var i;i=e.call(this,t,n)||this;var a,r=n&&!n.isMounting?t.enter:t.appear;return i.appearStatus=null,t.in?r?(a=h,i.appearStatus=f):a=g:a=t.unmountOnExit||t.mountOnEnter?p:h,i.state={status:a},i.nextCallback=null,i}Object(r.a)(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===p?{status:h}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==f&&n!==g&&(t=f):n!==f&&n!==g||(t=b)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,i=this.props.timeout;return e=t=n=i,null!=i&&"number"!=typeof i&&(e=i.exit,t=i.enter,n=void 0!==i.appear?i.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===f?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===h&&this.setState({status:p})},n.performEnter=function(e){var t=this,n=this.props.enter,i=this.context?this.context.isMounting:e,a=this.props.nodeRef?[i]:[d.a.findDOMNode(this),i],r=a[0],o=a[1],s=this.getTimeouts(),l=i?s.appear:s.enter;!e&&!n||u?this.safeSetState({status:g},(function(){t.props.onEntered(r)})):(this.props.onEnter(r,o),this.safeSetState({status:f},(function(){t.props.onEntering(r,o),t.onTransitionEnd(l,(function(){t.safeSetState({status:g},(function(){t.props.onEntered(r,o)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),i=this.props.nodeRef?void 0:d.a.findDOMNode(this);t&&!u?(this.props.onExit(i),this.safeSetState({status:b},(function(){e.props.onExiting(i),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:h},(function(){e.props.onExited(i)}))}))}))):this.safeSetState({status:h},(function(){e.props.onExited(i)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(i){n&&(n=!1,t.nextCallback=null,e(i))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:d.a.findDOMNode(this),i=null==e&&!this.props.addEndListener;if(n&&!i){if(this.props.addEndListener){var a=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],r=a[0],o=a[1];this.props.addEndListener(r,o)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===p)return null;var t=this.props,n=t.children,i=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,Object(a.a)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return l.a.createElement(m.a.Provider,{value:null},"function"==typeof n?n(e,i):l.a.cloneElement(l.a.Children.only(n),i))},t}(l.a.Component);function E(){}y.contextType=m.a,y.propTypes={},y.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:E,onEntering:E,onEntered:E,onExit:E,onExiting:E,onExited:E},y.UNMOUNTED=p,y.EXITED=h,y.ENTERING=f,y.ENTERED=g,y.EXITING=b;var w=y,_=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return i=t,void((n=e).classList?n.classList.remove(i):"string"==typeof n.className?n.className=o(n.className,i):n.setAttribute("class",o(n.className&&n.className.baseVal||"",i)));var n,i}))},v=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(t=e.call.apply(e,[this].concat(i))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,n){var i=t.resolveArguments(e,n),a=i[0],r=i[1];t.removeClasses(a,"exit"),t.addClass(a,r?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var i=t.resolveArguments(e,n),a=i[0],r=i[1]?"appear":"enter";t.addClass(a,r,"active"),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var i=t.resolveArguments(e,n),a=i[0],r=i[1]?"appear":"enter";t.removeClasses(a,r),t.addClass(a,r,"done"),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"appear"),t.removeClasses(n,"enter"),t.addClass(n,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.resolveArguments(e)[0];t.addClass(n,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"exit"),t.addClass(n,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,n){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,n]},t.getClassNames=function(e){var n=t.props.classNames,i="string"==typeof n,a=i?""+(i&&n?n+"-":"")+e:n[e];return{baseClassName:a,activeClassName:i?a+"-active":n[e+"Active"],doneClassName:i?a+"-done":n[e+"Done"]}},t}Object(r.a)(t,e);var n=t.prototype;return n.addClass=function(e,t,n){var i=this.getClassNames(t)[n+"ClassName"],a=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===n&&a&&(i+=" "+a),"active"===n&&e&&e.scrollTop,i&&(this.appliedClasses[t][n]=i,function(e,t){e&&t&&t.split(" ").forEach((function(t){return i=t,void((n=e).classList?n.classList.add(i):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(n,i)||("string"==typeof n.className?n.className=n.className+" "+i:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+i)));var n,i}))}(e,i))},n.removeClasses=function(e,t){var n=this.appliedClasses[t],i=n.base,a=n.active,r=n.done;this.appliedClasses[t]={},i&&_(e,i),a&&_(e,a),r&&_(e,r)},n.render=function(){var e=this.props,t=(e.classNames,Object(a.a)(e,["classNames"]));return l.a.createElement(w,Object(i.a)({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(l.a.Component);v.defaultProps={classNames:""},v.propTypes={};t.a=v},pSsd:function(e,t,n){n.d(t,"a",(function(){return i}));const i="favorited"},pWkb:function(e,t,n){n.d(t,"a",(function(){return r}));var i=n("yaUg"),a=n("Ye/N");function r(e,t){const{isAbbreviated:n,skipSeconds:r}=t||{},o=36e5,s=864e5,l=new Date(e),c=(new Date).getTime()-l.getTime(),d=Math.floor(c/1e3),u=Math.floor(c/6e4),m=Math.floor(c/o),p=Math.floor(c/s),h=Math.floor(c/6048e5),f=Math.floor(c/31536e6);return f>0?n?Object(i.a)(a.a._("{{ years }}y","Abbreviation for years","Abbreviation for years"),{years:""+f}):Object(i.a)(a.a.ngettext("{{ years }} year ago","{{ years }} years ago",f,"describing amount of time that has passed - e.g. in notifications, messages","describing amount of time that has passed - e.g. in notifications, messages"),{years:""+f}):h>1?n?Object(i.a)(a.a._("{{ weeks }}w","Abbreviation for weeks","Abbreviation for weeks"),{weeks:""+h}):Object(i.a)(a.a.ngettext("{{ weeks }} week ago","{{ weeks }} weeks ago",h,"describing amount of time that has passed - e.g. in notifications, messages","describing amount of time that has passed - e.g. in notifications, messages"),{weeks:""+h}):p>0?n?Object(i.a)(a.a._("{{ days }}d","Abbreviation for days","Abbreviation for days"),{days:""+p}):Object(i.a)(a.a.ngettext("{{ days }} day ago","{{ days }} days ago",p,"describing amount of time that has passed - e.g. in notifications, messages","describing amount of time that has passed - e.g. in notifications, messages"),{days:""+p}):m>0?n?Object(i.a)(a.a._("{{ hours }}h","Abbreviation for hours","Abbreviation for hours"),{hours:""+m}):Object(i.a)(a.a.ngettext("{{ hours }} hour ago","{{ hours }} hours ago",m,"describing amount of time that has passed - e.g. in notifications, messages","describing amount of time that has passed - e.g. in notifications, messages"),{hours:""+m}):u>0?n?Object(i.a)(a.a._("{{ minutes }}m","Abbreviation for minutes","Abbreviation for minutes"),{minutes:""+u}):Object(i.a)(a.a.ngettext("{{ minutes }} minute ago","{{ minutes }} minutes ago",u,"describing amount of time that has passed - e.g. in notifications, messages","describing amount of time that has passed - e.g. in notifications, messages"),{minutes:""+u}):d>=0&&!r?n?Object(i.a)(a.a._("{{ numSecondsBetween }}s","Abbreviation for seconds","Abbreviation for seconds"),{numSecondsBetween:""+d}):Object(i.a)(a.a.ngettext("{{ numSecondsBetween }} second ago","{{ numSecondsBetween }} seconds ago",d,"describing amount of time that has passed - e.g. in notifications, messages","describing amount of time that has passed - e.g. in notifications, messages"),{numSecondsBetween:""+d}):a.a._("just now","describing amount of time that has passed - e.g. in notifications, messages","describing amount of time that has passed - e.g. in notifications, messages")}},q1kg:function(e,t,n){var i=n("q1tI"),a=n.n(i),r=n("L++T"),o=n("XRfM"),s=n("n6mq"),l=n("pLLR");function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t,n,i){let a=r.b.formatBasedOnLocale(r.b.microCurrencyToCurrency(e,!!t),n,!!t);return i&&(a=a.slice(0,-3)),a}class u extends a.a.PureComponent{constructor(e){super(e),c(this,"onHandleChange",({value:e})=>{this.setState({currentValue:e})}),c(this,"setEditState",()=>{this.setState({isEditing:!this.state.isEditing},this.parseValue)}),c(this,"parseValue",()=>{const{currentValue:e,isEditing:t}=this.state,{hasFractionalCents:n,roundValue:i}=this.props;if(t)return;const{requestContext:a,onValueParsed:o}=this.props,s=a.locale;let l=r.b.parseNumberBasedOnLocale(e,s,!!n);l=""===e?null:isNaN(l)?Number.MIN_VALUE:r.b.currencyToMicroCurrency(l,!!n),this.setState({currentValue:this.formatValue(l,e,!!n,i)}),o(l)}),c(this,"formatValue",(e,t,n,i)=>{const{requestContext:a,currencyCode:r}=this.props,{isEditing:s}=this.state;let l="";const c=r&&o.a[r]||"";if(s)l=t;else if(e===Number.MIN_VALUE)l=t;else if(null==e)l="";else{l=`${c}${d(e,n,a.locale,i)}`}return l});const{valueInMicroCurrency:t,requestContext:n,currencyCode:i,hasFractionalCents:a,roundValue:s}=e,l=i&&o.a[i]||"";let u="";if(t){u=`${l}${d(t,a,n.locale,s)}`}this.state={isEditing:!1,currentValue:u}}componentDidUpdate(e){(e.valueInMicroCurrency!==this.props.valueInMicroCurrency||null!=this.props.valueInMicroCurrency&&""===this.state.currentValue||e.hasFractionalCents!==this.props.hasFractionalCents)&&this.setState({currentValue:this.formatValue(this.props.valueInMicroCurrency,this.state.currentValue,!!this.props.hasFractionalCents,this.props.roundValue)})}render(){const{id:e,autoComplete:t,placeholder:n,errorMessage:i,valueInMicroCurrency:r,hasFractionalCents:o,roundValue:l}=this.props,{currentValue:c}=this.state;return a.a.createElement(s.X,{id:e,autoComplete:t,onChange:this.onHandleChange,onBlur:this.setEditState,onFocus:this.setEditState,placeholder:n,errorMessage:i,size:"lg",value:c||this.formatValue(r,c,!!o,l)})}}t.a=Object(l.e)(u)},q8wg:function(e,t,n){var i=n("q1tI"),a=n.n(i),r=n("8wun"),o=n("1u47");t.a=e=>a.a.createElement(o.a,Object.assign({},e,{timeSpentManager:r.a}))},qLDv:function(e,t,n){n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"d",(function(){return o})),n.d(t,"f",(function(){return s})),n.d(t,"e",(function(){return l}));const i=36,a=44,r=446,o=["enabled_left_stela","employees","enabled_v2_holdout"],s=["employees","enabled","enabled_pwt"],l=["employees","enabled_popular_bestseller_colorful","enabled_popular_bestseller_neutral","enabled_popular_colorful","enabled_popular_neutral"]},qUSw:function(e,t,n){function i(e,t){return{type:"UPDATE_ACTIVITY_ITEM_COMMENT_COUNT",payload:{increment:t,id:e}}}function a(e){return i(e,!1)}function r(e){return i(e,!0)}n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r}))},qYux:function(e,t,n){n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return c}));var i=n("q1tI"),a=n.n(i),r=n("1dBE");const{Provider:o,Consumer:s,useHook:l}=Object(r.c)("ContentHeader");function c({children:e}){const[t,n]=Object(i.useState)(!1);return a.a.createElement(o,{value:{isContentHeaderPresent:t,setIsContentHeaderPresent:n}},e)}},qhFy:function(e,t,n){n.d(t,"a",(function(){return u}));var i=n("q1tI"),a=n.n(i),r=n("VJm5"),o=n("TSYQ"),s=n.n(o),l=n("RwJG"),c=n("n6mq");function d({onError:e,onLoad:t,pin:n}){const{title:i="",dominant_color:r,images:o={}}=n,s=o["474x"].width>o["474x"].height?o["736x"]:o["474x"];return a.a.createElement(c.e,{position:"relative",dangerouslySetInlineStyle:{__style:{paddingTop:"177.77777777777777%"}}},a.a.createElement(c.e,{position:"absolute",top:!0,left:!0,width:"100%",height:"100%",dangerouslySetInlineStyle:{__style:{zIndex:l.a.storyPinImage}}},a.a.createElement(c.v,{alt:i,color:r,naturalHeight:s.height,naturalWidth:s.width,onError:e,onLoad:t,src:s.url,fit:"cover"})))}const u=120;t.b=({cropHeight:e,cropWidth:t,fallbackColor:n,highResOnly:i,imageFit:o,lowResOnly:l,mediumResOnly:m,onError:p,onLoad:h,pin:f,saved:g=!1,animateGif:b})=>{const{carousel_data:y,description:E="",dominant_color:w,id:_,images:v}=f;if(y)return a.a.createElement(r.a,{onError:p,onLoad:h,highResOnly:i,lowResOnly:l,pinId:_});let S,O="",T=0,I=0;if(v){let e=v["236x"];i?e=v["736x"]||v.orig||v["474x"]||v["236x"]:m&&(e=v["474x"]||v.orig||v["236x"]),T=e.height,I=e.width,O=e.url,S=l||m||i?e.url+" 1x":[v["236x"].url+" 1x",v["474x"]&&v["474x"].url+" 2x",v["736x"]&&v["736x"].url+" 3x",v.orig&&v.orig.url+" 4x"].filter(Boolean).join(", ")}if(b){const e=Math.max(f.embed&&f.embed.width||0,236),t=Math.max(f.embed&&f.embed.height||0,236),n=f.embed?f.embed.src:"";n&&(T=t,I=e,O=n,S="")}return a.a.createElement(c.e,{minHeight:u,display:"flex",alignItems:"center"},a.a.createElement(c.e,{flex:"grow"},a.a.createElement("div",{className:s()({savedGradient:g})},f.story_pin_data_id?a.a.createElement(d,{pin:f,onError:p,onLoad:h}):a.a.createElement(c.e,{height:t?e:void 0,width:t||void 0},a.a.createElement(c.v,{alt:E,color:"dominant"===n?w:n,fit:o,naturalHeight:T,naturalWidth:I,onError:p,onLoad:h,src:O,srcSet:S})))))}},qpbZ:function(e,t,n){function i(e,t,n){return e.split(n).map(e=>{if(e.match(n)){const n=e.replace(/[\{\}]/g,"").trim();if(Object.prototype.hasOwnProperty.call(t,n))return t[n]}return e})}n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return s}));const a=/(\{\{\s*\w+\s*\}\})/g;function r(e,t){return i(e,t,a)}const o=/(\{\s*\w+\s*\})/g;function s(e,t){return i(e,t,o)}},rXev:function(e,t,n){n.d(t,"a",(function(){return F}));var i=n("q1tI"),a=n.n(i);class r{constructor(e=[],t=(()=>null)){var n,i,a;a=[],(i="items")in(n=this)?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a,this.items=e,this.getItemLayoutInfo=t}}var o=n("6Mki");function s({children:e,defaultSize:t,disableWidth:n=!1,disableHeight:r=!1,onResize:s}){const[l,c]=Object(i.useState)({width:0,height:0}),d=Object(i.useRef)(),u=Object(i.useRef)(),m=Object(i.useCallback)(()=>{if(u.current){const e=u.current.offsetHeight||0,t=u.current.offsetWidth||0,i=window.getComputedStyle(u.current)||{},a=parseInt(i.paddingLeft,10)||0,o=parseInt(i.paddingRight,10)||0,d=e-(parseInt(i.paddingTop,10)||0)-(parseInt(i.paddingBottom,10)||0),m=t-a-o;(!r&&l.height!==d||!n&&l.width!==m)&&(c({width:m,height:d}),s({width:m,height:d}))}},[l,r,n,s,u.current]);Object(i.useEffect)(()=>{var e,t;(null===(e=d.current)||void 0===e||null===(t=e.parentNode)||void 0===t?void 0:t.ownerDocument.defaultView)&&d.current.parentNode instanceof d.current.parentNode.ownerDocument.defaultView.HTMLElement&&(u.current=d.current.parentNode,m())},[]),Object(i.useEffect)(()=>(u.current&&o.a.sharedInstance.addResizeListener(u.current,m),()=>{u.current&&o.a.sharedInstance.removeResizeListener(u.current,m)}),[u.current,m]);const p={overflow:"visible",margin:"auto",display:"flex",justifyContent:"center"};return r||(p.height=0),n||(p.width=0),a.a.createElement("div",{className:"AutoSizer",ref:d,style:p},e)}var l=n("TSYQ"),c=n.n(l),d=n("Y+p1"),u=n.n(d);class m extends a.a.Component{constructor(...e){var t,n,i;super(...e),t=this,n="itemSizeCache",i=new WeakMap,n in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}componentDidMount(){this.componentDidRender()}shouldComponentUpdate(e){const{customSize:t,layout:n}=e,{customSize:i,layout:a}=this.props;if(!u()(i,t))return!0;if(n.items.length!==a.items.length)return!0;if(n.items.some((e,t)=>e!==a.items[t]))return!0;const r=n.items.map(n.getItemLayoutInfo),o=a.items.map(a.getItemLayoutInfo);return!(!r.some((e,t)=>e!==o[t])||!r.some((e,t)=>!u()(e,o[t])))}componentDidUpdate(){this.componentDidRender()}componentDidRender(){const{onRenderedItems:e}=this.props;e&&e(this.itemSizeCache),this.itemSizeCache=new WeakMap}getElementHeight(e){return e&&(e.clientHeight||e.scrollHeight)||0}measureItem(e,t){t&&this.itemSizeCache.set(e,{width:t.clientWidth||t.scrollWidth||0,height:this.getElementHeight(t)||this.getElementHeight(t.children&&t.children[0])})}render(){const{renderItem:e,layout:t,customSize:n,itemsToMeasureLimit:i}=this.props,r=[],o=[];t.items.forEach((n,s)=>{const l=t.getItemLayoutInfo(n);if(!l)return;const c="number"==typeof l.customIndex?l.customIndex:s,d="item-"+c;if(!l.size&&r.length<(i||1/0)){const t=e({item:n,index:c,isMeasuring:!0,constraints:l.constraints});r.push(a.a.createElement("div",{className:"Collection-Item Collection-Item-Measuring",style:{pointerEvents:"none",position:"absolute",visibility:"hidden",top:-9999,left:-9999,...l.constraints},key:d,ref:e=>this.measureItem(n,e)},t))}if(l.position){const t=e({item:n,index:c,isMeasuring:!1,constraints:l.constraints});if(!l.position)return;o.push(a.a.createElement("div",{className:"Collection-Item",style:{position:"absolute",top:0,left:0,transform:`translate(${l.position.left}px, ${l.position.top}px)`,...l.size},key:d},t))}});const s=n||t.size;return a.a.createElement("div",{style:{position:"relative",...s},className:"Collection"},r,o)}}var p=function({layout:e,overscan:t=200,scrollContainerSize:n,scrollPosition:i,children:a}){const o=i.top-t,s=i.top+n.height+t,l=i.left-t,c=i.left+n.width+t,d=e.items.filter(t=>{const n=e.getItemLayoutInfo(t);if(!n)return!1;const{size:i,position:a}=n;return!i||!a||a.top+i.height>=o&&a.top<=s&&a.left+i.width>=l&&a.left<=c}),u=new r(d,e.getItemLayoutInfo);return u.size=e.size,u.contentFilledSize=e.contentFilledSize,u.isMeasuring=e.isMeasuring,a(u,e.size?e.size:void 0)};function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class f extends a.a.Component{constructor(...e){super(...e),h(this,"state",{layout:this.props.initialLayout||new r,initialItemCount:0,previousItems:[],previousContentContainerSize:this.props.contentContainerSize}),h(this,"contentContainerRef",a.a.createRef()),h(this,"handleItemsRendered",e=>{this.handleItemsRenderedAnimationFrame||(this.handleItemsRenderedAnimationFrame=requestAnimationFrame(()=>{this.handleItemsRenderedAnimationFrame=null;const{getItemLayoutOptions:t,layoutEngine:n,onLayoutUpdated:i,items:a,contentContainerSize:o}=this.props,{layout:s}=this.state,l=((e,t)=>{const n=new WeakMap;let i=!1;return e.items.forEach(a=>{const r=e.getItemLayoutInfo(a),o=t.get(a);r&&o&&!u()(r.size,o)&&(n.set(a,{...r,size:o}),i=!0)}),i?new r(e.items,t=>n.get(t)||e.getItemLayoutInfo(t)):e})(s,e);if(s===l)i&&i(s);else{const e=n.buildLayout({containerSize:o,items:a.filter(Boolean),getItemLayoutOptions:t,previousLayout:l});this.setState({layout:e})}}))}),h(this,"renderCollection",(e,t)=>{const{items:n,renderItem:i,layoutEngine:r,scrollContainerSize:o,contentContainerSize:s}=this.props,{initialItemCount:l}=this.state,c="function"==typeof r.itemsToMeasureLimit?r.itemsToMeasureLimit({initialLayout:n.length===l,layout:e,scrollContainerSize:o,contentContainerSize:s}):r.itemsToMeasureLimit||1/0;return a.a.createElement(m,{renderItem:i,layout:e,onRenderedItems:this.handleItemsRendered,customSize:t,itemsToMeasureLimit:c})})}static getDerivedStateFromProps(e,t){const{items:n,getItemLayoutOptions:i,layoutEngine:a,contentContainerSize:r}=e,{previousItems:o,previousContentContainerSize:s,layout:l,initialItemCount:c}=t,d={initialItemCount:c||n.length,previousContentContainerSize:r,previousItems:n};if(!(m=o,p=n,(m===p||m.length===p.length&&m.every((e,t)=>e===p[t]))&&u()(r,s))){return{layout:a.buildLayout({containerSize:r,items:n.filter(Boolean),getItemLayoutOptions:i,previousLayout:l}),contentContainerSize:r,...d}}var m,p;return d}componentDidMount(){const{onLayoutUpdated:e}=this.props,{layout:t}=this.state;e&&e(t)}componentWillUnmount(){this.handleItemsRenderedAnimationFrame&&cancelAnimationFrame(this.handleItemsRenderedAnimationFrame)}getLayout(){return this.state.layout}render(){const{virtualize:e,virtualOverscan:t,scrollPosition:n,scrollContainerSize:i,contentContainerSize:r}=this.props,{layout:o}=this.state;let s=null;if(e&&i&&n){const e="function"==typeof t?t({layout:o,scrollContainerSize:i,contentContainerSize:r}):t||0;s=a.a.createElement(p,{layout:o,scrollContainerSize:i,scrollPosition:n,overscan:e},this.renderCollection)}else s=this.renderCollection(o);return a.a.createElement("div",{className:"LayoutRenderer"},s)}}function g(e){null!==e.id&&(window.cancelAnimationFrame(e.id),e.id=null)}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}h(f,"defaultProps",{virtualOverscan:function({scrollContainerSize:e}){return 2*Math.max(e.width,e.height)}});class y{constructor(){b(this,"_mountedInstances",[]),b(this,"_originalBodyPointerEvents",null),b(this,"_disablePointerEventsTimeoutId",null),b(this,"_enablePointerEventsAfterDelayCallback",()=>{this._enablePointerEventsIfDisabled(),this._mountedInstances.forEach(({options:e})=>{e.resetIsScrolling&&e.resetIsScrolling()})}),b(this,"_handleScroll",e=>{e.currentTarget===window&&null==this._originalBodyPointerEvents&&document.body&&(this._originalBodyPointerEvents=document.body.style.pointerEvents,document.body.style.pointerEvents="none"),this._enablePointerEventsAfterDelay(),this._mountedInstances.forEach(({scrollElement:t,options:n})=>{t===e.currentTarget&&n.handleScroll()})})}_enablePointerEventsIfDisabled(){this._disablePointerEventsTimeoutId&&(this._disablePointerEventsTimeoutId=null,document.body&&null!=this._originalBodyPointerEvents&&(document.body.style.pointerEvents=this._originalBodyPointerEvents),this._originalBodyPointerEvents=null)}_enablePointerEventsAfterDelay(){this._disablePointerEventsTimeoutId&&g(this._disablePointerEventsTimeoutId);let e=0;this._mountedInstances.forEach(({options:t})=>{e=Math.max(e,t.scrollingResetTimeInterval)}),this._disablePointerEventsTimeoutId=function(e,t){let n;Promise.resolve().then(()=>{n=Date.now()});const i={id:null},a=()=>{Date.now()-n>=t?e.call():i.id=window.requestAnimationFrame(a)};return i.id=window.requestAnimationFrame(a),i}(this._enablePointerEventsAfterDelayCallback,e)}registerScrollListener(e,t){this._mountedInstances.some(({scrollElement:t})=>t===e)||e.addEventListener("scroll",this._handleScroll),this._mountedInstances.push({scrollElement:e,options:t})}unregisterScrollListener(e){this._mountedInstances=this._mountedInstances.filter(({scrollElement:t})=>t!==e),this._mountedInstances.length||(e.removeEventListener("scroll",this._handleScroll),this._disablePointerEventsTimeoutId&&(g(this._disablePointerEventsTimeoutId),this._enablePointerEventsIfDisabled()))}}b(y,"sharedInstance",new y);var E=n("DzJC"),w=n.n(E);function _(e,t){const n=Object(i.useRef)(!0);Object(i.useEffect)((...t)=>{if(!n.current)return e(...t);n.current=!1},t)}const v=e=>"undefined"!=typeof window&&e===window;function S(e,t){if(e){if(v(e)){const{innerHeight:e,innerWidth:t}=window;return{height:"number"==typeof e?e:0,width:"number"==typeof t?t:0}}{const t=e.getBoundingClientRect();return{height:t.height,width:t.width}}}return t}function O(e){return v(e)&&document.documentElement?{top:"scrollY"in window?window.scrollY:document.documentElement.scrollTop,left:"scrollX"in window?window.scrollX:document.documentElement.scrollLeft}:{top:e.scrollTop,left:e.scrollLeft}}const T=()=>"undefined"!=typeof window?window:void 0;function I(e,t){return e&&t?function(e,t){if(v(t)&&document.documentElement){const t=document.documentElement,n=e.getBoundingClientRect(),i=t.getBoundingClientRect();return{top:n.top-i.top,left:n.left-i.left}}{const n=O(t),i=e.getBoundingClientRect(),a=t.getBoundingClientRect();return{top:i.top+n.top-a.top,left:i.left+n.left-a.left}}}(e,t):{top:0,left:0}}function C(e,t){const n=O(e);return{left:n.left-t.left,top:n.top-t.top}}const x={Masonry:{overflowAnchor:"none"}};function P({items:e,renderItem:t,getItemLayoutOptions:n,layoutEngine:r,onLayoutUpdated:l,initialLayout:d,virtualize:u,virtualOverscan:m,scrollContainer:p,scrollTracker:h}){const[g,b]=a.a.useState(),E=a.a.useCallback(e=>{e&&e!==g&&b(e)},[g]),{scrollContainerSize:v,scrollPosition:O}=function({scrollContainer:e=T(),scrollChild:t,scrollingResetTimeInterval:n=150,serverSize:a={width:0,height:0}}){const[r,s]=Object(i.useState)(()=>I(t,e));_(()=>{const n=I(t,e);s(n)},[t,e]);const[l,c]=Object(i.useState)(!1),[d,u]=Object(i.useState)(()=>S(e,a)),[m,p]=Object(i.useState)(()=>e?C(e,r):{left:0,top:0});_(()=>{if(e){const t=C(e,r);p(t)}},[e,r.top,r.left]),_(()=>{e&&u(S(e,a))},[e,a.width,a.height]);const h=Object(i.useCallback)(()=>{u(S(e,a)),s(I(t,e))},[t,e,a]);Object(i.useEffect)(()=>(o.a.sharedInstance.addResizeListener(e,h),()=>{e&&o.a.sharedInstance.removeResizeListener(e,h)}),[e,h]);const f=Object(i.useCallback)(w()((e,t)=>{const n=I(e,t);r.top===n.top&&r.left===n.left||s(n)},1e3),[I,s,r,1e3]),g=Object(i.useCallback)(()=>{e&&(f(t,e),p(C(e,r)),c(!0))},[t,e,C,p,c,r,f]),b=Object(i.useCallback)(()=>c(!1),[]);return Object(i.useEffect)(()=>(e&&y.sharedInstance.registerScrollListener(e,{scrollingResetTimeInterval:n,handleScroll:g,handleScrollEnded:b}),()=>{e&&y.sharedInstance.unregisterScrollListener(e)}),[e,n,g,b]),{scrollContainerSize:d,scrollPosition:m,isScrolling:l}}({scrollContainer:p,scrollChild:g});a.a.useEffect(()=>{h&&p&&v&&h.handleContainerResized(v)},[v.width,v.height]),a.a.useEffect(()=>{h&&p&&O&&h.handleContainerScrolled(O)},[O.top,O.left]);const[P,R]=a.a.useState({width:0,height:0});return a.a.createElement("div",{className:c()("Masonry",{"Masonry-Premount":!g}),style:x.Masonry,ref:E},a.a.createElement(s,{disableHeight:!0,onResize:R},a.a.createElement(f,{items:e,renderItem:t,getItemLayoutOptions:n,layoutEngine:r,onLayoutUpdated:e=>{l&&l(e),h&&p&&h.handleLayoutUpdated(e)},initialLayout:d,scrollContainerSize:v,scrollPosition:O,contentContainerSize:P,virtualize:u,virtualOverscan:m})))}class R{constructor({minCols:e=2,colWidth:t=250,gutter:n=20,flexible:i=false}={}){this.minCols=e,this.colWidth=t,this.gutter=n,this.flexible=i}static getColumnIndex(e){let t=0;for(let n=0;n<e.length;n+=1)e[n]<e[t]&&(t=n);return t}getColumnInfo(e){const{gutter:t,minCols:n}=this;let i=0,a=0;if(this.flexible){if(t)throw new Error("Flexible grid layouts do not support gutters.");e.width&&(a=Math.max(Math.ceil(e.width/this.colWidth),n),i=Math.floor(e.width/a))}else i=this.colWidth,e.width&&(a=Math.max(Math.floor((e.width+t)/(i+t)),n));return{width:i,count:a}}buildLayout(e){throw new Error("Subclasses must implement")}itemsToMeasureLimit({initialLayout:e,contentContainerSize:t}){return e?1/0:this.getColumnInfo(t).count||1/0}}class k extends R{buildLayout({containerSize:e,items:t,previousLayout:n}){const{width:i,count:a}=this.getColumnInfo(e),o=new Array(a).fill(0),s=new WeakMap;let l=!1;const c={width:0,height:0};t.forEach((e,t)=>{const r=n?n.getItemLayoutInfo(e):void 0;if(a>0&&(null==r?void 0:r.size)){const n=r.size;if(!n.width||!n.height)throw new Error("Items that have been measured should always have a width and height.");const a=k.getColumnIndex(o),l=o[a],d=l+(0===l?0:this.gutter),u=a*(i+this.gutter);s.set(e,{...r,size:{...n,width:i},position:{left:u,top:d},customIndex:t}),o[a]=d+n.height,c.width<u+n.width&&(c.width=u+n.width),c.height<d+n.height&&(c.height=d+n.height)}else s.set(e,{constraints:{width:i||void 0}}),l=!0});const d=new r(t,e=>s.get(e));return d.size=c,d.contentFilledSize={width:c.width,height:Math.min(...o)},d.isMeasuring=l,d}}class j extends R{buildLayout({containerSize:e,items:t,previousLayout:n}){const{width:i,count:a}=this.getColumnInfo(e),o=new WeakMap;let s=0,l=[],c=0,d=0,u=!1;const m={width:0,height:0};let p=0;for(let r=0;r<t.length;r+=1){const e=t[r],m=n?n.getItemLayoutInfo(e):void 0;if(a>0&&m&&m.size){const n=m.size;if(!n.width||!n.height)throw new Error("Items that have been measured should always have a width and height.");if(l[c%a]={item:e,itemLayoutInfo:m},n.height>d&&(d=n.height),l.length===a||r===t.length-1){for(let e=0;e<l.length;e+=1){const t=l[e],{size:n,constraints:a}=t.itemLayoutInfo;if(!n||!a)throw new Error("Row entries must already have sizes and constraints.");o.set(t.item,{size:{width:i,height:n.height},position:{left:e*(i+this.gutter),top:s},constraints:a,customIndex:r})}l.length===a&&(p=s+d),s+=d+this.gutter,l=[],d=0}c+=1}else o.set(e,{constraints:{width:i}}),u=!0}const h=new r(t,e=>o.get(e));return h.size=m,h.contentFilledSize={width:m.width,height:p},h.isMeasuring=u,h}}var A=n("dKiF");function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const L=({containerSize:e})=>2*e.height;class N{constructor(e,t=L){D(this,"isMeasuring",!1),D(this,"isFetching",!1),D(this,"fetchMoreIfReady",w()(()=>{if(this.isMeasuring||this.isFetching)return;if(!this.scrollPosition||!this.containerSize||!this.layoutSize)return;const e="function"==typeof this.fetchOverscan?this.fetchOverscan({layoutSize:this.layoutSize,scrollPosition:this.scrollPosition,containerSize:this.containerSize}):this.fetchOverscan;this.layoutSize.height-this.scrollPosition.top-this.containerSize.height>=e||(this.isFetching=!0,this.fetchMore())},100)),this.fetchMore=e,this.fetchOverscan=t}handleLayoutUpdated(e){(!this.items||this.items&&this.items.length!==e.items.length)&&(this.isFetching=!1),this.layoutSize=e.size,this.isMeasuring=!!e.isMeasuring,this.items=e.items,this.fetchMoreIfReady()}handleContainerResized(e){this.containerSize=e,this.fetchMoreIfReady()}handleContainerScrolled(e){this.scrollPosition=e,this.fetchMoreIfReady()}}function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const B=({scrollContainerSize:e})=>.7*e.height;class F extends a.a.Component{static getDerivedStateFromProps({layout:e,minCols:t,columnWidth:n,gutterWidth:i,flexible:a}){return{layoutEngine:F.layoutOptionsToLayoutEngine({layout:e,minCols:t,columnWidth:n,gutterWidth:i,flexible:a})}}constructor(e){super(e),M(this,"fetchMore",()=>new Promise(e=>{const{items:t,loadItems:n}=this.props;"function"==typeof n?setTimeout(()=>{n({from:t.length}),e(!0)}):e(!1)})),M(this,"handleLayoutUpdated",e=>{const{measurementStore:t}=this.state;t.layout=e}),M(this,"renderItem",({item:e,index:t,isMeasuring:n,constraints:i})=>{const{comp:r}=this.props;return a.a.createElement(r,{data:e,itemIdx:t,isMeasuring:n,constraints:i})});const{minCols:t,columnWidth:n,gutterWidth:i,flexible:o,layout:s,measurementStore:l,items:c,loadItems:d,fetchBoundsOffset:u}=e,m=l||F.createMeasurementStore(),p=F.layoutOptionsToLayoutEngine({layout:s,minCols:t,columnWidth:n,gutterWidth:i,flexible:o});m.layout=new r(c,m.layout.getItemLayoutInfo);const h="function"==typeof d?new N(this.fetchMore,({containerSize:e})=>Math.max(0,2*e.height+u)):void 0;this.state={nonce:0,scrollTracker:h,layoutEngine:p,measurementStore:m}}updatePosition(){}reflow(){const{measurementStore:e}=this.state;e.layout=new r,this.setState(({nonce:e})=>({nonce:e+1}))}render(){const{getItemLayoutOptions:e,items:t,scrollContainer:n,virtualize:i}=this.props,{layoutEngine:r,measurementStore:o,nonce:s,scrollTracker:l}=this.state;return a.a.createElement(P,{key:"Masonry-"+s,items:t,renderItem:this.renderItem,getItemLayoutOptions:e,layoutEngine:r,scrollContainer:(c=n,c?"function"==typeof c?c():c:"undefined"!=typeof window?window:null),scrollTracker:l,onLayoutUpdated:this.handleLayoutUpdated,initialLayout:o.layout,virtualize:i,virtualOverscan:B});var c}}M(F,"createMeasurementStore",()=>({layout:new r})),M(F,"defaultProps",{columnWidth:236,fetchBoundsOffset:0,layout:"default",minCols:3,virtualize:!1}),M(F,"layoutOptionsToLayoutEngine",Object(A.c)(({layout:e,minCols:t,columnWidth:n,gutterWidth:i,flexible:a})=>new("uniformRow"===e?j:k)({minCols:t,colWidth:n,gutter:i,flexible:a})))},rYoy:function(e,t,n){var i=n("E8d4");t.a=i.a},sEfC:function(e,t,n){var i=n("GoyQ"),a=n("QIyF"),r=n("tLB3"),o=Math.max,s=Math.min;e.exports=function(e,t,n){var l,c,d,u,m,p,h=0,f=!1,g=!1,b=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var n=l,i=c;return l=c=void 0,h=t,u=e.apply(i,n)}function E(e){return h=e,m=setTimeout(_,t),f?y(e):u}function w(e){var n=e-p;return void 0===p||n>=t||n<0||g&&e-h>=d}function _(){var e=a();if(w(e))return v(e);m=setTimeout(_,function(e){var n=t-(e-p);return g?s(n,d-(e-h)):n}(e))}function v(e){return m=void 0,b&&l?y(e):(l=c=void 0,u)}function S(){var e=a(),n=w(e);if(l=arguments,c=this,p=e,n){if(void 0===m)return E(p);if(g)return clearTimeout(m),m=setTimeout(_,t),y(p)}return void 0===m&&(m=setTimeout(_,t)),u}return t=r(t)||0,i(n)&&(f=!!n.leading,d=(g="maxWait"in n)?o(r(n.maxWait)||0,t):d,b="trailing"in n?!!n.trailing:b),S.cancel=function(){void 0!==m&&clearTimeout(m),h=0,l=p=c=m=void 0},S.flush=function(){return void 0===m?u:v(a())},S}},sztL:function(e,t,n){n.d(t,"a",(function(){return u}));var i=n("q1tI"),a=n.n(i),r=n("Nle8"),o=n("eOdZ"),s=n("0nTG"),l=n("U4JR"),c=n("Y8Sn"),d=n("7jH2");function u({children:e,hovered:t,pin:n,slotIndex:u,trafficSource:m,viewType:p}){const[h,f]=Object(i.useState)(),[g,b]=Object(i.useState)(),{id:y,tracked_link:E,link:w}=n,_=E||w||"",v=()=>{f(!0)},S=Object(d.d)(Object(d.p)({pin:n})),O=Object(i.useCallback)(()=>{((e,t,n)=>{const i={check_only:n,pin_id:e.id,url:t,client_tracking_params:Object(r.a)(e.id),aux_data:JSON.stringify({clickthrough_type:"rightClick",objectId:y,...u||{},...Object(s.f)(e)||{}})};return o.a.create("OffsiteLinkResource",i)})(n,_,!1).callGet({showError:!1}).then(e=>{e&&(Object(l.b)(12,{clickthrough_type:"rightClick",objectId:y,view:p,viewParameter:S,...u||{},...Object(s.f)(n)||{}}),Object(c.e)()&&Object(l.b)(8948,{click_type:"clickthrough",closeup_navigation_type:m&&Object(c.l)(m)?"deeplink":"click",clickthrough_type:"rightClick",view:p,objectId:y,viewParameter:S,...u||{},...Object(s.f)(n)||{}}))})}),T=()=>{h&&(O(),f(!1),window.removeEventListener(g,T,!1))};return Object(i.useEffect)(()=>{var e,t,n,i,a,r;void 0!==(null===(e=window)||void 0===e||null===(t=e.document)||void 0===t?void 0:t.hidden)?b("visibilitychange"):void 0!==(null===(n=window)||void 0===n||null===(i=n.document)||void 0===i?void 0:i.msHidden)?b("msvisibilitychange"):void 0!==(null===(a=window)||void 0===a||null===(r=a.document)||void 0===r?void 0:r.webkitHidden)&&b("webkitvisibilitychange")},[]),Object(i.useEffect)(()=>(h&&window&&window.addEventListener(g,T,!1),()=>window.removeEventListener(g,T)),[h,g]),Object(i.useEffect)(()=>(t&&window.addEventListener("contextmenu",v),()=>{window.removeEventListener("contextmenu",v)}),[t]),a.a.createElement(i.Fragment,null,e)}},tLB3:function(e,t,n){var i=n("GoyQ"),a=n("/9aa"),r=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(a(e))return NaN;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(r,"");var n=s.test(e);return n||l.test(e)?c(e.slice(2),n?2:8):o.test(e)?NaN:+e}},tMjw:function(e,t,n){n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return h}));var i=n("q1tI"),a=n.n(i),r=n("I7CA"),o=n("vcEN"),s=n("Ye/N"),l=n("n6mq");const c="#000000",d="#ffffff";function u({selected:e=!1}){return a.a.createElement(l.e,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0,dangerouslySetInlineStyle:{__style:{borderWidth:"3px",borderStyle:"solid",borderColor:e?c:d,borderRadius:m,boxShadow:"inset 0 0 0 3px #fff",zIndex:1}}},e?a.a.createElement(l.e,{position:"absolute",bottom:!0,right:!0,display:"flex",alignItems:"center",justifyContent:"center",margin:3,rounding:2,height:24,width:24,color:"darkGray"},a.a.createElement(l.t,{accessibilityLabel:s.a._("Check icon","pinRepSelectionBorder.checkIcon","Accessibility label for check icon on selected Pin"),icon:"check",color:"white",size:12})):a.a.createElement(l.e,{position:"absolute",top:!0,right:!0,margin:3},a.a.createElement(l.t,{accessibilityLabel:s.a._("Handle icon","pinRepSelectionBorder.handleIcon","Accessibility label for handle icon on an organizable Pin"),icon:"handle",color:"white",size:24})))}const m=16,p={wrapper:{borderRadius:m,WebkitMaskImage:"-webkit-radial-gradient(white, black)"},promotedPinBorderTreatment:{background:"#EFEFEF",padding:4,borderRadius:20},primaryContentContainer:{marginBottom:"auto"},visualOverlay:{backgroundColor:"rgba(0, 0, 0, 0.1)"},savedOverlay:{backgroundColor:"rgba(0, 0, 0, 0.33)"},legoWashOverlay:{backgroundColor:"rgba(0, 0, 0, 0.4)"}};function h({children:e,savedOverlayVisibility:t="none",visualOverlayVisibility:n="none",primaryContent:i,primaryContentVisibility:s="none",secondaryContent:c,secondaryContentVisibility:d="none",accessoryContent:m,accessoryContentVisibility:h="none",actionBar:f,actionBarVisibility:g="none",footer:b,selectionState:y="no-selection",debugContent:E,signalDebuggerContent:w,signalDebuggerV2Content:_,signalDebuggerV2ContentVisibility:v="none",obscuredPinOverlay:S,showNoPinBorderRadius:O,showPromotedPinBorderTreatment:T,shouldUseLegoWash:I}){return a.a.createElement(l.e,{dangerouslySetInlineStyle:{__style:T?p.promotedPinBorderTreatment:{}}},a.a.createElement(l.e,{dangerouslySetInlineStyle:{__style:O?{}:p.wrapper},"data-test-id":"pinWrapper",overflow:"hidden",position:"relative"},["selected","deselected"].includes(y)&&a.a.createElement(u,{selected:"selected"===y}),a.a.createElement(l.e,{dangerouslySetInlineStyle:{__style:O?{}:p.wrapper},overflow:"hidden",position:"relative"},e,a.a.createElement(o.a,{visibility:n},a.a.createElement(r.a,{additionalStyles:p.visualOverlay})),a.a.createElement(o.a,{visibility:t},a.a.createElement(r.a,{additionalStyles:I?p.legoWashOverlay:p.savedOverlay})),m&&a.a.createElement(o.a,{visibility:h},a.a.createElement(r.a,null,m)),c&&a.a.createElement(o.a,{visibility:d},a.a.createElement(r.a,null,c)),i&&a.a.createElement(o.a,{visibility:s},a.a.createElement(r.a,{additionalStyles:I?p.legoWashOverlay:void 0},i)),_&&a.a.createElement(o.a,{visibility:v},a.a.createElement(r.a,null,a.a.createElement(l.e,{position:"absolute",left:!0,bottom:!0,marginBottom:12,marginStart:2},_))),f&&a.a.createElement(o.a,{visibility:g},a.a.createElement(r.a,null,a.a.createElement(l.e,{position:"absolute",left:!0,right:!0,bottom:!0},f))),E&&a.a.createElement(r.a,null,E),w),b,S&&a.a.createElement(l.e,null,S)))}},u1Kd:function(e,t,n){n.r(t),n.d(t,"default",(function(){return x}));var i=n("q1tI"),a=n.n(i);function r(e){return e&&5!==e?4===e?"stela":null:"related_products"}var o=n("Ye/N"),s=n("U4JR"),l=n("n6mq");function c({categoryFilters:e,cropSource:t,handleCategoryChange:n,viewParameter:c,viewType:d}){const[u,m]=Object(i.useState)(!0);return a.a.createElement(i.Fragment,null,a.a.createElement(l.e,{display:"flex",alignItems:"center",justifyContent:"between"},a.a.createElement(l.V,{weight:"bold"},o.a._("Product category","filter.category.header","Header of product category filter containing filter options")),a.a.createElement(l.e,{flex:"none"},a.a.createElement(l.u,{icon:u?"arrow-up":"arrow-down",iconColor:"darkGray",accessibilityLabel:o.a._("Product category","filter.category.button","accessibility label for the icon button to open or close domain filter"),onClick:()=>{m(!u),Object(s.b)(101,{component:13535,element:11547,view:d,viewParameter:c,commerce_data:JSON.stringify({filter:u?"collapsed":"expanded"})}),u||Object(s.b)(13,{component:13535,view:d,viewParameter:c,commerce_data:JSON.stringify({source:r(t)})})},size:"sm"}))),u?a.a.createElement(i.Fragment,null,e.slice(0,5).map((e,t)=>a.a.createElement(l.e,{key:e.label,alignItems:"center",marginBottom:3,display:"flex",direction:"row"},a.a.createElement(l.e,{flex:"grow"},a.a.createElement(l.V,null,e.label.charAt(0).toUpperCase()+e.label.slice(1))),a.a.createElement(l.e,null,a.a.createElement(l.u,{icon:e.checked?"check-circle":"circle-outline",accessibilityLabel:o.a._("Category Filter Option","filter.category.option","Accessibility label for radio button of category filter choices"),onClick:()=>n(t),size:"sm",iconColor:"darkGray"}))))):a.a.createElement(l.e,{width:"80%"},a.a.createElement(l.V,{size:"md",color:"gray"},function(e=[]){const t=e.filter(e=>e.checked),n=t.length;return 0===n?o.a._("All","filter.category.applied","text indicates that no categories filter is currently applied for filtering"):`(${n}) ${t.map(e=>e.label).join(", ")}`}(e))))}var d=n("FDmi"),u=n("nRAE");function m({cropSource:e,domainFilters:t,handleDomainChange:n,viewParameter:c,viewType:m}){const[p]=Object(i.useState)(""),[h,f]=Object(i.useState)(!0);return a.a.createElement(i.Fragment,null,a.a.createElement(l.e,{display:"flex",alignItems:"center",justifyContent:"between"},a.a.createElement(l.V,{weight:"bold"},o.a._("Sellers","ProductFilters.Domains.HeaderText","Header of product domain filter containing filter options")),a.a.createElement(l.e,{flex:"none"},a.a.createElement(l.u,{icon:h?"arrow-up":"arrow-down",iconColor:"darkGray",accessibilityLabel:o.a._("Domain filter","accessibility label for the icon button to open or close domain filter","accessibility label for the icon button to open or close domain filter"),onClick:()=>{f(!h),Object(s.b)(101,{component:13469,element:11547,view:m,viewParameter:c,commerce_data:JSON.stringify({filter:h?"collapsed":"expanded"})}),h||Object(s.b)(13,{component:13469,view:m,viewParameter:c,commerce_data:JSON.stringify({source:r(e)})})},size:"sm"}))),h?a.a.createElement(i.Fragment,null,t.map((e,t)=>e.label.toLowerCase().includes(p.toLowerCase())&&a.a.createElement(l.e,{key:e.domain,alignItems:"center",marginBottom:3,display:"flex",direction:"row"},a.a.createElement(l.e,{marginEnd:3},a.a.createElement(d.a,{name:e.label||"",size:"sm",src:e.image_url})),a.a.createElement(l.e,{flex:"grow",display:"flex",direction:"row",alignItems:"center"},a.a.createElement(l.V,null,e.label),e.is_verified_merchant&&a.a.createElement(l.e,{marginStart:1},a.a.createElement(u.a,{isVerifiedMerchant:!0,size:"xs"}))),a.a.createElement(l.e,null,a.a.createElement(l.u,{icon:e.checked?"check-circle":"circle-outline",accessibilityLabel:o.a._("Domain Filter Option","Accessibility label for radio button of domain filter choices","Accessibility label for radio button of domain filter choices"),onClick:()=>n(t),size:"sm",iconColor:"darkGray"}))))):a.a.createElement(l.e,{width:"80%"},a.a.createElement(l.V,{size:"md",color:"gray"},function(e=[]){const t=e.filter(e=>e.checked),n=t.length;return 0===n?o.a._("All","text indicates that no domain filter is currently applied for filtering","text indicates that no domain filter is currently applied for filtering"):`(${n}) ${t.map(e=>e.label).join(", ")}`}(t))))}function p({children:e}){return a.a.createElement(l.e,{paddingY:4},e)}var h=n("q1kg"),f=n("XRfM");const g=-1,b=1e6;function y({cropSource:e,currencyCode:t,defaultMaxPrice:n,defaultMinPrice:c,handleMaxPriceChange:d,handleMinPriceChange:u,maxPrice:m,minPrice:p,viewParameter:y,viewType:E}){const w=f.a[t]||"",_=Math.ceil(n),v=Math.floor(c),[S,O]=Object(i.useState)(!0);Object(i.useEffect)(()=>{Object(s.b)(13,{component:13468,view:E,viewParameter:y,commerce_data:JSON.stringify({source:r(e)})})},[]);const T=p===g&&m===g,I=p===g?v*b:p*b,C=m===g?_*b:m*b;return a.a.createElement(i.Fragment,null,a.a.createElement(l.e,{display:"flex",alignItems:"center",justifyContent:"between"},a.a.createElement(l.V,{weight:"bold"},o.a._("Price","Header of product price filter","Header of product price filter")),a.a.createElement(l.e,{flex:"none"},a.a.createElement(l.u,{icon:S?"arrow-up":"arrow-down",iconColor:"darkGray",accessibilityLabel:o.a._("Price filter","accessibility label for the icon button to open or close price filter","accessibility label for the icon button to open or close price filter"),onClick:()=>{O(!S),Object(s.b)(101,{component:13468,element:11547,view:E,viewParameter:y,commerce_data:JSON.stringify({filter:S?"collapsed":"expanded"})}),S||Object(s.b)(13,{component:13468,view:E,viewParameter:y,commerce_data:JSON.stringify({source:r(e)})})},size:"sm"}))),S?a.a.createElement(l.e,{direction:"column",paddingY:4},a.a.createElement(l.e,{display:"flex",direction:"row"},a.a.createElement(l.l,{span:7},a.a.createElement(l.V,{size:"md"},o.a._("Min","Minimum Price","Minimum Price"))),a.a.createElement(l.l,{span:5},a.a.createElement(l.V,{size:"md"},o.a._("Max","Maximum Price","Maximum Price")))),a.a.createElement(l.e,{alignItems:"center",display:"flex",direction:"row",marginTop:2,justifyContent:"center"},a.a.createElement(l.l,{span:5},a.a.createElement(h.a,{id:"min_price",autoComplete:"off",placeholder:`${w}${v}`,onValueParsed:e=>{u((e||0)/b)},currencyCode:t,valueInMicroCurrency:T?null:I,roundValue:!0})),a.a.createElement(l.l,{span:2},a.a.createElement(l.V,{align:"center",color:"gray",size:"md"},o.a._("to","Min to Max","Min to Max"))),a.a.createElement(l.l,{span:5},a.a.createElement(h.a,{id:"max_price",autoComplete:"off",placeholder:`${w}${_}`,onValueParsed:e=>{d((e||0)/b)},currencyCode:t,valueInMicroCurrency:T?null:C,roundValue:!0})))):a.a.createElement(l.V,{size:"md",color:"gray"},function(e,t,n,i,a){return i===g&&a===g?o.a._("All","text indicates that no price filter is currently applied for filtering","text indicates that no price filter is currently applied for filtering"):i===g?`${e}${a} – ${e}${t}+`:a===g?`${e}${n} – ${e}${i}`:`${e}${a} – ${e}${i}`}(w,_,v,m,p)))}function E({categoryFilters:e,domainFilters:t,minPrice:n,maxPrice:i,priceFilters:a}){const r=o.a._("Filters","Filter icon button to open drawer containing price filter and domain filters on related products feed","Filter icon button to open drawer containing price filter and domain filters on related products feed"),s=function({categoryFilters:e,domainFilters:t,minPrice:n,maxPrice:i,priceFilters:a}){return(i||n?1:0)+(t?t.split(",").length:0)+(e?e.split(",").length:0)}({categoryFilters:e,domainFilters:t,minPrice:n,maxPrice:i,priceFilters:a});return`${r}${s>0?` (${s})`:""}`}const w=-1;function _(e=[]){return e.map(e=>({...e,checked:!1}))}function v(e=[]){return e.map(e=>({...e,checked:!1}))}function S(e){return e.filter(e=>e.checked).map(e=>e.domain).join(",")}function O(e){return e.filter(e=>e.checked).map(e=>e.label).join(",")}function T({categoryFilters:e,cropSource:t,domainFilters:n,drawerHeight:d,handleDrawerClose:u,handleFilterChange:h,onSubmit:f,pinId:g,priceFilters:b,submittedFilters:T,updateButtonText:I,width:C,viewParameter:x,viewType:P}){Object(i.useEffect)(()=>{Object(s.b)(13,{component:13467,view:P,viewParameter:x,commerce_data:JSON.stringify({source:r(t)})})},[]);const R=_(n),k=v(e),{category:j,domain:A,max:D,min:L}=T||{};j&&decodeURI(j).split(",").forEach(e=>k.forEach(t=>t.label===e?t.checked=!0:null)),A&&decodeURI(A).split(",").forEach(e=>R.forEach(t=>t.domain===e?t.checked=!0:null));const[N,M]=Object(i.useState)(b),[B,F]=Object(i.useState)(w),[z,H]=Object(i.useState)(w),[V,U]=Object(i.useState)(R),[G,q]=Object(i.useState)(k),[W,Y]=Object(i.useState)(w),[$,K]=Object(i.useState)(w),[J,X]=Object(i.useState)(""),[Q,Z]=Object(i.useState)(""),[ee,te]=Object(i.useState)(!1);Object(i.useEffect)(()=>{n&&!A&&U(_(n)),!b||D&&L||M(b),e&&!j&&q(v(e)),L&&H(parseInt(L,10)),D&&F(parseInt(D,10)),A&&U(V),j&&q(G),I&&I(E({categoryFilters:O(G),domainFilters:S(V),maxPrice:B===w?void 0:B,minPrice:z===w?void 0:z,priceFilters:N}))},[j,A,e,n,b,D,L]);const{max_value:ne,min_value:ie,currency_type:ae}=N||{},re=e=>t=>{const n=(t||0)<0?0:t;n&&Object(s.b)(7472,{component:13468,view:P,viewParameter:x});let i=J!==S(V)||Q!==O(G);"max"===e?(F(n||ne),z===w&&H(ie),i=i||W!==n||$!==z):(H(n||0),B===w&&F(ne),i=i||$!==n||W!==B),te(i)},oe=({categoryParam:e,domainParam:t,maxPrice:n,minPrice:i})=>{h({categoryParam:e,domainParam:t,maxPrice:n!==w?n:void 0,minPrice:i!==w?i:void 0}),Y(n),K(i),X(t),Z(e),te(!1);const a=n!==w,r=""!==t,o=""!==e,l=i!==w?i.toString():"",c=a?n.toString():"",d=r?encodeURI(t):"",u=o?encodeURI(e):"";f&&f({category:u,domain:d,max:c,min:l}),I&&I(E({categoryFilters:e,domainFilters:t,maxPrice:n===w?void 0:n,minPrice:i===w?void 0:i,priceFilters:N})),W===n&&$===i||Object(s.b)(7472,{component:13468,view:P,viewParameter:x}),J!==t&&Object(s.b)(7472,{component:13469,view:P,viewParameter:x}),Q!==e&&Object(s.b)(7472,{component:13535,view:P,viewParameter:x})};return a.a.createElement(i.Fragment,null,a.a.createElement(l.e,{display:"flex",direction:"column",overflow:"scroll",height:d-50-70,width:"100%",paddingX:1,paddingY:1},a.a.createElement(l.e,{alignItems:"center",display:"flex",justifyContent:"between",marginBottom:3},a.a.createElement(l.V,{weight:"bold"},o.a._("Filter","shopping.filter.header","Header for the types of filters")),a.a.createElement(l.f,{inline:!0,onClick:()=>{F(w),H(w),U(_(V)),q(v(G)),oe({categoryParam:"",domainParam:"",maxPrice:w,minPrice:w}),Object(s.b)(101,{component:13467,element:11545,view:P,viewParameter:x})},size:"md",text:o.a._("Clear all","filter.clear.button","Button to clear all set filters on product group filters")})),!!N&&a.a.createElement(p,null,a.a.createElement(y,{cropSource:t,currencyCode:ae,defaultMaxPrice:ne,defaultMinPrice:ie,handleMaxPriceChange:re("max"),handleMinPriceChange:re("min"),maxPrice:B,minPrice:z,viewParameter:x,viewType:P})),!!G&&G.length>0&&4!==t&&a.a.createElement(p,null,a.a.createElement(c,{cropSource:t,categoryFilters:G,handleCategoryChange:e=>{const t=!G[e].checked,n=[...G.slice(0,e),{...G[e],checked:t},...G.slice(e+1)],i=J!==S(V),a=Q!==O(n),r=W!==B||$!==z||i||a;q(n),te(r),a&&Object(s.b)(101,{component:13535,element:11548,view:P,viewParameter:x,pin_id:g,commerce_data:JSON.stringify({select:t,category:G[e].label})})},viewParameter:x,viewType:P})),!!V&&V.length>0&&a.a.createElement(p,null,a.a.createElement(m,{cropSource:t,domainFilters:V,handleDomainChange:e=>{const n=!V[e].checked,i=[...V.slice(0,e),{...V[e],checked:n},...V.slice(e+1)],a=J!==S(i),o=Q!==O(G),l=W!==B||$!==z||a||o;U(i),te(l),a&&Object(s.b)(101,{component:13469,element:11548,view:P,viewParameter:x,pin_id:g,commerce_data:JSON.stringify({domain:V[e].domain,select:n,source:r(t)})})},viewParameter:x,viewType:P}))),a.a.createElement(l.e,{color:"white",display:"flex",justifyContent:"center",position:"fixed",width:C},a.a.createElement(l.e,{display:"flex",direction:"row",paddingY:2,dangerouslySetInlineStyle:{__style:{whiteSpace:"nowrap"}}},a.a.createElement(l.e,{marginStart:2},a.a.createElement(l.l,{span:6},a.a.createElement(l.f,{inline:!0,size:"md",text:o.a._("Confirm","Button to submit all selected filter options","Button to submit all selected filter options"),type:"submit",disabled:!ee,color:"red",onClick:()=>{const e=S(V),t=O(G);oe({categoryParam:t,domainParam:e,maxPrice:B,minPrice:z}),Object(s.b)(101,{component:13467,element:11546,view:P,viewParameter:x})}}))))))}var I=n("0Rm8"),C=n("3Pf9");function x({categoryFilters:e,cropSource:t,domainFilters:n,isDrawerOpen:r,handleDrawerClose:o,handleFilterChange:s,handleSubmit:c,pinId:d,priceFilters:u,submittedFilters:m,updateButtonText:p,viewParameter:h=3455,viewType:f}){const g=Object(I.b)(),b=g+60,[y,E]=Object(i.useState)(0),w=()=>{E(window.innerHeight-g)};return Object(i.useEffect)(()=>(w(),window.addEventListener("resize",w),()=>{window.removeEventListener("resize",w)}),[]),a.a.createElement(l.e,{color:"white",height:y,width:C.b,paddingX:C.c,position:"fixed",left:!0,dangerouslySetInlineStyle:{__style:{marginRight:r?0:-C.b,visibility:r?"visible":"hidden",zIndex:2,top:b}}},a.a.createElement(T,{categoryFilters:e,cropSource:t,domainFilters:n,drawerHeight:y,handleDrawerClose:o,handleFilterChange:s,onSubmit:c,pinId:d,priceFilters:u,submittedFilters:m,width:C.b-C.c*C.a*2,updateButtonText:p,viewParameter:h,viewType:f}))}},uOrA:function(e,t,n){e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},"v/Q4":function(e,t,n){n.d(t,"a",(function(){return a}));var i=n("/MKj");function a(){return Object(i.useSelector)(({viewer:e})=>e)}},vZlu:function(e,t,n){n.d(t,"e",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s}));const i=e=>({type:"TOGGLE_TYPEAHEAD_OVERLAY",payload:{value:e}});function a(e){const{currentTime:t,isPromoted:n,pinId:i}=e;return{type:"SET_CURRENT_VIDEO",payload:{pinId:i,isPromoted:n,currentTime:t}}}function r(e){return{type:"SET_IS_AUTOPLAY",payload:{isAutoplay:e}}}function o(e){const{currentTime:t,isPromoted:n,pinId:i}=e;return{type:"PAUSE_CURRENT_VIDEO",payload:{currentTime:t,pinId:i,isPromoted:n}}}function s(e){return{type:"SET_APP_FOCUS_STATE",payload:{appInFocus:e}}}},vpxy:function(e,t,n){var i=n("q1tI"),a=n.n(i),r=n("/MKj"),o=n("9WJf"),s=n("ynlw"),l=n("078/");function c({isGroupBoard:e,pin:t,surface:n}){const{buyable_product:i,carousel_data:a,grid_title:r,rich_summary:o,title:c}=t,{isOwnPin:d,isPromoted:u}=Object(s.a)(t);if(a){const{carousel_slots:e=[],index:t}=a;if(e[t]&&e[t].title)return e[t].title.trim()}if(u){if(l.a.includes(n))return r||"";if(d&&!e&&!a&&"UserProfilePinGrid"!==n)return"";const t=o&&"mobile application"!==o.type_name&&o.display_name,s=i&&i.title;return c||t||s||r||""}return r||""}const d=["EngagementDetails","OtherProfilePinGrid","UserProfilePinGrid"];var u=n("JW66");var m=n("QLqj"),p=n("XPo3"),h=n("mVz+");function f({hasCarouselData:e,isDenseView:t,isPromoted:n,isSocialSeasonalBoard:i,pinImageCrop:a,pinImageFit:r,resolution:o,showPromotedVideos:s,surface:l}){let c="backend";"CloseupRelatedProducts"===l?c={height:h.a,width:h.b}:"TopicBestPinWide"===l?c={height:p.h,width:p.i}:"TopicBestPinNarrow"===l?c={height:p.b,width:p.c}:["ArticleProductsStory","ShoppingSquareGridCrop","ShoppingSquareGridDomain","ShoppingSquareGridHomefeedBoth","ShoppingSquareGridRelatedProducts","ShoppingSquareGridRelatedProductsBoth","ShoppingSquareGridStorefront","ShoppingSquareGridStorefrontDomain"].includes(l)?c={height:h.o,width:h.o}:a&&(c=a);const d=["ShoppingSquareGridDomain","ShoppingSquareGridHomefeedBoth","ShoppingSquareGridRelatedProducts","ShoppingSquareGridRelatedProductsBoth","ShoppingSquareGridStorefront","ShoppingSquareGridStorefrontDomain"].includes(l);let f="none";"string"!=typeof c&&(f="cover",(d||"ShoppingSquareGridCrop"===l&&n||"ShoppingDynamicHeightGrid"===l&&!r)&&(f="contain"));const g=d||"ShoppingDynamicHeightGrid"===l?"transparent":"dominant",b=(e=>{if("undefined"==typeof window)return"";let t=0;const n=document.querySelector('[data-test-id="header"]');if(null!==n){const{height:e}=n.getBoundingClientRect();t+=e}switch(e){case"AuthHomefeed":const e=document.querySelector('[data-root-margin="more-ideas-tabs"]');if(null!==e){const{height:n}=e.getBoundingClientRect();t+=n}break;case"SearchItem":const n=document.querySelector('[data-root-margin="search-improvements-bar"]');if(null!==n){const{height:e}=n.getBoundingClientRect();t+=e}}return-1*t+"px 0px 0px 0px"})(l);return{autoplaySettingOff:"undefined"!=typeof window&&0===m.c.getItem(u.a.VIDEO_AUTOPLAY_LOCAL_STORAGE_KEY),fallbackColor:g,imageFit:f,isDenseView:t,isSocialSeasonalBoard:i,resolution:null!=o?o:"default",rootMargin:b,pinImageCrop:c,showCarousel:e&&!["ShoppingSquareGridStorefrontDomain","ShoppingSquareGridStorefront"].includes(l),showPromotedVideos:s}}const g=["ShoppingCatalogsProductsMetadata"];var b=n("8A+h"),y=n("clxp");const E={BaseBoardPinGrid:"boardPinView",UserProfilePinGrid:"profilePinView"};var w=n("1Fta"),_=n("Ye/N"),v=n("vvax");var S=n("63p3");var O=n("Zygf");var T=n("v/Q4"),I=n("gC5q"),C=n("T5j3"),x=n("Y8Sn"),P=n("ENhS"),R=n("gD/Z"),k=n("N89m"),j=n("EPem");const A=["CloseupRelatedProducts","ConversationView","CreatorProfilePinGrid","ProductPinsFeed","UserProfilePinGrid"];function D({attributionOption:e,board:t,boardActivityOptions:n,contentType:i,feedbackData:a,feedbackType:r,hasCarouselData:o,isGroupBoard:l,isOwnBoard:d,pin:u,showBoardActivityComments:m,showImageOnly:p,showNativeReactions:h,surface:f,viewer:g}){const{isPromoted:b}=Object(s.a)(u),{promoter:y,unified_user_note:E,pin_note:w}=u,_=function({attributionOption:e,feedbackType:t,isGroupBoard:n,pin:i,showImageOnly:a,surface:r}){const{is_downstream_promotion:o,native_creator:s,promoter:l,sponsorship:c}=i;if("promoted"===t||l&&!o||c)return"default";if(A.includes(r))return"none";if(n)return"none";let d="default";return e&&("image-only"===e?d="image-only-credit":"hide"===e&&(d="none")),"followed"!==t||a?["IdeasHubSeasonalRow","TodayArticleFeed","ShoppingPackageItem"].includes(r)&&"hide"===e?d:"TodayArticleFeed"===r&&"show"===e?"show-for-claimed-content":s?"default":"none":d}({attributionOption:e,feedbackType:r,isGroupBoard:l,pin:u,showImageOnly:p,surface:f}),v=p?"":c({isGroupBoard:l,pin:u,surface:f}),S=!["ShoppingPackageItem","ShoppingSquareGridDomain","ShoppingSquareGridStorefrontDomain","ShoppingSquareGridStorefront"].includes(f)&&!b&&!p&&Boolean(Object(k.a)(u)),O="BaseBoardPinGrid"===f&&!b&&E?E.trim():null,T="BaseBoardPinGrid"===f&&w?w.text.trim():null,I=b,C="shopping"===i,x=/ShoppingSquareGridRelatedProducts/.test(f);let P=2;b?P=3:(S||"none"!==_)&&(P=C||x?2:1);let R,D;if(C||b&&x){var L,N;const e=null===(L=u.rich_summary)||void 0===L||null===(N=L.products)||void 0===N?void 0:N[0],{offer_summary:t}=e||{};R=t?t.standard_price:void 0,D=t?t.price||t.max_price:void 0}const M=C||["ShoppingDynamicHeightGrid","ShoppingSquareGridCrop","ShoppingSquareGridDomain","ShoppingSquareGridHomefeedBoth","ShoppingSquareGridRelatedProducts","ShoppingSquareGridRelatedProductsBoth","ShoppingSquareGridStorefront","ShoppingSquareGridStorefrontDomain"].includes(f)?20:30;let B;B=l?25:"CloseupRelatedProducts"===f?23:M;return{attributionType:_,contentType:i,feedbackData:a,feedbackType:r,isDarkPromoter:!b&&!!y,pinNoteText:T,pinTitle:v,productOriginalPrice:R,productCurrentPrice:D,showBoardActivityComments:m,showBoardActivityReply:"no-reply"!==n,showCarouselEllipsis:o,showGroupBoardAvatar:l,showOverflowMenu:I,showPinStats:Object(j.c)(u,g),showNativeReactions:h,showSource:S,showTextContent:"CreatorProfilePinGrid"!==f,singleLineMaxLength:B,titleLines:P,useLegoPadding:m,userNote:O,board:t}}var L=n("g5OB"),N=n("W5T3"),M=n("QAzJ"),B=n("0S8y");const F=["ArticleProductsStory","BoardNoteSelectablePin","BulkEditMode","EngagementDetails","IdeasHubSeasonalRow","OtherProfilePinGrid","SectionSuggestedPins","TopicBestPinNarrow","TopicBestPinWide"],z=["BoardCreateUpsell","BoardNoteSelectablePin","BoardNotePin","BulkEditMode","EngagementDetails","SectionSuggestedPins"],H=["BoardCreateUpsell","BoardNoteSelectablePin","BoardNotePin","BulkEditMode","ConversationView","EngagementDetails","SectionSuggestedPins","ShoppingCatalogsProductsMetadata"];t.a=Object(r.connect)((function({boards:{isSocialSeasonalBoard:e=!1,content:t={}},groupBoardGridComments:n,pins:i},{pin:a,pinId:r}){const o=i[r]||a,s=o.board&&o.board.id,l=(s?t[""+s]:void 0)||o.board,{board_activity:c}=o;return{board:l,hasComments:!!(c&&c.id&&n&&n[c.id]&&n[c.id].length),isSocialSeasonalBoard:e,reduxPin:o}}),()=>({}))((function({blockClickEvents:e,attributionOption:t,board:n,boardActivityOptions:u,debugImpressionState:m,feedbackOptions:p,hasComments:h,imageOnlyOption:k="default",isSocialSeasonalBoard:j,pinImageCrop:A,pinImageFit:V,reduxPin:U,resolution:G="default",saveButtonOptions:q,surface:W,trackingParameters:Y,...$}){const{collaborated_by_me:K,collaborator_count:J,is_collaborative:X}=n||{},{pinner:Q,showFeedback:Z,sponsorship:ee}=U,te=Object(O.a)(U),ne=Object(T.a)(),{slotIndex:ie,viewParameter:ae}=Y,{anyEnabled:re}=Object(M.a)("web_repin_flow",["AuthHomefeed","BaseBoardPinGrid"].includes(W)),oe=Object(r.useSelector)(({ui:e})=>e.views),se=Object(r.useSelector)(({ui:e})=>e),le=se.app?se.app.videosAutoplaying:{organicVideosAutoplaying:{},promotedVideosAutoplaying:{}},ce=Object(x.k)(U.id,le),de=function(e){const t=e.rich_metadata&&e.rich_metadata.products&&e.rich_metadata.products[0]&&e.rich_metadata.products[0].additional_images;return!!(t&&t.length>0)}(U),ue=Object(S.a)(U)||de,me=ne.isAuth&&ne.isEmployee,pe=ne.isAuth&&(Object(B.c)({user:ne})||Object(B.e)({user:ne}))&&!ne.isPartner;let he=pe;"TodayArticleFeed"===W&&(he=!1),"default"!==k&&(he="image-only"===k),function(e){return l.c.includes(e)}(W)&&(he=!1);let fe=t;pe&&!fe&&(fe="image-only");const ge=function({feedbackOptions:e,pin:t,viewParameter:n}){const{board:i,pinner:a}=t,{getFeedbackType:r}=Object(w.a)({i18n:_.a,interpolateNamedTemplate:v.b});return r({board:i,feedback:e,pin:t,pinner:a,viewParameter:n})}({feedbackOptions:p,pin:U,viewParameter:ae}),{data:be}=p||{},ye=J>0||X,Ee=function(e,t){if("OtherProfilePinGrid"===t)return!0;const n=E[t];return!!n&&"dense"===e[n]}(oe,W),we=ye&&"BaseBoardPinGrid"===W,_e=Object(b.a)(ne,n),ve=Boolean(ne.isAuth&&Q&&Q.id===ne.id),Se=K||ye&&_e,Oe=ne.isAuth&&ne.isPartner,Te=U.is_quick_promotable&&"ShoppingSquareGridHomefeedBoth"!==W,{anyEnabled:Ie}=Object(M.a)("web_lego_save_flow"),Ce=Object(i.useMemo)(()=>function({board:e,isDenseView:t,isGroupBoard:n,isInlineBetterSave:i,isOwnBoard:a,isOwnPin:r,isQuickPromotable:s,isRemovable:c,saveButtonOptions:d,surface:u,viewer:m,viewerIsCollaborator:p,shouldUseLegoStyles:h}){const f=m.isAuth?m.boardCount:void 0;let b=d||function(e=0){return 0===e?{type:"classic"}:{type:"inline"}}(f);s?b={type:"promote"}:(p||a||["OtherProfilePinGrid","UserProfilePinGrid"].includes(u))&&(b={type:"classic"}),i&&(b={type:"inline",hidePinBetterSaveDropdown:"BaseBoardPinGrid"===u}),(c||g.includes(u))&&(b={type:"none"});const y=a&&!n,E=e&&Object(o.a)({action:4,board:e})||r;return{board:e,derivedSaveButtonOptions:b,showEditButton:Boolean(y||"UserProfilePinGrid"===u&&E),showLikeButton:p&&n&&l.d.includes(u),supportsReactionBar:!t,shouldUseLegoStyles:h}}({isDenseView:Ee,isGroupBoard:we,isOwnBoard:_e,isOwnPin:ve,isQuickPromotable:Te,isRemovable:te,saveButtonOptions:q,surface:W,viewer:ne,viewerIsCollaborator:Se,board:n,isInlineBetterSave:re,shouldUseLegoStyles:Ie}),[we,_e,ve,Te,te,q,W,ne,n,re,Ie]),{isPromoted:xe}=Object(s.a)(U),{anyEnabled:Pe,group:Re}=Object(M.c)("web_shopping_grid_labels");let ke;Pe&&["ShoppingDynamicHeightGrid","ShoppingSquareGridCrop","ShoppingSquareGridDomain","ShoppingSquareGridHomefeedBoth","ShoppingSquareGridRelatedProducts","ShoppingSquareGridRelatedProductsBoth","ShoppingSquareGridStorefront","ShoppingSquareGridStorefrontDomain"].includes(W)&&!xe&&(["enabled_popular_bestseller_colorful","enabled_popular_colorful","enabled_pwt","employees"].includes(Re)?ke="pine":["enabled_popular_bestseller_neutral","enabled_popular_neutral"].includes(Re)&&(ke="white"));const je=Object(i.useMemo)(()=>function({allowProductCarousel:e=!1,shoppingLabelColor:t,surface:n}){return{allowProductCarousel:e,allowShoppingPriceIndicator:l.b.includes(n),shoppingLabelColor:t}}({allowProductCarousel:de,shoppingLabelColor:ke,surface:W}),[de,ke,W]),Ae=ue,De=Object(i.useMemo)(()=>function({board:e,feedbackData:t,feedbackType:n,isDenseView:i,isGroupBoard:a,isOwnBoard:r,pin:l,surface:u}){const m=Boolean(null==e?void 0:e.is_collaborative),{isOwnPin:p,isPromoted:h}=Object(s.a)(l),f=c({isGroupBoard:a,pin:l,surface:u}),g=e&&Object(o.a)({action:4,board:e})||p;let b="default";return i&&(b=a?"icon-only":"truncated-text"),{actionBarEditBeforeShare:m,feedbackData:t,feedbackType:n,layout:a&&i?"equally-spaced":"default",pinTitle:f,showEditButton:a&&g,showOverflowMenu:!(h||r||a||d.includes(u)),showShareButton:"CloseupRelatedProducts"!==u,sourceLinkStyle:b}}({board:n,feedbackData:be,feedbackType:ge,isDenseView:Ee,isGroupBoard:we,isOwnBoard:_e,pin:U,surface:W}),[n,be,ge,Ee,we,_e,U,W]),{anyEnabled:Le}=Object(M.a)("web_deprecate_expanded_gb_comment_in_pin_grid",n&&n.is_collaborative),Ne=!(!(n&&n.is_collaborative&&"BaseBoardPinGrid"===W&&h)||Le),Me=!xe&&["ShoppingCatalogsProductsMetadata","ShoppingDynamicHeightGrid","ShoppingSquareGridCrop","ShoppingSquareGridDomain","ShoppingSquareGridHomefeedBoth","ShoppingSquareGridRelatedProductsBoth","ShoppingSquareGridRelatedProductsMetadata","ShoppingSquareGridStorefront","ShoppingSquareGridStorefrontDomain"].includes(W)?"shopping":"standard",Be=Object(C.c)(U),Fe=Object(i.useMemo)(()=>D({attributionOption:fe,board:n,boardActivityOptions:u,contentType:Me,feedbackData:be,feedbackType:ge,hasCarouselData:ue,isGroupBoard:we,isOwnBoard:_e,pin:U,showBoardActivityComments:Ne,showImageOnly:he,showNativeReactions:Be,surface:W,viewer:ne}),[fe,n,u,be,ge,ue,we,_e,U,Ne,he,W,ne]),ze=Boolean(Fe.pinTitle)||Fe.contentType||Fe.userNote||Fe.showSource||"none"!==Fe.attributionType||Fe.showNativeReactions||Fe.productCurrentPrice||Fe.productOriginalPrice||Fe.showPinStats,{anyEnabled:He}=Object(M.a)("mweb_web_sponsored_pins",!!ee);let Ve=ze||we;"BaseBoardPinGrid"===W&&_e&&Oe||ee&&He?Ve=!0:F.includes(W)||Ee&&_e||j?Ve=!1:ve||"CreatorProfilePinGrid"!==W||(Ve=!1);const Ue=Boolean(Z),{anyEnabled:Ge,customActivate:qe}=Object(M.b)("web_others_board_feed_ads_border");let We=!1;"BaseBoardPinGrid"===W&&xe&&(We=Ge,qe());const Ye={showNoPinBorderRadius:"TopicBestPinNarrow"===W||"TopicBestPinWide"===W,showPromotedPinBorderTreatment:We,shouldUseLegoWash:!!Ie},{anyEnabled:$e}=Object(M.a)("hfp_homefeed_control_cta_variants"),Ke=Ue?{feedbackType:ge,isHomefeedTunerVariantExp:$e}:void 0,{anyEnabled:Je}=Object(M.c)("ads_desktop_video_ads"),Xe=A&&"string"!=typeof A?[A.height,A.width]:[A],Qe=Object(i.useMemo)(()=>f({hasCarouselData:ue,isDenseView:Ee,isPromoted:xe,isSocialSeasonalBoard:j,pinImageCrop:A,pinImageFit:V,resolution:G,showPromotedVideos:Je,surface:W}),[ue,Ee,j,G,Je,W,...Xe]),Ze=me&&Object(N.a)(),et=Object(i.useMemo)(()=>({debugImpressionState:m,slotIndex:ie}),[m,ie]);return a.a.createElement(y.a,{name:"PinRepConfiguration"},a.a.createElement(R.a,{value:Y},a.a.createElement(P.a,{value:{surface:W}},a.a.createElement(L.b,Object.assign({actionBarProps:De,blockClickEvents:e,currentlyPlayingVideo:ce,footerProps:Fe,forcePrimaryContentVisibility:["HomefeedMoreIdeasTabs"].includes(W),impressionsDebuggerProps:et,obscuredPinOverlayProps:Ke,pin:U,pinVisualProps:Qe,presentationProps:Ye,primaryContentProps:Ce,secondaryContentProps:je,showAccessoryContent:Ae,showActionBar:!H.includes(W),showFooter:Ve,showImpressionsDebugger:Ze,showObscuredPinOverlay:Ue,showPrimaryAndSecondaryContent:!z.includes(W),showSignalDebugger:me,surface:W},Object(I.b)($,["pinId"]))))))}))},vvax:function(e,t,n){var i=n("qpbZ");n.d(t,"b",(function(){return i.b})),n.d(t,"a",(function(){return i.a}))},w70y:function(e,t,n){n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return p}));var i=n("q1tI"),a=n.n(i),r=n("/MKj"),o=n("lSCD"),s=n.n(o),l=n("aK+E"),c=n("EC67"),d=n("Wer7");const u={};function m({acceptPrefetch:e,allowStale:t,enabledRouteRefresh:n,dangerouslyDisableFetch:a,options:o,name:s,headers:m}){const p=Object(r.useDispatch)(),h=Object(l.a)(o),f=Object(i.useRef)(),g=e=>(e[s]||u)[h]||u,{isPrefetch:b,nextBookmark:y,prefetchHasBeenRead:E}=Object(r.useSelector)(({resources:e})=>g(e.data)),w=Object(r.useSelector)(({resources:e})=>g(e.data).data),_=Object(r.useSelector)(({resources:e})=>g(e.data).auxData),v=Object(r.useSelector)(({resources:e})=>g(e.data).error),S=Object(r.useSelector)(({resources:e})=>Boolean((e.fetching[s]||u)[h])),O=Object(r.useSelector)(({resources:e})=>Boolean((e.data[s]||u)[h])),T=Object(c.g)(),I=T&&"POP"!==T.action,C=Boolean(O&&n&&I&&!a),[x,P]=Object(i.useState)(C);void 0===f.current&&O&&I&&e&&b&&!E&&!a&&p(Object(d.h)(s,o));const R=Object(i.useCallback)(()=>{a||p(Object(d.a)(s,o,m))},[a,p,m,s,h]),k=Object(i.useCallback)(()=>{a||p(Object(d.d)(s,o,m))},[a,m,s,h]),j=Object(i.useCallback)(()=>{a||(R(),P(!0))},[a,R,P]),A=Object(i.useRef)({auxData:void 0,data:void 0,error:void 0,fetchMore:k,isAtEnd:!1,isFetching:!1,isLoaded:!1,isPrefetch:void 0,isRefreshing:!1,nextBookmark:void 0,prefetchHasBeenRead:void 0,refreshData:j});Object(i.useEffect)(()=>{!1!==t&&O&&!C||R()},[]),Object(i.useEffect)(()=>{void 0!==f.current&&h!==f.current&&R(),f.current=h},[h]);const D={auxData:_,data:w,error:v,fetchMore:k,isAtEnd:O&&!S&&"-end-"===y,isFetching:S,isLoaded:O,isPrefetch:b,isRefreshing:x,nextBookmark:y,prefetchHasBeenRead:E,refreshData:j};return Object(r.shallowEqual)(D,A.current)||(!x||!A.current.data&&C||Object(r.shallowEqual)(D.data,A.current.data)||(D.isRefreshing=!1,P(!1)),A.current=D),A.current}function p(e){const t=e.key;return function(n){function i(i){const{dangerouslyDisableFetch:r,options:o,key:l,...c}=e,d=m({...c,options:(s()(o)?o(i):o)||{},dangerouslyDisableFetch:!!r&&r(i)}),u={[t]:d};return a.a.createElement(n,Object.assign({},i,u))}return i.displayName=`withResource[${e.name}](${n.displayName||n.name||""})`,i.WrappedComponent=n,i}}},wzxk:function(e,t,n){n.d(t,"d",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return l}));var i=n("9Hsp");const a=e=>"string"==typeof e?e:"",r=e=>e.story_pin_data&&e.story_pin_data.metadata&&e.story_pin_data.metadata.pin_title||e.title,o=e=>{const{grid_title:t}=e||{},{hasRichAttributionTitle:n,hasPlaceInfo:i}=(e=>{const{place_summary:t,rich_summary:n}=e||{},i=n&&"mobile application"!==n.type_name;return{hasRichSummary:i,hasRichAttributionTitle:i&&n.display_name,hasPlaceInfo:!!t}})(e),a=r(e);return t&&t.trim()?t.trim():n?(e=>{const{rich_summary:t}=e;let{apple_touch_icon_images:n,favicon_images:i}=t;return n=n||{},i=i||{},{faviconLink:n["50x"]||i["50x"]||n.orig||i.orig,siteName:t.site_name||e.domain,title:t.display_name}})(e).title:i?(e=>{const{place_summary:t}=e;return{faviconLink:t.source_icon,siteName:t.source_name||e.domain,title:t.name}})(e).title:e.rich_metadata&&e.rich_metadata.title?e.rich_metadata.title:e.story_pin_data_id&&a?a:null},s=e=>{const t=e.pin_join||{},n=t.visual_annotation||[],a=n.map(e=>(t.annotations_with_links||{})[e]||{name:e,url:""});let r="";const o=(e.rich_metadata||{}).description||"",s=e.closeup_unified_description||"",l=(e=>e.rich_summary&&e.rich_summary.display_name||e.place_summary&&e.place_summary.name||"")(e).toLocaleLowerCase().trim(),c=o.toLocaleLowerCase().trim(),d=s.toLocaleLowerCase().trim();return s&&s.length>3&&d!==l?r=s:o&&o.length>3&&c!==l&&(r=o),r&&(r=Object(i.a)(Object(i.b)(r,496)).trim()),{description:r,vaseAnnotations:n,annotationsWithLinks:a}},l=(e,t,n)=>{const i=a(e);let r=i;if(n){const e=n.seo_description;if(e){const n=e.toLowerCase(),o=a(t);n!==i.toLowerCase()&&n!==o.trim().toLowerCase()&&(r=e)}let o=n.visual_annotation;o&&(o=o.join(", "),r&&(r+=" "),r+=o)}return r}},"x/xQ":function(e,t){e.exports="https://s.pinimg.com/webapp/style/images/love-c31e0b8d.svg"},xjqW:function(e,t,n){function i({id:e,isProduct:t,isPromoted:n,videoDuration:i,viewParameter:a,viewType:r,type:o}){return{type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:t,isPromoted:n,videoDuration:i,viewParameter:a,viewType:r,type:o}}}function a(){return{type:"REPORT_CONTENT_DISMISS"}}n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a}))},yKES:function(e,t,n){n.d(t,"a",(function(){return l}));var i=n("q1tI"),a=n.n(i),r=n("Ye/N"),o=n("US8k"),s=n("n6mq");function l({duration:e}){return a.a.createElement(s.e,{alignItems:"center",color:"transparentDarkGray",display:"flex",height:24,justifyContent:"center",paddingX:2,rounding:"pill"},a.a.createElement(s.t,{accessibilityLabel:r.a._("Video camera icon","Video camera indicator icon for a Pin","Video camera indicator icon for a Pin"),color:"white",icon:"video-camera"}),a.a.createElement(s.e,{marginStart:1},a.a.createElement(s.V,{color:"white",size:"sm",truncate:!0},Object(o.a)(e))))}},yNOO:function(e,t,n){var i=n("Q3yk"),a=n("uhAL");t.a=({initialCropArea:e,pin:t,disableInitialCrop:n})=>{let r;if(e)r={...e};else{const{visual_objects:e}=t,{width:o,height:s}=Object(i.a)(t);if(n)r={x:0,y:0,w:o,h:s};else if(e&&e.length){const{x:t,y:n,w:i,h:l}=e[0];r=Object(a.e)({cropArea:{x:t,y:n,w:i,h:l},scaledWidth:o,scaledHeight:s})}else{const[e,t]=[o/6,s/6],[n,i]=[o-2*e,s-2*t];r={x:e,y:t,w:n,h:i}}}return{x:Math.floor(r.x),y:Math.floor(r.y),w:Math.floor(r.w),h:Math.floor(r.h)}}},yaUg:function(e,t,n){var i=n("Q2/A");const a=/\{\{\s*(\w+)\s*\}\}/g;t.a=(e,t)=>Object(i.a)(a,e,t)},yqcB:function(e,t,n){n.d(t,"a",(function(){return s}));var i=n("gg0E"),a=n("q1tI"),r=n("y2Ga"),o=n("SyXB");function s({children:e,isAtEndOfFeed:t,itemCount:n,includeBackgroundImages:s=!1}){return Object(i.b)({isAtEndOfFeed:t,includeBackgroundImages:s}),function(e){const t=Object(r.c)(),n=Object(a.useRef)(null);Object(a.useEffect)(()=>{e!==n.current&&(n.current=e,t&&Object(o.c)(o.a))},[!!t,e])}(n),e}},zJ39:function(e,t,n){var i=n("qLDv");t.a=e=>`@keyframes shopButtonSlideInThenOut {\n    0% {\n      width: 44px;\n    }\n\n    15% {\n      width: ${e+i.a}px;\n    }\n\n    85% {\n      width: ${e+i.a}px;\n    }\n\n    100% {\n      width: 44px;\n    }\n  }\n\n  @keyframes shopButtonSlideIn {\n    0% {\n      width: 44px;\n    }\n\n    100% {\n      width: ${e+i.a}px;\n    }\n  }\n\n  @keyframes shopButtonSlideOut {\n    0% {\n      width: ${e+i.a}px;\n    }\n\n    100% {\n      width: 44px;\n    }\n  }\n\n  @keyframes revealShopText {\n    from {\n      clip-path: inset(0 100% 0 0);\n    }\n    to {\n      clip-path: inset(0 0 0 0);\n    }\n  }\n\n  @keyframes stelaSlideIn {\n    0% {\n        opacity: 0;\n    }\n\n    100% {\n        opacity: 1;\n    }\n}\n\n@keyframes stelaSlideOut {\n    0% {\n        opacity: 1;\n    }\n\n    100% {\n        opacity: 0;\n    }\n}\n\n@keyframes stelaSlideInThenOut {\n    0% {\n        opacity: 0;\n    }\n\n    25% {\n        opacity: 1;\n    }\n\n    50% {\n        opacity: 1;\n    }\n\n    75% {\n        opacity: 1;\n    }\n\n    100% {\n        opacity: 0;\n    }\n}\n\n  `}},[["MUNL","runtime","vendor-react",0,8,1,2,3,6,10,14,11,15,12,16,18,19]],[88,109,209,284,"PinBetterSaveCommon","PinSaveButtonCommon","PinRepEditButtonCommon","PinPromoteButtonCommon","PinRepSendShareLinkButtonCommon","QuickSaveButtonCommon"]]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/js/www/pin/[id]/visual-search-authdesktop-b5eb04bd59386c2cde63.mjs.map